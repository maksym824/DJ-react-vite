import{u as Wn,j as e,O as ln,b as Un,B as c,H as D,T as d,i as Nn,F as i,e as R,V as je,I as be,C as ve,f as de,L as fe,h as _e,r as n,k as Hn,l as cn,m as Mn,S as Tn,n as On,o as Bn,q as $n,s as Gn,t as Ze,R as Wt,v as oe,w as j,x as ue,y as Ce,z as Ut,A as S,D as Jt,E as ct,G as Vn,J as dn,K as C,P as pn,M as xn,N as hn,U as Yn,Q as nt,W as qn,X as Fe,Y as dt,Z as Nt,$ as Jn,a0 as ye,a1 as un,a2 as Kn,a3 as Qn,a4 as Zn,a5 as Xn,a6 as es,a7 as ts,a8 as ns,a9 as ss,aa as Ee,ab as Te,ac as fn,ad as gn,ae as rs,af as Je,ag as os,ah as Ht,ai as is,aj as Mt,ak as ke,al as as,am as Oe,an as We,ao as Ue,ap as ze,aq as ht,ar as ut,as as ot,at as it,au as ft,av as gt,aw as mt,ax as jt,ay as Tt,az as mn,aA as ls,aB as cs,aC as ds,aD as Ot,aE as Bt,aF as Ie,aG as $t,aH as De,aI as ps,aJ as xs,aK as hs,aL as rt,aM as Gt,aN as bt,aO as yt,aP as Vt,aQ as Ye,aR as Se,aS as wt,aT as we,aU as At,aV as us,aW as fs,aX as jn,aY as bn,aZ as gs,a_ as ms,a$ as js,b0 as bs,b1 as ys,b2 as ws,b3 as vs,b4 as Cs,b5 as Ss,b6 as ks,b7 as yn,b8 as wn,b9 as vn,ba as Ps,bb as Es,bc as Is,bd as Ds,be as st,bf as _s,bg as Kt,bh as Qt,bi as at,bj as zs,bk as Rs,bl as Zt,bm as Xt,bn as en,bo as tn,bp as As,bq as Ls,br as Fs,bs as Ws,bt as Us,bu as Ns}from"./vendor-2cd61aa2.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const p of l)if(p.type==="childList")for(const a of p.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(l){const p={};return l.integrity&&(p.integrity=l.integrity),l.referrerPolicy&&(p.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?p.credentials="include":l.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(l){if(l.ep)return;l.ep=!0;const p=s(l);fetch(l.href,p)}})();const Hs="modulepreload",Ms=function(t){return"/"+t},nn={},Ts=function(r,s,o){if(!s||s.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(s.map(p=>{if(p=Ms(p),p in nn)return;nn[p]=!0;const a=p.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!o)for(let w=l.length-1;w>=0;w--){const k=l[w];if(k.href===p&&(!a||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${f}`))return;const b=document.createElement("link");if(b.rel=a?"stylesheet":Hs,a||(b.as="script",b.crossOrigin=""),b.href=p,document.head.appendChild(b),a)return new Promise((w,k)=>{b.addEventListener("load",w),b.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})})).then(()=>r()).catch(p=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=p,window.dispatchEvent(a),!a.defaultPrevented)throw p})},Os=()=>{const[t]=Wn();return t.get("invite")!=null&&window.location.assign("https://auth.djfan.app/auth/signupdj?invite="+t.get("invite")),e.jsx(e.Fragment,{children:e.jsx(ln,{})})},Bs=()=>{const t=Un();return e.jsxs(c,{display:"flex",flexDir:"column",alignItems:"center",children:[e.jsx(D,{as:"h1",size:"md",children:"Oops..."}),e.jsx(d,{fontSize:"sm",children:Nn(t)?"Invalid page.":"Sorry, an unexpected error has occurred."})]})};function $s(){return e.jsxs(i,{flexDirection:"column",align:"center",justify:"center",px:"20px",py:"40px",color:"#fff",gap:"15px",position:"relative",children:[e.jsx(i,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",bg:"rgba(0, 0, 0, 0.7)",zIndex:"-1"}),e.jsx(i,{bgImage:"url('https://djfan.ams3.cdn.digitaloceanspaces.com/2023/10/dj-home-cta.jpg')",bgSize:"cover",bgRepeat:"no-repeat",bgPos:"center center",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"-2"}),e.jsx(D,{fontSize:"42px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"Convert faceless followers into loyal supporters"}),e.jsx(d,{fontSize:{base:"24px",md:"28px"},lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",maxW:"900px",children:"Use paid memberships to increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."}),e.jsx(R,{mt:"10px",bg:"#fff",size:"lg",fontWeight:"700",as:"a",href:"/",children:"START FOR FREE"})]})}const Gs=[{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9370782.png",name:"Text Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/imagetext.png",name:"Image Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9975051.png",name:"Private Content"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9094095.png",name:"Gallery Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/soundcloud.png",name:"Embed Audio"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/youtube-play.png",name:"Embed Video"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/2753339.png",name:"Tour Dates"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/music-file.png",name:"Upload Audio"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/2631012.png",name:"Sell Audio Files"}];function Vs(){return e.jsx(i,{w:"100%",bg:"#111",py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsxs(i,{flexDirection:"column",gap:{base:"25px",md:"35px"},maxW:{base:"100%",md:"1100px"},justifyContent:"center",alignItems:"center",children:[e.jsx(D,{fontSize:{base:"24px",md:"32px"},lineHeight:"1.2em",color:"#fff",textAlign:"center",px:"35px",children:"What content can you display on your creator feed?"}),e.jsx(i,{w:{base:"90%",md:"1500px"},flexWrap:"wrap",color:"#fff",gap:"25px",align:"center",justifyContent:{base:"space-around",md:"space-between"},children:Gs.map(t=>e.jsxs(je,{w:{base:"45%",md:"unset"},gap:"20px",children:[e.jsx(be,{src:t.src,w:{base:"60px",md:"60px"}}),e.jsx(d,{fontSize:"20px",fontWeight:"600",children:t.name})]},t.name))})]})})}const Ys=[{src:"https://images.unsplash.com/flagged/photo-1569521739482-5443615d3725?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Monetise Your Audience",description:"Offer monthly memberships with exclusive content, updates, guest-list chances, playlists + more."},{src:"https://plus.unsplash.com/premium_photo-1661776849166-3d27b91449bb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80",title:"Engage Your Fanbase",description:"Nurture, reward, and grow your audience. Communicate directly and get to know your most dedicated fans."},{src:"https://images.unsplash.com/photo-1586156938613-769b0353c8fc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Create Consistency",description:"Establish a recurring revenue stream and say goodbye to inconsistent, seasonal income and stress."},{src:"https://images.unsplash.com/photo-1661966522340-a51f578e4017?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Done-For-You Setup",description:"Sit-back while we launch your fully-featured membership solution + provide ongoing support."},{src:"https://plus.unsplash.com/premium_photo-1683133991632-41cb80c0eab6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Your Fans, Your Data",description:"Maintain 100% ownership and control over customer info, audience analytics, and payment gateways."},{src:"https://images.unsplash.com/photo-1550614806-51d8db524675?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Flexible Payouts",description:"Unlike slow-paying venues you can pay yourself whenever you want, or receive scheduled auto payments."}];function qs(){return e.jsx(i,{flexDir:"column",alignItems:"center",py:{base:"30px",md:"50px"},children:e.jsxs(i,{flexWrap:"wrap",gap:"20px",flexDir:"row",maxW:"1100px",justifyContent:{base:"center",md:"space-between"},children:[e.jsxs(i,{bg:"linear-gradient(75deg,#8553F4, #811E86)",direction:"column",justifyContent:"center",w:{base:"90%",md:"100%"},maxW:"1100px",align:"center",py:"30px",px:{base:"20px",md:"30px"},borderRadius:"10px",color:"white",gap:{base:"0px",md:"10px"},children:[e.jsx(D,{fontSize:{base:"28px",md:"36px"},children:"Why join DJfan?"}),e.jsx(d,{textAlign:"center",pt:"6px",fontSize:{base:"18px",md:"22px"},children:"Earn monthly passive income by offering paid memberships directly to eager fans. Increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."})]}),Ys.map(t=>e.jsxs(ve,{borderRadius:"10px",w:{base:"90%",md:"32%"},overflow:"hidden",textAlign:"center",border:"2px solid #111",children:[e.jsx(be,{maxH:"200px",objectFit:"cover",src:t.src}),e.jsxs(je,{gap:"5px",px:"15px",py:{base:"15px",md:"20px"},children:[e.jsx(D,{fontSize:"20px",fontWeight:"700",children:t.title}),e.jsx(d,{w:"100%",fontSize:"16px",fontWeight:"500",children:t.description})]})]},t.title))]})})}const Js=()=>e.jsx(c,{w:"100%",backgroundImage:"url(https://djfan.ams3.cdn.digitaloceanspaces.com/2023/07/bg-dj.jpg)",display:"flex",justifyContent:"center",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},children:e.jsx(i,{maxW:{base:"100%",md:"1024px"},alignItems:"center",children:e.jsxs(je,{w:"100%",gap:"20px",children:[e.jsx(D,{color:"white",fontSize:{base:"36px",md:"58px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Increase your income by rewarding your top fans"}),e.jsx(d,{color:"white",fontWeight:"500",fontSize:{base:"20px",md:"24px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:"We give you all the tools to engage & grow your audience. Get paid with subscriptions, products, and more."}),e.jsx(de,{children:e.jsx(R,{onClick:()=>{window.open("https://auth.djfan.app/auth/signupdj","_self")},children:"CREATE ACCOUNT"})}),e.jsx(de,{gap:"15px",children:e.jsxs(d,{as:fe,display:"flex",alignItems:"center",fontSize:"12px",color:"white",fontWeight:"600",lineHeight:"1em",gap:"5px",cursor:"pointer",href:"https://dj.djfan.app/partners-registration",_hover:{color:"cyan"},children:["PARTNER PROGRAM ",e.jsx(_e,{})]})})]})})}),Ks=()=>e.jsx(i,{w:"100%",bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(i,{maxW:{base:"100%",md:"1024px"},justifyContent:"center",alignItems:"center",children:e.jsxs(je,{w:"100%",gap:"20px",children:[e.jsxs(D,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:["The creator economy is valued at"," ",e.jsx("span",{style:{padding:"0px 5px",background:"cyan",color:"#111"},children:"$250 billion"})," ","and could double by 2027. ... will you be part of it?"]}),e.jsxs(d,{color:"white",fontWeight:"500",fontSize:{base:"14px",md:"14px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:["Source:"," ",e.jsx("a",{rel:"noreferrer",target:"_blank",href:"https://www.goldmansachs.com/intelligence/pages/the-creator-economy-could-approach-half-a-trillion-dollars-by-2027.html#:~:text=As%20the%20ecosystem%20grows%2C%20the,%24250%20billion%20today%2C%20Sheridan%20writes.",children:"Goldman Sachs"})]})]})})}),Qs=()=>{const[t,r]=n.useState(5e5),s=Math.round(.005*t*7.5);return e.jsxs(je,{py:"30px",bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",children:[e.jsx(be,{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/exchange-rate-1.png",width:{base:"55px",md:"75px"}}),e.jsx(D,{color:"#fff",py:"10px",fontSize:{base:"20px",md:"28px"},lineHeight:{base:"1em",md:"1em"},textAlign:"center",children:"Calculate Potential Creator Earnings"}),e.jsxs(je,{bg:"#111",borderRadius:"lg",boxShadow:"xl",py:"20px",w:{base:"90%",md:"500px"},overflow:"hidden",border:"2px solid cyan",children:[e.jsx(D,{color:"#fff",fontSize:{base:"18px",md:"20px"},mb:"10px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"How many followers do you have?"}),e.jsxs(de,{color:"white",justifyContent:"flex-start",w:"100%",maxW:"80%",children:[e.jsx(Hn,{}),e.jsx(cn,{}),e.jsx(Mn,{})," ",e.jsx(D,{size:"26px",color:"white",children:t})]}),e.jsxs(Tn,{maxW:"80%","aria-label":"Number of Users",value:t,min:1e5,max:2e6,onChange:o=>r(o),defaultValue:5e4,children:[e.jsx(On,{children:e.jsx(Bn,{})}),e.jsx($n,{boxSize:4,borderColor:"gray.400",borderWidth:1})]}),e.jsx(i,{children:e.jsxs(c,{color:"white",fontSize:"20px",children:["Earn an extra"," ",e.jsxs("span",{style:{color:"cyan",fontWeight:"600"},children:["$",s]})," ","per month"]})})]})]})};function Zs(){return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(c,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(i,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(i,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(fe,{href:"/",children:e.jsx(be,{id:"logo",w:"120px",src:"https://files.djfan.app/images/djfan-beta.png"})}),e.jsx(R,{onClick:()=>{window.open("https://auth.djfan.app/auth/signindj","_self")},children:"SIGN IN"})]})})}),e.jsx(Js,{}),e.jsx(Qs,{}),e.jsx(qs,{}),e.jsx(Vs,{}),e.jsx(Ks,{}),e.jsx($s,{}),e.jsx(i,{py:"15px",fontSize:"12px",justifyContent:"center",bg:"#111",color:"#fff",children:"© 2023 DJfan Ltd. 1 Quality Court, Chancery Lane, London, WC2A 1HR"})]})}const Xs=({to:t})=>(console.log(t),e.jsx(Zs,{})),V=Gn.create({baseURL:"https://api-dj.djfan.app",withCredentials:!0}),er=()=>V.get("/dj/me").then(t=>t.data.result),Be=()=>Ze({queryKey:["userAccount"],queryFn:()=>er()}),Cn=t=>V.post("/dj/me",t),tr=()=>V.get("/dj/me/change_email"),nr=()=>V.get("/dj/me/reset_password"),sr=()=>V.delete("/dj/me/delete_account"),rr=t=>{const r=()=>V.get(`/dj/me/profile_url/${t}`).then(s=>s.data.result);return Ze({queryKey:["usernameCheck"],queryFn:()=>r()})},Sn=()=>{const t=()=>{window.open("https://auth.djfan.app/auth/signout","_self")};return e.jsx(R,{onClick:t,children:"Sign Out"})},or=()=>V.get("/dj/me/details").then(t=>t.data.result),Ke=()=>Ze({queryKey:["user"],queryFn:()=>or()}),Qe=t=>V.post("/dj/me/details",t),ir=()=>V.patch("/dj/me/finishsignup",{});function ar(){const{data:t,isLoading:r}=Ke(),s=!!(t!=null&&t.profile_picture);return r?e.jsx("div",{children:"Loading..."}):(s||(window.location.href="/create-account"),e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(c,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",w:"100%",children:e.jsx(i,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",children:e.jsx(i,{w:"100%",alignItems:"center",px:{base:"10px",md:"0px"},py:"10px",justifyContent:"center",children:e.jsx(be,{id:"logo",w:"120px",src:"https://files.djfan.app/images/djfan-beta.png"})})})}),e.jsx(i,{w:"100%",flexGrow:1,bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(i,{w:"100%",justifyContent:"center",alignItems:"center",children:e.jsxs(je,{w:"100%",gap:"20px",children:[e.jsx(D,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Your profile is being reviewed, and we will inform you when ready to use."}),e.jsx(Sn,{})]})})})]}))}const kn=n.createContext({}),Pn=({children:t})=>{const[r,s]=n.useState(""),[o,l]=n.useState(""),[p,a]=n.useState(""),[f,u]=n.useState(""),[b,w]=n.useState(""),[k,m]=n.useState(""),[_,x]=n.useState(""),[I,g]=n.useState(""),[B,M]=n.useState(""),[q,U]=n.useState(""),[$,y]=n.useState(""),[Y,G]=n.useState(null),[T,N]=n.useState(null),[ee,ie]=n.useState(""),[P,O]=n.useState("");return e.jsx(kn.Provider,{value:{displayName:r,firstName:o,lastName:p,profileURL:f,shortBio:b,location:k,country:_,countryCode:I,instagram:B,soundcloud:q,website:$,profileImage:Y,coverImage:T,profilePreview:ee,coverPreview:P,setDisplayName:s,setFirstName:l,setLastName:a,setProfileURL:u,setShortBio:w,setLocation:m,setCountry:x,setCountryCode:g,setInstagram:M,setSoundcloud:U,setWebsite:y,setProfileImage:G,setCoverImage:N,setProfilePreview:ie,setCoverPreview:O},children:t})},Xe=()=>{const t=Wt.useContext(kn);if(t===void 0)throw new Error("useCreateAccountContext must be used within a CreateAccountContextProvider");return t},lr={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},cr=()=>{const{displayName:t,firstName:r,lastName:s,setDisplayName:o,setFirstName:l,setLastName:p}=Xe();return e.jsxs(oe,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(D,{mb:"5px",fontSize:"20px",children:"Welcome to DJfan"}),e.jsx(D,{fontSize:"14px",fontWeight:"500",children:"Add your names to complete your account."})]}),e.jsx(j,{children:e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Ut,{color:"#111"})}),e.jsx(S,{type:"text",placeholder:"Artist Name",value:t,onChange:a=>o(a.target.value)})]})}),e.jsx(j,{children:e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Jt,{color:"#111"})}),e.jsx(S,{type:"text",placeholder:"First Name",value:r,onChange:a=>l(a.target.value)})]})}),e.jsxs(j,{children:[e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Jt,{color:"#111"})}),e.jsx(S,{type:"text",placeholder:"Last Name",value:s,onChange:a=>p(a.target.value)})]}),e.jsx(d,{...lr,children:"100% Privacy. Only your DJ name will be public."})]})]})},dr=()=>{const{profileURL:t,setProfileURL:r}=Xe(),[s,o]=n.useState(!1),{data:l={},refetch:p}=rr(t),a=n.useMemo(()=>/^[a-zA-Z0-9\-_]{3,50}$/.test(t)?!!l:!1,[t,l]),f=u=>{let b=u.target.value;const w=/[^a-z0-9\-_]/;b=b.toLowerCase(),b=b.replace(w,""),b=b.substring(0,50),r(b)};return n.useEffect(()=>{t&&t.length>2&&p()},[t]),e.jsxs(oe,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(D,{mb:"5px",fontSize:"20px",children:"Choose a Profile URL"}),e.jsx(D,{fontSize:"14px",fontWeight:"500",children:"Your Profle URL creates your profile page link"})]}),e.jsx(j,{children:e.jsxs(ue,{size:"md",children:[e.jsx(ct,{children:"djfan.app/artists/"}),e.jsx(S,{type:"text",id:"profileURL",placeholder:"profileURL",value:t,onChange:f,isInvalid:s&&!a,focusBorderColor:!s||t.length===0?"black.500":a?"green.500":"red.500",onFocus:()=>o(!0)})]})})]})},pr=()=>{const{instagram:t,soundcloud:r,website:s,setInstagram:o,setSoundcloud:l,setWebsite:p}=Xe();return e.jsxs(oe,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(D,{mb:"5px",fontSize:"20px",children:"Add Profile Links"}),e.jsx(D,{fontSize:"14px",fontWeight:"500",children:"Link to your website & other social profiles, why are we asking for this? We use Instagram to prevent impersonators and verify your DJfan profile."})]}),e.jsxs(j,{children:[e.jsx(c,{border:"2px solid #3e0080",overflow:"hidden",borderRadius:"5px",children:e.jsxs(ue,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(ct,{bgGradient:"linear(to-r,#5c03bc, #e536ab)",...Pt,children:e.jsx(cn,{fontSize:"24px",color:"white"})}),e.jsx(S,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Instagram Username",focusBorderColor:"#ffffff00",value:t,onChange:a=>o(a.target.value)})]})}),t&&e.jsxs(fe,{href:`https://instagram.com/${t}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["instagram.com/",e.jsx("b",{children:t})]})]}),e.jsxs(j,{children:[e.jsx(c,{border:"2px solid #FF5500",overflow:"hidden",borderRadius:"5px",children:e.jsxs(ue,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(ct,{bg:"#FF5500",...Pt,children:e.jsx(Vn,{fontSize:"25px",color:"white"})}),e.jsx(S,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"SoundCloud Username",focusBorderColor:"#ffffff00",value:r,onChange:a=>l(a.target.value)})]})}),r&&e.jsxs(fe,{href:`https://soundcloud.com/${r}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["soundcloud.com/",e.jsx("b",{children:r})]})]}),e.jsxs(j,{children:[e.jsx(c,{border:"2px solid #111",overflow:"hidden",borderRadius:"5px",children:e.jsxs(ue,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(ct,{bg:"#fff",...Pt,borderRight:"2px solid #111",children:e.jsx(dn,{fontSize:"20px",color:"#111"})}),e.jsx(S,{type:"url",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Website e.g. artistname.com",focusBorderColor:"#ffffff00",value:s,onChange:a=>p(a.target.value)})]})}),s&&e.jsxs(c,{as:"span",pt:"10px",display:"flex",pl:"10px",children:["Website: ",e.jsxs(fe,{href:`https://${s}`,target:"_blank",rel:"noopener noreferrer",_hover:{textDecoration:"underline"},children:["https://",e.jsx("b",{children:s})]})]})]})]})},Pt={borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",p:"0px 2px 0px 0px",width:"40px",justifyContent:"center"},En=async()=>{const t=await V.get("/dj/countries"),{data:r}=t;return r??[]},xr=()=>{const[t,r]=n.useState([]),{setCountry:s,shortBio:o,setShortBio:l,location:p,setLocation:a,countryCode:f,setCountryCode:u}=Xe();return n.useEffect(()=>{En().then(b=>{r(b)})},[]),e.jsxs(oe,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(D,{mb:"5px",fontSize:"20px",children:"Basic Profile Information"}),e.jsx(c,{fontSize:"14px",fontWeight:"500",children:"You can edit all of these later"})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Short Bio"}),e.jsx(S,{type:"text",placeholder:"e.g. DJ & Producer",value:o,onChange:b=>l(b.target.value)}),e.jsxs(pn,{children:[e.jsx(xn,{children:e.jsx(c,{...hr,color:"#a600ff",cursor:"pointer",textDecoration:"underline",children:"More Examples"})}),e.jsxs(hn,{_focus:{boxShadow:"none"},children:[e.jsxs(oe,{p:"15px",children:[e.jsx(D,{fontSize:"15px",fontWeight:"600",children:"Make it short & sweet!"}),e.jsxs(Yn,{fontSize:"13px",children:[e.jsx(nt,{children:"Label Owner & Artist"}),e.jsx(nt,{children:"A wild Artist from Ibiza"}),e.jsx(nt,{children:"Electronic Musician"}),e.jsx(nt,{children:"Label Owner & Producer"}),e.jsx(nt,{children:"Turntablist & Sound Curator"})]})]}),e.jsx(qn,{})]})]})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Main Location"}),e.jsx(S,{type:"text",placeholder:"e.g. Ibiza or London",value:p,onChange:b=>a(b.target.value)})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Where are you from?"}),e.jsx(Fe,{placeholder:"Select Country",value:f,onChange:b=>{const w=b.target.value,k=w?(t.find(m=>m.country_code===w)||{}).country:"";s(k??""),u(w)},children:t.map((b,w)=>e.jsx("option",{value:b.country_code,children:b.country},w))})]})]})},hr={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},In=t=>{const r=new FormData;return r.append("image",t),V.post("/dj/me/profile_picture",r)},Dn=t=>{const r=new FormData;return r.append("image",t),V.post("/dj/me/cover_photo",r)},ur={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},fr=()=>{const{profileImage:t,setProfileImage:r,coverImage:s,setCoverImage:o,profilePreview:l,setProfilePreview:p,coverPreview:a,setCoverPreview:f}=Xe(),u=x=>{if(!x.target.files)return;const I=x.target.files[0];if(I){r(I);const g=new FileReader;g.readAsDataURL(I),g.onloadend=()=>{p(g.result)}}},b=x=>{if(!x.target.files)return;const I=x.target.files[0];if(I){o(I);const g=new FileReader;g.readAsDataURL(I),g.onloadend=()=>{f(g.result)}}},w=()=>{r(null),p("")},k=()=>{o(null),f("")},m=async()=>{try{await In(t)}catch(x){console.log(x)}},_=async()=>{try{await Dn(s)}catch(x){console.log(x)}};return n.useEffect(()=>{t&&m()},[t]),n.useEffect(()=>{s&&_()},[s]),e.jsxs(oe,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(D,{mb:"5px",fontSize:"20px",children:"Profile & Cover Photos"}),e.jsx(D,{fontSize:"14px",fontWeight:"500",children:"Finally, let's add some photos!"})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Upload Profile Avatar"}),e.jsx(de,{position:"relative",children:e.jsxs("label",{children:[e.jsx(S,{type:"file",accept:"image/*",onChange:u,style:{display:"none"}}),e.jsx(R,{as:"span",children:"Select Image"})]})})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Upload Cover Photo"}),e.jsx(de,{position:"relative",children:e.jsxs("label",{children:[e.jsx(S,{type:"file",accept:"image/*",onChange:b,style:{display:"none"}}),e.jsx(R,{as:"span",children:"Select Image"})]})})]}),e.jsxs(c,{position:"relative",mt:"2",children:[e.jsxs(oe,{py:"30px",alignItems:"center",position:"relative",bgImage:a,bgSize:"cover",bgColor:"grey",bgRepeat:"no-repeat",bgPos:"center",opacity:"0.7",children:[a&&e.jsx(c,{zIndex:"10","aria-label":"Remove image",position:"absolute",bg:"black",top:"10px",right:"10px",onClick:k,borderRadius:"100%",p:"2px",children:e.jsx(dt,{color:"white"})}),e.jsxs(je,{position:"relative",children:[l&&e.jsx(c,{"aria-label":"Remove image",position:"absolute",bg:"black",top:"-5px",right:"-15px",onClick:w,borderRadius:"100%",p:"2px",children:e.jsx(dt,{color:"white"})}),e.jsx(Nt,{bg:"black",src:l,showBorder:!0,borderColor:"cyan",size:"lg"})]})]}),e.jsx(d,{...ur,children:"Begin uploading to preview your profile images."})]})]})},sn={transform:"scale(0.85) translateY(-24px)"},gr=Jn({components:{Form:{variants:{floating:{container:{_focusWithin:{label:{...sn}},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label, textarea:not(:placeholder-shown) ~ label":{...sn},label:{top:0,left:25,zIndex:2,position:"absolute",backgroundColor:"white",pointerEvents:"none",mx:3,px:1,my:2,transformOrigin:"left top"}}}}}}}),rn=t=>new Promise(r=>setTimeout(r,t));function _n(){const{data:t,refetch:r}=Ke(),s=ye(),[o,l]=n.useState(1),[p,a]=n.useState(20),f=[{title:"1",description:"Names"},{title:"2",description:"Username"},{title:"3",description:"Basics"},{title:"4",description:"Links"},{title:"5",description:"Photos"}],{displayName:u,firstName:b,lastName:w,profileURL:k,shortBio:m,country:_,countryCode:x,location:I,instagram:g,soundcloud:B,website:M,profileImage:q,coverImage:U,setDisplayName:$,setFirstName:y,setLastName:Y,setProfileURL:G,setShortBio:T,setLocation:N,setCountry:ee,setCountryCode:ie,setInstagram:P,setSoundcloud:O,setWebsite:X,setProfilePreview:le,setCoverPreview:F}=Xe(),[h,H]=n.useState(!1),L=o===1&&!!u&&!!b&&!!w,J=o===2&&!!k&&k.length>2,K=o===3&&!!m&&!!I,ae=o===4&&!!g||!!B||!!M,v=o===5&&(!!q&&!!U||!!(t!=null&&t.profile_picture)&&!!(t!=null&&t.cover_photo));n.useEffect(()=>{t&&(t.display_name&&$(t.display_name),t.first_name&&y(t.first_name),t.last_name&&Y(t.last_name),t.profile_url&&G(t.profile_url),t.title&&T(t.title),t.location&&N(t.location),t.country&&ee(t.country),t.country_code&&ie(t.country_code),t.instagram&&P(t.instagram),t.soundcloud&&O(t.soundcloud),t.website&&X(t.website),t.profile_picture&&le(t.profile_picture),t.cover_photo&&F(t.cover_photo))},[t]);const W=async()=>{switch(o){case 1:if(!L)break;H(!0);try{await Cn({first_name:b,last_name:w}),await Qe({display_name:u}),l(o+1),a(p+20)}catch(A){console.log(A)}finally{H(!1)}break;case 2:if(!J)break;H(!0);try{await Qe({profile_url:k}),l(o+1),a(p+20)}catch(A){console.log(A)}finally{H(!1)}break;case 3:if(!K)break;H(!0);try{await Qe({title:m,location:I,country:_,country_code:x}),l(o+1),a(p+20)}catch(A){console.log(A)}finally{H(!1)}break;case 4:if(!ae)break;H(!0);try{await Qe({instagram:g,soundcloud:B,website:M}),l(o+1),a(p+20)}catch(A){console.log(A)}finally{H(!1)}break}};return e.jsx(un,{theme:gr,children:e.jsxs(i,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",minHeight:"100vh",flexDirection:"column",children:[e.jsxs(i,{bg:"#111",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",position:"relative",children:[e.jsx(de,{maxW:"1000px",p:"10px",pr:"15px",bg:"#111",justifyContent:"space-between",children:e.jsx(c,{as:"a",href:"/",children:e.jsx(be,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),e.jsx(c,{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",children:e.jsx(Sn,{})})]}),e.jsxs(je,{pt:"20px",children:[e.jsx(oe,{pb:"10px",children:e.jsx(Kn,{size:"sm",index:o-1,children:f.map((A,te)=>e.jsxs(Qn,{children:[e.jsx(Zn,{children:e.jsx(Xn,{complete:e.jsx(es,{})})}),e.jsx(ts,{})]},te))})}),e.jsxs(c,{width:"100%",bg:"#fff",maxWidth:"400px",as:"form",overflow:"hidden",display:"flex",flexDirection:"column",borderRadius:"10px",border:"solid 2px cyan",children:[o===1?e.jsx(cr,{}):o===2?e.jsx(dr,{}):o===3?e.jsx(xr,{}):o===4?e.jsx(pr,{}):e.jsx(fr,{}),e.jsx(c,{position:"relative",bgColor:"#111",p:"15px",borderTop:"2px solid cyan",children:e.jsxs(i,{w:"100%",bgColor:"#111",justifyContent:o===1?"flex-end":"space-between",children:[e.jsx(R,{onClick:()=>{l(o-1),a(p-20)},isDisabled:o===1,bg:"#fff",color:"#111",w:"7rem",display:o===1?"none":"block",children:"Back"}),o!==5?e.jsx(R,{w:"7rem",isDisabled:o===1&&!L||o===2&&!J||o===3&&!K||o===4&&!ae,onClick:W,bg:"#fff",color:"#111",variant:"solid",opacity:"1",isLoading:h,children:"Continue"}):e.jsx(R,{w:"7rem",colorScheme:"green",variant:"solid",isDisabled:!v,onClick:async()=>{var A;try{(A=(await ir()).data)!=null&&A.result&&(s({title:"Account created.",description:"We've created your account for you.",status:"success",duration:3e3,isClosable:!0}),await rn(1e3),await r(),await rn(1e3),window.location.href="https://dj.djfan.app")}catch(te){console.log(te)}},children:"FINISH"})]})})]})]})]})})}const mr=()=>{const{data:t,isLoading:r}=Be(),s=(t==null?void 0:t.dj)||!1;return r?e.jsx(e.Fragment,{}):t?s==!0&&!(t!=null&&t.profile_active)?t!=null&&t.profile_done?e.jsx(ar,{}):e.jsx(Pn,{children:e.jsx(_n,{})}):e.jsx(ln,{}):e.jsx(Xs,{to:"https://auth.djfan.app/auth/signindj"})},me=({href:t,text:r})=>e.jsx(c,{as:"a",href:t,display:"flex",fontWeight:"500",_hover:{color:"#bf0fff"},children:r}),jr=()=>{var p,a;const{data:t}=Be(),r=(t==null?void 0:t.dj)||!1,s=(t==null?void 0:t.admin)||((p=t==null?void 0:t.me)==null?void 0:p.admin)||!1,o=(t==null?void 0:t.partner)||((a=t==null?void 0:t.me)==null?void 0:a.partner)||!1,l=(t==null?void 0:t.loginas)||!1;return e.jsxs(e.Fragment,{children:[l&&e.jsx(c,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:l?"pointer":"not-allowed",onClick:async()=>{await V.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"}),e.jsxs(c,{as:"a",href:"/create",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#d932ac",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(ns,{}),"Home"]}),e.jsxs(c,{as:"a",href:"/settings",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#6b46c1",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(Ut,{}),"Profile"]}),(o||s)&&!l&&e.jsxs(c,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#345678",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:"pointer",onClick:async()=>{window.location.href="/partners"},children:[e.jsx(ss,{}),"Partners"]}),e.jsxs(oe,{px:"20px",py:"20px",children:[o&&!r&&e.jsxs(e.Fragment,{children:[e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Income"}),e.jsx(me,{href:"/payouts",text:"Payouts"}),e.jsx(me,{href:"/earnings",text:"Earnings"}),e.jsx(me,{href:"/invitations",text:"Invitations"}),e.jsx(c,{py:"10px",children:e.jsx(Ee,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Settings"}),e.jsx(me,{href:"/settings",text:"Account"})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:e.jsx(fe,{href:"/create",children:"Create"})}),e.jsx(me,{href:"/create/image",text:"Image Post"}),e.jsx(me,{href:"/create/video",text:"Video Post"}),e.jsx(me,{href:"/create/audio",text:"Audio Post"}),e.jsx(me,{href:"/event",text:"Tour Date"}),e.jsx(me,{href:"/product",text:"Product"}),e.jsx(me,{href:"/create/text",text:"Text Post"}),e.jsx(c,{py:"10px",children:e.jsx(Ee,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Insights"}),e.jsx(me,{href:"/fans",text:"Your Fans"}),e.jsx(c,{py:"10px",children:e.jsx(Ee,{borderColor:"#6b46c1"})}),(!l||s)&&e.jsxs(e.Fragment,{children:[e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Income"}),e.jsx(me,{href:"/payouts",text:"Payouts"}),e.jsx(me,{href:"/earnings",text:"Earnings"})]}),e.jsx(me,{href:"/invitations",text:"Invitations"}),e.jsx(c,{py:"10px",children:e.jsx(Ee,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Settings"}),e.jsx(me,{href:"/settings",text:"Account"})]}),e.jsx(c,{fontSize:"16px",fontWeight:"500",cursor:"pointer",onClick:()=>{window.open("https://auth.djfan.app/auth/signout","_self")},children:"Sign Out"}),e.jsx(c,{py:"10px",children:e.jsx(Ee,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:e.jsx(fe,{href:"https://help.djfan.app/?dj",target:"_new",children:"Support"})})]}),l&&e.jsx(c,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:l?"pointer":"not-allowed",onClick:async()=>{await V.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"})]})},pe=()=>{const{data:t}=Be(),{isOpen:r,onOpen:s,onClose:o}=Te();return e.jsx(c,{children:e.jsx(i,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",children:e.jsxs(i,{w:"100%",maxW:"1000px",alignItems:"center",justifyContent:"space-between",p:"10px",pr:"15px",children:[e.jsx(i,{w:"30%",justifyContent:"flex-start",display:{base:"none",md:"flex"},children:e.jsxs(i,{as:"a",href:"/",color:"#fff",lineHeight:"1em",gap:"5px",fontWeight:"600",fontSize:"18px",py:"5px",alignItems:"center",_hover:{color:"cyan"},children:[e.jsx(fn,{fontSize:"12px"}),"Home"]})}),e.jsxs(i,{w:"60%",justifyContent:{base:"flex-start",md:"center"},children:[!(t!=null&&t.loginas)&&e.jsx(c,{children:e.jsx(fe,{href:"/",children:e.jsx(be,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),(t==null?void 0:t.loginas)&&e.jsx(d,{fontSize:"16",color:"#FFF",paddingLeft:5,children:(t==null?void 0:t.username)&&(t==null?void 0:t.username.toString().substring(0,28))})]}),e.jsx(i,{w:"30%",justifyContent:"flex-end",children:e.jsx(c,{as:"a",onClick:s,color:"#fff",cursor:"pointer",children:e.jsx(gn,{viewBox:"0 0 24 24",width:"30px",height:"30px",color:"white",_hover:{width:"35px",height:"35px"},transition:"all 0.3s ease-in-out",children:e.jsx("path",{fill:"currentColor",d:"M0,4c0-.55,.45-1,1-1H18c.55,0,1,.45,1,1s-.45,1-1,1H1c-.55,0-1-.45-1-1Zm18,15H1c-.55,0-1,.45-1,1s.45,1,1,1H18c.55,0,1-.45,1-1s-.45-1-1-1Zm5-8H6c-.55,0-1,.45-1,1s.45,1,1,1H23c.55,0,1-.45,1-1s-.45-1-1-1Z"})})})}),e.jsxs(rs,{isOpen:r,placement:"right",onClose:o,children:[e.jsx(Je,{}),e.jsx(os,{p:"0",maxW:{base:"50%",md:"220px"},id:"content",children:e.jsxs(Ht,{p:"0",children:[e.jsxs(de,{bg:"#111",p:"15px",justifyContent:"space-between",children:[e.jsx(c,{color:"#fff",fontWeight:"600",fontSize:"18px",children:"Creator Menu"}),e.jsx(c,{as:"a",href:"",onClick:o,right:"15px",top:"15px",cursor:"pointer",color:"#fff",_hover:{color:"#5c03bc"},children:e.jsx(dt,{fontSize:"18px"})})]}),e.jsx(jr,{})]})})]})]})})})},br=[{id:1,text:"Post",imageUrl:"https://files.djfan.app/images/create.webp",linkUrl:"/create"},{id:2,text:"Product",imageUrl:"https://files.djfan.app/images/product.webp",linkUrl:"/product"},{id:5,text:"My page",imageUrl:"https://files.djfan.app/images/mydjfan-new.webp",linkUrl:""},{id:4,text:"My Fans",imageUrl:"https://files.djfan.app/images/fans.webp",linkUrl:"/fans"},{id:3,text:"Earnings",imageUrl:"https://files.djfan.app/images/earnings.webp",linkUrl:"/earnings"},{id:6,text:"Settings",imageUrl:"https://files.djfan.app/images/settings.webp",linkUrl:"/settings"},{id:7,text:"Invitations",imageUrl:"https://files.djfan.app/images/invitations.webp",linkUrl:"/invitations"},{id:8,text:"Chat",imageUrl:"https://files.djfan.app/images/mydjfan-new.webp",linkUrl:"/chat"},{id:9,text:"Partners",imageUrl:"https://files.djfan.app/images/partners.webp",linkUrl:"/partners"}];function yr(){var p,a;const{data:t}=Be(),r=(t==null?void 0:t.dj)||!1,s=(t==null?void 0:t.admin)||((p=t==null?void 0:t.me)==null?void 0:p.admin)||!1,o=(t==null?void 0:t.partner)||((a=t==null?void 0:t.me)==null?void 0:a.partner)||!1,l=(t==null?void 0:t.loginas)||!1;return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsx(i,{flexDirection:"column",gap:"20px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:e.jsx(i,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"20px",children:br.reduce(function(f,u){if(u.id==5&&(u.linkUrl="https://djfan.app/artists/"+(t==null?void 0:t.profile_url)),l){if(!s&&u.id==3||u.id==8)return f}else if(o&&!r&&[1,2,4,5,8].includes(u.id)||!o&&r&&[9].includes(u.id))return f;return f.push({id:u.id,text:u.text,imageUrl:u.imageUrl,linkUrl:u.linkUrl}),f},[]).map((f,u)=>e.jsx(fe,{isExternal:(f==null?void 0:f.id)==5,href:(f==null?void 0:f.linkUrl)??"/",w:{base:"45%",md:"30%"},children:e.jsx(c,{w:{base:"100%",md:"100%"},h:"150px",bgImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${f.imageUrl})`,bgPos:"center",bgSize:"cover",borderRadius:"10px",position:"relative",backgroundColor:"#000",children:e.jsx(is,{h:"100%",children:e.jsx(d,{fontSize:"24px",color:"white",fontWeight:"600",children:f.text})})})},u))})})})]})}const $e=async t=>{const r=await V.get(`/dj/post/token?_post_type=${t}`),{data:{data:s}}=r;return s.post_token?s.post_token:""},Ne=async(t,r,s)=>{const o={onUploadProgress:s},l=new FormData;return l.append("file",t),await V.post(`/dj/post/${r}/upload`,l,o)},qe=async(t,r,s,o,l)=>{if(!r)return;const p=new FormData;return p.append("file",t),await V.post(`/dj/post/${r}/upload/large`,p,{headers:{"Content-Type":"multipart/form-data","File-Total-Chunks":s.toString(),"File-Chunk-Number":o.toString(),"File-Name":l},timeout:2e4})};var ge=(t=>(t[t.EVERYONE=1]="EVERYONE",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(ge||{}),xe=(t=>(t[t.EMBED=1]="EMBED",t[t.UPLOAD=0]="UPLOAD",t))(xe||{}),Le=(t=>(t[t.SINGLE=1]="SINGLE",t[t.MULTIPLE=2]="MULTIPLE",t))(Le||{}),He=(t=>(t.image="image",t.video="video",t.audio="audio",t.text="text",t.product="product",t.event="event",t))(He||{}),zn=(t=>(t[t.Text=1]="Text",t[t.Video=2]="Video",t[t.Audio=3]="Audio",t[t.Images=4]="Images",t))(zn||{}),Rn=(t=>(t[t.ALL=0]="ALL",t[t.FOLLOWERS=1]="FOLLOWERS",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(Rn||{});const vt=async(t,r)=>await V.post(`/dj/post/${r}`,t),wr=1024*1024*1024,Et=10*1024*1024,vr=()=>{const[t,r]=n.useState(xe.UPLOAD),{getRootProps:s,getInputProps:o,isDragActive:l,acceptedFiles:p}=Mt({accept:{"video/*":[".mkv",".3gpp",".webm",".avi",".mp4",".mov"]}}),a=ke(),f=ye(),[u,b]=n.useState(""),[w,k]=n.useState(0),[m,_]=n.useState(!1),[x,I]=n.useState(null),[g,B]=n.useState(void 0),[M,q]=n.useState(""),[U,$]=n.useState(""),[y,Y]=n.useState([]),[G,T]=n.useState(0),[N,ee]=n.useState(!1),ie=h=>{const H=Math.round(h.loaded*100/(h.total||0));k(H)},P=async()=>{const h=await $e(He.video);b(h)};n.useEffect(()=>{P()},[]),n.useEffect(()=>{p.length&&u.length&&le()},[p]);const O=h=>{const H=Math.ceil(h.size/Et),L=[];let J=0;for(let K=0;K<H;K++){const ae=Math.min(J+Et,h.size),v=h.slice(J,ae);L.push(v),J=ae}Y(L),T(H)},X=async()=>{var ae;_(!0);const h=2,H=[],L=[],J=[],K=async(v,W)=>{var te;try{const Q=await qe(v,u,G,W+1,(x==null?void 0:x.name)??"");(te=Q==null?void 0:Q.data)!=null&&te.result?k(Math.round((W+1)/G*100)):(console.error(`Chunk ${W+1} failed to upload`),J.push(W))}catch{console.error(`Chunk ${W+1} failed to upload`),J.push(W)}const A=L.indexOf(W);A!==-1&&L.splice(A,1)};for(let v=0;v<G;v++){if(J.includes(v))continue;const W=y[v];if(L.length<h)L.push(v),K(W,v);else{H.push({chunk:W,chunkIndex:v}),await Promise.race(L.map(te=>new Promise(Q=>{const Re=setInterval(()=>{L.indexOf(te)===-1&&(clearInterval(Re),Q(te))},1e3)})));const A=H.shift();if(A){const{chunk:te,chunkIndex:Q}=A;L.push(Q),K(te,Q)}}}if(await Promise.all(L.map(v=>new Promise(W=>{const A=setInterval(()=>{L.indexOf(v)===-1&&(clearInterval(A),W(v))},1e3)}))),J.length>0)for(const v of J){const W=y[v],A=await qe(W,u,G,v+1,(x==null?void 0:x.name)??"");(ae=A==null?void 0:A.data)!=null&&ae.result||console.error(`Chunk ${v+1} failed to upload`)}_(!1),k(0),Y([])};n.useEffect(()=>{y.length&&(x!=null&&x.name)&&X()},[y,x]);const le=async()=>{_(!0);try{const h=p[0];if(h.size>wr)return;if(I(p[0]),h.size<=Et){const H=await Ne(p[0],u,ie),{data:L}=H;console.log("data",L),L.result||f({description:L.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else O(h)}catch(h){console.log(h)}finally{_(!1),k(0)}},F=async()=>{const h={body:M,accesslevel_id:g};t===xe.EMBED?(h.embedded=1,h.location=U):(h.embedded=0,h.files=[(x==null?void 0:x.name)??""]),ee(!0);try{await vt(h,u),f({description:"Post created",status:"success",duration:3e3,isClosable:!0}),a("/create")}catch(H){console.log("err",H)}finally{ee(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(pe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(i,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(i,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(as,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Video Post"})]}),e.jsxs(i,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(d,{my:"10px",children:"Select video post type"}),e.jsxs(i,{height:"min-content",mt:"1",children:[e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===xe.EMBED?"#a37cf0":"white",onClick:()=>r(xe.EMBED),children:"Embed Video"}),e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===xe.UPLOAD?"#a37cf0":"white",onClick:()=>r(xe.UPLOAD),children:"Upload Video"}),m&&e.jsx(c,{padding:4,children:e.jsx(Oe,{})})]}),t===xe.UPLOAD?e.jsxs(c,{mt:"20px",children:[e.jsxs(c,{border:l?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:l?"#f5f5f5":"white",...s(),children:[e.jsx("input",{...o()}),e.jsx(d,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are avi, mp4, mov. Max file size 1Gb."})]}),m?e.jsxs(c,{mt:"10px",children:[e.jsxs(d,{mb:"10px",children:["Uploading ",x==null?void 0:x.name]}),e.jsx(We,{hasStripe:!0,value:w})]}):x?e.jsxs(i,{alignItems:"center",mt:"10px",children:[e.jsx(Ue,{onClick:()=>I(null)}),e.jsx(d,{ml:"10px",children:x==null?void 0:x.name})]}):null]}):e.jsx(c,{mt:"10px",children:e.jsx(S,{mt:"10px",placeholder:"Enter URL",value:U,onChange:h=>$(h.target.value)})}),e.jsx(ze,{mt:"20px",placeholder:"Write something about this post",value:M,onChange:h=>q(h.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Fe,{mt:"10px",placeholder:"Select privacy option",onChange:h=>B(h.target.value),children:[e.jsx("option",{value:ge.EVERYONE,children:"Everyone"}),e.jsx("option",{value:ge.GOLD,children:"GOLD"}),e.jsx("option",{value:ge.VIP,children:"VIP"})]})]}),e.jsx(c,{mt:"20px",children:e.jsx(d,{children:"Keep in mind that it my take up to several of minutes to get your post ready for publication, it depends on size, encoding & workload."})}),g&&(t===xe.UPLOAD?x:U)&&M&&!m?e.jsx(R,{isLoading:N,mt:"20px",colorScheme:"purple",onClick:F,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(i,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(i,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>a("/create"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ht,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>a("/create"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ut,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Cr=t=>{const r=s=>V.get("/dj/posts",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize}}).then(o=>o.data.result);return ot({queryKey:["posts",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,o)=>s.length>0&&s.length===t.pageSize?o.length+1:void 0})},Sr=(t,r)=>V.patch(`/dj/post/${t}`,r),kr=t=>V.delete(`/dj/post/${t}`),pt=t=>{const r=Math.floor((new Date().getTime()-Date.parse(t))/1e3);let s=Math.floor(r/31536e3);return s>1?s+" years ago":(s=Math.floor(r/2592e3),s>1?s+" months ago":(s=Math.floor(r/86400),s>1?s+" days ago":(s=Math.floor(r/3600),s>1?s+" hours ago":(s=Math.floor(r/60),s>1?s+" minutes ago":r<10?"just now":Math.floor(r)+" seconds ago"))))},Pr=()=>e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#111",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsxs(i,{flexDirection:"column",gap:"25px",w:"100%",maxW:"600px",pt:"25px",px:"15px",children:[e.jsx(d,{color:"#fff",lineHeight:"1em",fontSize:"28px",fontWeight:"600",textAlign:"center",w:"100%",children:"Create a new post"}),e.jsx(i,{h:"100%",justifyContent:"space-evenly",wrap:"wrap",gap:"20px",children:Er.map((t,r)=>e.jsx(fe,{href:t.link,w:{base:"45%",md:"30%"},children:e.jsxs(je,{bg:"#fff",py:"20px",gap:"10px",borderRadius:"15px",children:[e.jsx(be,{width:"40px",src:t.imageUrl}),e.jsx(d,{fontSize:"20px",color:"#111",fontWeight:"600",children:t.name})]})},r))}),e.jsx(c,{children:e.jsx(Ir,{})})]})})]}),Er=[{id:1,name:"Image Post",imageUrl:"https://media.djfan.app/images/imagepost.png",link:"/create/image"},{id:2,name:"Video Post",imageUrl:"https://media.djfan.app/images/videopost.png",link:"/create/video"},{id:3,name:"Audio Post",imageUrl:"https://media.djfan.app/images/audiopost.png",link:"/create/audio"},{id:6,name:"Text Post",imageUrl:"https://media.djfan.app/images/textpost.png",link:"/create/text"},{id:4,name:"Event",link:"/event",imageUrl:"https://media.djfan.app/images/tourdate.png"},{id:5,name:"Product",imageUrl:"https://media.djfan.app/images/product.png",link:"/product"}],Ir=()=>{const{data:t}=Ke(),r=10,{data:s,fetchNextPage:o,hasNextPage:l,refetch:p}=Cr({pageSize:r}),[a,f]=n.useState(null),{isOpen:u,onOpen:b,onClose:w}=Te(),k=n.useRef(null),m=()=>{o()},_=async()=>{a&&(await kr(a.post_id),await p())};return e.jsxs(e.Fragment,{children:[e.jsx(it,{dataLength:((s==null?void 0:s.pages.length)??0)*r,next:m,hasMore:l??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((s==null?void 0:s.pages)??[]).flat().length>0?e.jsx(d,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All posts displayed"}):null}),children:e.jsxs(i,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",pb:"50px",mt:"30px",children:[e.jsx(c,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(d,{fontWeight:"700",children:"List of posts"})}),s==null?void 0:s.pages.map((x,I)=>e.jsx(c,{w:"100%",children:x.map(g=>e.jsxs(c,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(c,{children:[e.jsx(d,{as:"span",fontSize:"lg",fontStyle:"bold",children:(g==null?void 0:g.posttype_id)&&zn[g.posttype_id]})," ",(a==null?void 0:a.post_id)===(g==null?void 0:g.id)?pt(a.created_at):pt(g.created_at)," ",e.jsx(d,{as:"span",fontStyle:"italic",paddingLeft:"20px",children:(g==null?void 0:g.publish)==0?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsx(ze,{mt:"10px",onFocus:()=>{(a==null?void 0:a.post_id)!==g.post_id&&f(g)},value:(a==null?void 0:a.post_id)===(g==null?void 0:g.id)?a==null?void 0:a.body:g.body,onChange:B=>{a&&f({...a,body:B.target.value})}}),e.jsxs(Fe,{mt:"10px",placeholder:"Select privacy option",onFocus:()=>{(a==null?void 0:a.post_id)!==g.post_id&&f(g)},value:(a==null?void 0:a.post_id)===(g==null?void 0:g.id)?a==null?void 0:a.accesslevel_id:g.accesslevel_id,onChange:B=>{a&&f({...a,accesslevel_id:Number(B.target.value)})},children:[e.jsx("option",{value:ge.EVERYONE,children:"Everyone"}),e.jsx("option",{value:ge.GOLD,children:"GOLD"}),e.jsx("option",{value:ge.VIP,children:"VIP"})]}),e.jsxs(je,{children:[e.jsx(R,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{f(g),b()},children:e.jsx(d,{children:"Delete"})}),(a==null?void 0:a.post_id)===(g==null?void 0:g.id)?e.jsx(R,{mt:"10px",w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:async()=>{try{await Sr(g.post_id,{body:a.body,accesslevel_id:a.accesslevel_id}),await p()}catch(B){console.log(B)}f(null)},children:e.jsx(d,{children:"Save"})}):null,e.jsx(R,{mt:"10px",w:"100%",onClick:()=>{window.open(`https://djfan.app/artists/${t==null?void 0:t.profile_url}`,"_blank")},children:e.jsx(d,{children:"View"})})]})]},g.post_id))},I))]})}),e.jsx(ft,{isOpen:u,leastDestructiveRef:k,onClose:w,children:e.jsx(Je,{children:e.jsxs(gt,{children:[e.jsx(mt,{fontSize:"lg",fontWeight:"bold",children:"Delete Post"}),e.jsxs(jt,{children:[e.jsx(R,{ref:k,onClick:w,children:"Cancel"}),e.jsx(R,{colorScheme:"red",onClick:async()=>{await _(),w()},ml:3,children:"Delete"})]})]})})})]})};function Dr(){const{data:t,refetch:r}=Ke(),s=ye(),[o,l]=n.useState(""),[p,a]=n.useState(""),[f,u]=n.useState(""),[b,w]=n.useState(""),[k,m]=n.useState(""),[_,x]=n.useState(""),[I,g]=n.useState(""),[B,M]=n.useState(""),[q,U]=n.useState(!1);n.useEffect(()=>{l((t==null?void 0:t.website)??""),a((t==null?void 0:t.instagram)??""),u((t==null?void 0:t.soundcloud)??""),w((t==null?void 0:t.mixcloud)??""),m((t==null?void 0:t.facebook)??""),x((t==null?void 0:t.tiktok)??""),g((t==null?void 0:t.youtube)??""),M((t==null?void 0:t.spotify)??"")},[t]);const $=async()=>{var Y,G;const y={website:o,instagram:p,soundcloud:f,mixcloud:b,facebook:k,tiktok:_,youtube:I,spotify:B};U(!0);try{(G=(Y=(await Qe(y)).data)==null?void 0:Y.result)!=null&&G.result&&(await r(),s({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(T){console.log(T)}finally{U(!1)}};return e.jsxs(oe,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Website"}),e.jsx(S,{type:"text",placeholder:" e.g. artistname.com",value:o,onChange:y=>l(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Instagram Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:p,onChange:y=>a(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Soundcloud Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:f,onChange:y=>u(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Mixcloud Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:b,onChange:y=>w(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Facebook Page Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:k,onChange:y=>m(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"TikTok Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:_,onChange:y=>x(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"YouTube Channel"}),e.jsx(S,{type:"text",placeholder:"Enter full link e.g. https://www.youtube.com/...",value:I,onChange:y=>g(y.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Spotify Artist Page"}),e.jsx(S,{type:"text",placeholder:"Enter full link e.g. https://open.spotify/artist...",value:B,onChange:y=>M(y.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:$,isLoading:q,children:["UPDATE PROFILE LINKS ",e.jsx(_e,{style:{marginLeft:"5px"}})]})]})}const _r=({profileImage:t,coverPhoto:r})=>{const[s,o]=n.useState(t),[l,p]=n.useState(r),[a,f]=n.useState(null),[u,b]=n.useState(null),w=n.useRef(null),k=n.useRef(null);n.useEffect(()=>{o(t),p(r)},[t,r]);const m=async()=>{if(a){const x=URL.createObjectURL(a);o(x);try{const I=await In(a);console.log(I)}catch(I){console.log(I)}}},_=async()=>{if(u){const x=URL.createObjectURL(u);p(x);try{const I=await Dn(u);console.log(I)}catch(I){console.log(I)}}};return n.useEffect(()=>{m()},[a]),n.useEffect(()=>{_()},[u]),e.jsxs(i,{direction:{base:"column",md:"row"},gap:{base:"20px",md:"40px"},children:[e.jsx("input",{type:"file",ref:w,style:{display:"none"},onChange:x=>{x.target.files&&x.target.files.length>0&&f(x.target.files[0])}}),e.jsx("input",{type:"file",ref:k,style:{display:"none"},onChange:x=>{x.target.files&&x.target.files.length>0&&b(x.target.files[0])}}),e.jsxs(i,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(c,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Profile Image"}),e.jsx(Nt,{size:"xl",src:s}),e.jsx(c,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{w.current&&w.current.click()},children:"UPDATE IMAGE"})]}),e.jsxs(i,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(c,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Cover Photo"}),e.jsx(be,{width:"160px",height:"96px",objectFit:"cover",src:l}),e.jsx(c,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{k.current&&k.current.click()},children:"UPDATE IMAGE"})]})]})};function zr(){const[t,r]=n.useState([]),{data:s,refetch:o}=Ke(),l=ye(),[p,a]=n.useState((s==null?void 0:s.display_name)??""),[f,u]=n.useState(""),[b,w]=n.useState(""),[k,m]=n.useState(""),[_,x]=n.useState(""),[I,g]=n.useState(""),[B,M]=n.useState(""),[q,U]=n.useState(""),[$,y]=n.useState(""),[Y,G]=n.useState(""),[T,N]=n.useState(!1),ee=async()=>{try{const P=await En();r(P)}catch(P){console.log(P)}};n.useEffect(()=>{ee()},[]),n.useEffect(()=>{a((s==null?void 0:s.display_name)??""),u((s==null?void 0:s.title)??""),w((s==null?void 0:s.genre)??""),m((s==null?void 0:s.location)??""),x((s==null?void 0:s.country)??""),g((s==null?void 0:s.bookings)??""),M((s==null?void 0:s.management)??""),U((s==null?void 0:s.about_me)??""),y((s==null?void 0:s.cover_photo)??""),G((s==null?void 0:s.profile_picture)??"")},[s]);const ie=async()=>{var O,X;const P={display_name:p,title:f,genre:b,location:k,country:_,bookings:I,management:B,about_me:q};N(!0);try{(X=(O=(await Qe(P)).data)==null?void 0:O.result)!=null&&X.result&&(await o(),l({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(le){console.log(le)}finally{N(!1)}};return e.jsxs(oe,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsx(_r,{profileImage:Y,coverPhoto:$}),e.jsx(c,{py:"10px",children:e.jsx(Ee,{borderColor:"#858585"})}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"DJ Name"}),e.jsx(S,{type:"text",placeholder:"Enter your DJ name",value:p,onChange:P=>a(P.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Title"}),e.jsx(S,{type:"text",placeholder:"e.g. DJ & Producer",value:f,onChange:P=>u(P.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Music Genre"}),e.jsx(S,{type:"text",placeholder:"e.g. Techno, Tech House",value:b,onChange:P=>w(P.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Location"}),e.jsx(S,{type:"text",placeholder:"Enter your location",value:k,onChange:P=>m(P.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Country"}),e.jsx(Fe,{placeholder:"Select Country",value:_,onChange:P=>x(P.target.value),children:t==null?void 0:t.map((P,O)=>e.jsx("option",{value:P.country,children:P.country},O))})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Bookings Contact"}),e.jsx(S,{type:"text",placeholder:"Enter your bookings contact",value:I,onChange:P=>g(P.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Management Contact"}),e.jsx(S,{type:"text",placeholder:"Enter your management contact",value:B,onChange:P=>M(P.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"About Me"}),e.jsx(ze,{placeholder:"Write something about yourself...",value:q,onChange:P=>U(P.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:ie,isLoading:T,children:["UPDATE PROFILE ",e.jsx(_e,{style:{marginLeft:"5px"}})]})]})}const An=t=>V.patch("/dj/me/paypal",{paypal:t});function Rr(){const{data:t,refetch:r}=Be(),s=t==null?void 0:t.loginas,[o,l]=n.useState(""),[p,a]=n.useState(""),[f,u]=n.useState(""),{isOpen:b,onOpen:w,onClose:k}=Te(),m=ye(),_=n.useRef(null),[x,I]=n.useState(!1),[g,B]=n.useState(!1),[M,q]=n.useState(!1);n.useEffect(()=>{l((t==null?void 0:t.first_name)??""),a((t==null?void 0:t.last_name)??""),u((t==null?void 0:t.paypal)??"")},[t]);const U=async()=>{var N;const T={first_name:o,last_name:p};q(!0);try{(N=(await Cn(T)).data)!=null&&N.result&&(await r(),m({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(ee){console.log(ee)}finally{q(!1)}},$=async()=>{try{await tr()}catch(T){console.log(T)}},y=async()=>{try{await nr()}catch(T){console.log(T)}},Y=async function(){try{await sr()}catch{return null}},G=async()=>{B(!0);try{await An(f),m({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0})}catch(T){console.log(T)}finally{B(!1)}};return!s&&e.jsxs(e.Fragment,{children:[e.jsxs(oe,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"First Name"}),e.jsx(S,{type:"text",placeholder:" First Name",value:o,onChange:T=>l(T.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Last Name"}),e.jsx(S,{type:"text",placeholder:"Last Name",value:p,onChange:T=>a(T.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:U,isLoading:M,children:["UPDATE PROFILE ",e.jsx(_e,{style:{marginLeft:"5px"}})]}),e.jsx(Ee,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(i,{flexDirection:"column",justifyContent:"center",gap:"15px",mt:"15px",height:"100%",children:[e.jsxs(j,{children:[e.jsx(C,{children:"Paypal Email"}),e.jsx(S,{type:"text",placeholder:"Enter PayPal Email",value:f,onChange:T=>u(T.target.value)})]}),e.jsxs(de,{gap:"10px",children:[e.jsx(Tt,{checked:x,onChange:T=>I(T.target.checked)}),e.jsx(d,{children:"My email address for payouts is correct"})]}),e.jsx(R,{leftIcon:e.jsx(mn,{}),_hover:x&&f?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!x||!f,isLoading:g,onClick:G,children:"LINK PAYPAL ACCOUNT"})]}),e.jsx(Ee,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(R,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:$,children:[e.jsx(ls,{})," Change Email Address"]}),e.jsx(Ee,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(R,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:y,children:[e.jsx(cs,{})," Reset Password"]}),e.jsx(Ee,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(R,{w:"100%",color:"#fff",colorScheme:"red",onClick:w,children:[e.jsx(ds,{})," Delete My Account"]})]}),e.jsx(ft,{isOpen:b,leastDestructiveRef:_,onClose:k,children:e.jsx(Je,{children:e.jsxs(gt,{children:[e.jsx(mt,{fontSize:"lg",fontWeight:"bold",children:"Delete My Account"}),e.jsx(Ht,{children:"Are you sure you want to delete your account? You can't undo this action afterwards. All subscriptions will be cancelled automaticly on deletion."}),e.jsxs(jt,{children:[e.jsx(R,{ref:_,onClick:k,children:"Cancel"}),e.jsx(R,{colorScheme:"red",onClick:()=>{Y(),k()},ml:3,children:"Delete"})]})]})})})]})}const It={fontSize:{base:"20px",md:"16px"}},Dt={display:{base:"none",md:"unset"}};function Ar(){const{data:t}=Be(),r=t==null?void 0:t.loginas;return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",flexDirection:"column",alignItems:"center",children:e.jsxs(Ot,{pt:"15px",variant:"soft-rounded",colorScheme:"green",w:{base:"100%",sm:"800px"},px:{base:"10px",sm:"20px"},children:[e.jsx(c,{bg:"white",px:"10px",py:"10px",borderRadius:"10px",children:e.jsxs(Bt,{children:[e.jsxs(Ie,{...It,children:["Profile",e.jsx(c,{...Dt,children:" Settings"})]}),e.jsxs(Ie,{...It,children:[e.jsx(c,{...Dt,children:"Profile "})," Links"]}),!r&&e.jsxs(Ie,{...It,children:["Account ",e.jsx(c,{...Dt,children:" Settings"})]})]})}),e.jsxs($t,{children:[e.jsx(De,{p:"0",children:e.jsx(zr,{})}),e.jsx(De,{p:"0",children:e.jsx(Dr,{})}),!r&&e.jsx(De,{p:"0",children:e.jsx(Rr,{})})]})]})})]})}const Lr=()=>{const[t,r]=n.useState(Le.SINGLE),{getRootProps:s,getInputProps:o,isDragActive:l,acceptedFiles:p,fileRejections:a}=Mt({accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},maxFiles:t===Le.SINGLE?1:void 0}),f=ke(),u=ye(),[b,w]=n.useState(""),[k,m]=n.useState(0),[_,x]=n.useState(!1),[I,g]=n.useState([]),[B,M]=n.useState(void 0),[q,U]=n.useState(""),[$,y]=n.useState(!1),[Y,G]=n.useState([]),T=P=>{const O=Math.round(P.loaded*100/(P.total||0));m(O)},N=async()=>{const P=await $e(He.image);w(P)};n.useEffect(()=>{N()},[]),n.useEffect(()=>{p.length&&b.length&&ee()},[p]),n.useEffect(()=>{a.length&&(t===Le.SINGLE?u({description:"Only one file is allowed",status:"error",duration:3e3,isClosable:!0}):u({description:"Please upload only these accepted file types: png, jpg, jpeg, webp",status:"error",duration:3e3,isClosable:!0}))},[a]);const ee=async()=>{const P=t===Le.MULTIPLE,O=p.filter(X=>!Y.includes(X.name));if(O.length===0){u({description:"File already uploaded",status:"error",duration:3e3,isClosable:!0});return}P&&O.length!==p.length&&u({description:"Some files are already uploaded and will be skipped",status:"warning",duration:3e3,isClosable:!0}),g(O),x(!0);try{for(let X=0;X<O.length;X++){const le=await Ne(O[X],b,P?void 0:T),{data:F}=le;F.result||u({description:F.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0}),P&&m(X/O.length*100),G(h=>[...h,O[X].name])}}catch(X){console.log(X)}finally{x(!1),m(0)}},ie=async()=>{const P={body:q,accesslevel_id:B,files:Y};y(!0);try{await vt(P,b),u({description:"Post created",status:"success",duration:3e3,isClosable:!0}),f("/create")}catch(O){console.log("err",O)}finally{y(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(pe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(i,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(i,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(ps,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Image Post"})]}),e.jsxs(i,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(d,{my:"10px",children:"Select post type"}),e.jsxs(i,{height:"min-content",mt:"1",children:[e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===Le.SINGLE?"#a37cf0":"white",onClick:()=>{r(Le.SINGLE),g(null),G([])},children:"Single Image"}),e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===Le.MULTIPLE?"#a37cf0":"white",onClick:()=>{r(Le.MULTIPLE),g(null),G([])},children:"Multiple Images"}),_&&e.jsx(c,{padding:4,children:e.jsx(Oe,{})})]}),e.jsxs(c,{mt:"20px",children:[e.jsxs(c,{border:l?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:l?"#f5f5f5":"white",...s(),children:[e.jsx("input",{...o()}),e.jsx(d,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are png, jpg, jpeg, webp."})]}),Y?e.jsx(e.Fragment,{children:Y==null?void 0:Y.map((P,O)=>e.jsxs(i,{alignItems:"center",mt:"10px",children:[e.jsx(Ue,{onClick:()=>{G(X=>X.filter(le=>le!==P))}}),e.jsx(d,{ml:"10px",children:P})]},O))}):null,_?e.jsxs(e.Fragment,{children:[I==null?void 0:I.map((P,O)=>e.jsx(c,{mt:"10px",children:e.jsxs(d,{mb:"10px",children:["Uploading ",P==null?void 0:P.name]})},O)),e.jsx(We,{hasStripe:!0,value:k})]}):null]}),e.jsx(ze,{mt:"20px",placeholder:"Write something about this post",value:q,onChange:P=>U(P.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Fe,{mt:"10px",placeholder:"Select privacy option",onChange:P=>M(P.target.value),children:[e.jsx("option",{value:ge.EVERYONE,children:"Everyone"}),e.jsx("option",{value:ge.GOLD,children:"GOLD"}),e.jsx("option",{value:ge.VIP,children:"VIP"})]})]}),B&&(I!=null&&I.length)&&q&&!_?e.jsx(R,{mt:"20px",isLoading:$,colorScheme:"purple",onClick:ie,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(i,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(i,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>f("/create"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ht,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>f("/create"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ut,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Fr=()=>{const t=ke(),r=ye(),[s,o]=n.useState(""),[l,p]=n.useState(void 0),[a,f]=n.useState(""),u=async()=>{const w=await $e(He.text);o(w)};n.useEffect(()=>{u()},[]);const b=async()=>{const w={body:a,accesslevel_id:l};try{await vt(w,s),r({description:"Post created",status:"success",duration:3e3,isClosable:!0}),t("/create")}catch(k){console.log("err",k)}};return e.jsxs(e.Fragment,{children:[e.jsx(pe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(i,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(i,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(xs,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Text Post"})]}),e.jsxs(i,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(ze,{mt:"20px",placeholder:"Write something about this post",value:a,onChange:w=>f(w.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Fe,{mt:"10px",placeholder:"Select privacy option",onChange:w=>p(w.target.value),children:[e.jsx("option",{value:ge.EVERYONE,children:"Everyone"}),e.jsx("option",{value:ge.GOLD,children:"GOLD"}),e.jsx("option",{value:ge.VIP,children:"VIP"})]})]}),l&&a?e.jsx(R,{mt:"20px",colorScheme:"purple",onClick:b,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(i,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(i,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ht,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>t("/"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ut,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Wr=1024*1024*1024,_t=10*1024*1024,Ur=()=>{const{getRootProps:t,getInputProps:r,isDragActive:s,acceptedFiles:o}=Mt({accept:{"audio/*":[".mp3",".mpeg",".wav",".mp3",".mpeg",".ogg",".aiff",".flac"]}}),l=ke(),p=ye(),[a,f]=n.useState(xe.UPLOAD),[u,b]=n.useState(""),[w,k]=n.useState(0),[m,_]=n.useState(!1),[x,I]=n.useState(null),[g,B]=n.useState(void 0),[M,q]=n.useState(""),[U,$]=n.useState(""),[y,Y]=n.useState([]),[G,T]=n.useState(0),[N,ee]=n.useState(!1),ie=h=>{const H=Math.round(h.loaded*100/(h.total||0));k(H)},P=async()=>{const h=await $e(He.audio);b(h)};n.useEffect(()=>{P()},[]),n.useEffect(()=>{o.length&&u.length&&le()},[o]);const O=h=>{const H=Math.ceil(h.size/_t),L=[];let J=0;for(let K=0;K<H;K++){const ae=Math.min(J+_t,h.size),v=h.slice(J,ae);L.push(v),J=ae}Y(L),T(H)},X=async()=>{var ae;_(!0);const h=2,H=[],L=[],J=[],K=async(v,W)=>{var te;try{const Q=await qe(v,u,G,W+1,(x==null?void 0:x.name)??"");(te=Q==null?void 0:Q.data)!=null&&te.result?k(Math.round((W+1)/G*100)):(console.error(`Chunk ${W+1} failed to upload`),J.push(W))}catch{console.error(`Chunk ${W+1} failed to upload`),J.push(W)}const A=L.indexOf(W);A!==-1&&L.splice(A,1)};for(let v=0;v<G;v++){if(J.includes(v))continue;const W=y[v];if(L.length<h)L.push(v),K(W,v);else{H.push({chunk:W,chunkIndex:v}),await Promise.race(L.map(te=>new Promise(Q=>{const Re=setInterval(()=>{L.indexOf(te)===-1&&(clearInterval(Re),Q(te))},1e3)})));const A=H.shift();if(A){const{chunk:te,chunkIndex:Q}=A;L.push(Q),K(te,Q)}}}if(await Promise.all(L.map(v=>new Promise(W=>{const A=setInterval(()=>{L.indexOf(v)===-1&&(clearInterval(A),W(v))},1e3)}))),J.length>0)for(const v of J){const W=y[v],A=await qe(W,u,G,v+1,(x==null?void 0:x.name)??"");(ae=A==null?void 0:A.data)!=null&&ae.result||console.error(`Chunk ${v+1} failed to upload`)}_(!1),k(0),Y([])};n.useEffect(()=>{y.length&&(x!=null&&x.name)&&X()},[y,x]);const le=async()=>{_(!0);try{const h=o[0];if(h.size>Wr)return;if(I(o[0]),h.size<=_t){const H=await Ne(o[0],u,ie),{data:L}=H;L.result||p({description:L.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else O(h)}catch(h){console.log(h)}finally{_(!1),k(0)}},F=async()=>{const h={body:M,accesslevel_id:g};a===xe.EMBED?(h.embedded=1,h.location=U):(h.embedded=0,h.files=[(x==null?void 0:x.name)??""]),ee(!0);try{await vt(h,u),p({description:"Post created",status:"success",duration:3e3,isClosable:!0}),l("/create")}catch(H){console.log("err",H)}finally{ee(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(pe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(i,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(i,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(hs,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Audio Post"})]}),e.jsxs(i,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(d,{my:"10px",children:"Select audio post type"}),e.jsxs(i,{height:"min-content",mt:"1",children:[e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:a===xe.EMBED?"#a37cf0":"white",onClick:()=>f(xe.EMBED),children:"Embed Audio"}),e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:a===xe.UPLOAD?"#a37cf0":"white",onClick:()=>f(xe.UPLOAD),children:"Upload Audio"}),m&&e.jsx(c,{padding:4,children:e.jsx(Oe,{})})]}),a===xe.UPLOAD?e.jsxs(c,{mt:"20px",children:[e.jsxs(c,{border:s?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:s?"#f5f5f5":"white",...t(),children:[e.jsx("input",{...r()}),e.jsx(d,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are wav, mp3, mpeg, ogg, aiff, flac. Max file size 1Gb."})]}),m?e.jsxs(c,{mt:"10px",children:[e.jsxs(d,{mb:"10px",children:["Uploading ",x==null?void 0:x.name]}),e.jsx(We,{hasStripe:!0,value:w})]}):x?e.jsxs(i,{alignItems:"center",mt:"10px",children:[e.jsx(Ue,{onClick:()=>I(null)}),e.jsx(d,{ml:"10px",children:x==null?void 0:x.name})]}):null]}):e.jsx(c,{mt:"10px",children:e.jsx(S,{mt:"10px",placeholder:"Enter URL",value:U,onChange:h=>$(h.target.value)})}),e.jsx(ze,{mt:"20px",placeholder:"Write something about this post",value:M,onChange:h=>q(h.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Fe,{mt:"10px",placeholder:"Select privacy option",onChange:h=>B(h.target.value),children:[e.jsx("option",{value:ge.EVERYONE,children:"Everyone"}),e.jsx("option",{value:ge.GOLD,children:"GOLD"}),e.jsx("option",{value:ge.VIP,children:"VIP"})]})]}),e.jsx(c,{mt:"20px",children:e.jsx(d,{children:"Keep in mind that it my take up to several of minutes to get your post ready for publication, it depends on size, encoding & workload."})}),g&&(a===xe.UPLOAD?x:U)&&M&&!m?e.jsx(R,{mt:"20px",isLoading:N,colorScheme:"purple",onClick:F,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(i,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(i,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>l("/create"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ht,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>l("/create"),children:e.jsxs(i,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ut,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})};function Nr({members:t,followers:r,monthlyIncome:s}){return e.jsxs(i,{h:"100%",wrap:"wrap",gap:"20px",justifyContent:"space-between",children:[e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#9b5de5",color:"#ffffff",alignItems:"center",lineHeight:"1em",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(rt,{})," Total Fans"]}),e.jsx(D,{lineHeight:"1em",fontSize:"32px",children:r})]}),e.jsxs(ve,{alignItems:"center",w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#ffffff",lineHeight:"1em",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",children:[e.jsx(rt,{})," Subscribers"]}),e.jsx(D,{lineHeight:"1em",fontSize:"32px",children:t})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",alignItems:"center",lineHeight:"1em",bg:"#ffffff",children:[e.jsx(d,{fontSize:"18px",fontWeight:"600",children:"Membership Income"}),e.jsxs(de,{align:"flex-end",gap:"5px",justifyContent:"center",children:[e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsx(d,{mb:"0px",fontSize:"14px",fontWeight:"600",color:"#9b5de5",children:"per month"})]})]})]})}function Hr({membership:t,product:r,total:s}){return e.jsxs(i,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(rt,{})," Membership"]}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Gt,{})," Online Store"]}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(30-days)"})]})]})]})}function Mr({membership:t,product:r,total:s}){return e.jsxs(i,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(rt,{})," Membership"]}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Gt,{})," Online Store"]}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(365-days)"})]})]})]})}function Tr({membership:t,product:r,total:s}){return e.jsxs(i,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(rt,{})," Membership"]}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Gt,{})," Online Store"]}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(ve,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(D,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(All Time)"})]})]})]})}const Or=()=>V.get("/dj/me/statistics").then(t=>t.data.data),Br=()=>Ze({queryKey:["userStatistics"],queryFn:()=>Or()});function $r(){const{data:t}=Br();return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsxs(i,{flexDirection:"column",gap:"35px",maxW:"1000px",w:"100%",pt:"25px",px:"15px",children:[e.jsxs(i,{flexDirection:"column",gap:"20px",children:[e.jsxs(oe,{gap:"10px",children:[e.jsx(D,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Statistics"}),e.jsx(d,{lineHeight:"1em",alignSelf:"flex-start",children:"Here are your statistics at a glance..."})]}),e.jsx(Nr,{members:((t==null?void 0:t.gold)??0)+((t==null?void 0:t.vip)??0),followers:(t==null?void 0:t.followers)??0,monthlyIncome:(t==null?void 0:t.monthly_income)??0})]}),e.jsxs(i,{flexDirection:"column",gap:"15px",children:[e.jsx(D,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Earnings"}),e.jsxs(Ot,{variant:"soft-rounded",colorScheme:"green",w:"100%",children:[e.jsxs(Bt,{children:[e.jsx(Ie,{p:"5px",px:"10px",children:"Last 30 Days"}),e.jsx(Ie,{p:"5px",px:"10px",children:"Last 365 Days"}),e.jsx(Ie,{p:"5px",px:"10px",children:"All Time"})]}),e.jsxs($t,{children:[e.jsx(De,{p:"0",pt:"20px",children:e.jsx(Hr,{membership:(t==null?void 0:t.subscription_last_30_days)??0,product:(t==null?void 0:t.products_last_30_days)??0,total:(t==null?void 0:t.total_last_30_days)??0})}),e.jsx(De,{p:"0",pt:"20px",children:e.jsx(Mr,{membership:(t==null?void 0:t.subscription_last_365_days)??0,product:(t==null?void 0:t.products_last_365_days)??0,total:(t==null?void 0:t.total_last_365_days)??0})}),e.jsx(De,{p:"0",pt:"20px",children:e.jsx(Tr,{membership:(t==null?void 0:t.subscription_last_all_days)??0,product:(t==null?void 0:t.products_last_all_days)??0,total:(t==null?void 0:t.total_last_all_days)??0})})]})]})]})]})})]})}function Gr({payout:t}){return e.jsx(i,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(bt,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(yt,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Vt,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Ye,{children:[e.jsx(Se,{color:"white",children:"Amount"}),e.jsx(Se,{color:"white",children:"Date"}),e.jsx(Se,{color:"white",children:"Method"}),e.jsx(Se,{color:"white",children:"Code"})]})}),e.jsx(wt,{children:t.map(r=>e.jsxs(Ye,{children:[e.jsxs(we,{children:["$",r.amount]}),e.jsx(we,{children:At(new Date(r.payout_date)).format("DD/MM/YYYY")}),e.jsx(we,{children:"Paypal"}),e.jsx(we,{children:r.payout_code})]},r.id))})]})})})}const Vr=()=>V.get("/dj/me/payout").then(t=>t.data.data),Yr=()=>Ze({queryKey:["payout"],queryFn:()=>Vr()});function qr(){const{isOpen:t,onOpen:r,onClose:s}=Te(),{data:o}=Yr(),[l,p]=n.useState(""),[a,f]=n.useState(!1),[u,b]=n.useState(!1);n.useEffect(()=>{o!=null&&o.paypal&&p(o.paypal)},[o]);const w=async()=>{b(!0);try{await An(l)}catch(k){console.log(k)}finally{b(!1)}};return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsxs(i,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:{base:"15px",md:"15px"},children:[e.jsxs(oe,{gap:"10px",children:[e.jsx(D,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Payouts"}),e.jsx(d,{lineHeight:"1em",alignSelf:"flex-start",children:"View and keep track of your payouts."})]}),e.jsxs(i,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:[e.jsxs(i,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",w:{base:"100%",md:"60%"},flexDir:"column",children:[e.jsx(i,{bg:"#9b5de5",px:"20px",py:"6px",children:e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"white",children:"Available for Payout"})}),e.jsxs(i,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:"5px",height:"100%",p:"20px",children:[e.jsx(d,{fontWeight:"600",children:"Balance"}),e.jsxs(D,{children:["$",(o==null?void 0:o.available_payout)??"0.00"]}),e.jsx(d,{children:"This is the amount you currently have in earnings, available for your next payout."})]})]}),e.jsxs(i,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",flexDir:"column",w:{base:"100%",md:"35%"},children:[e.jsx(i,{bg:"#111111",px:"20px",py:"8px",children:e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"white",children:"Payout Account"})}),e.jsxs(i,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px",height:"100%",p:"20px",children:[e.jsx(R,{leftIcon:e.jsx(us,{}),bg:"#9b5de5",borderColor:"#9b5de5",color:"#ffffff",_hover:{bg:"#5DE59A",color:"#ffffff",borderColor:"#5DE59A"},children:"WITHDRAW EARNINGS"}),e.jsx(S,{type:"text",placeholder:"Enter PayPal Email",value:l,onChange:k=>p(k.target.value)}),e.jsxs(de,{gap:"10px",children:[e.jsx(Tt,{checked:a,onChange:k=>f(k.target.checked)}),e.jsx(d,{children:"My email address for payouts is correct"})]}),e.jsx(R,{leftIcon:e.jsx(mn,{}),_hover:a&&l?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!a||!l,isLoading:u,onClick:w,children:"LINK PAYPAL ACCOUNT"}),e.jsxs(de,{color:"#111",gap:"5px",children:[e.jsx(fs,{}),e.jsx(fe,{fontWeight:"600",onClick:r,children:"View Tutorial"})]}),e.jsxs(jn,{onClose:s,isOpen:t,isCentered:!0,children:[e.jsx(Je,{}),e.jsx(bn,{mx:"20px",children:e.jsxs(oe,{p:"20px",gap:"15px",children:[e.jsx(c,{as:"a",position:"absolute",top:"10px",right:"10px",onClick:s,children:e.jsx(dt,{fontSize:"20px"})}),e.jsx(D,{fontSize:{base:"16px",md:"20px"},lineHeight:"1em",textAlign:"center",children:"How to connect your payout account"}),e.jsx(gs,{width:"100%",height:"220px",children:e.jsx("iframe",{title:"Payout Tutorial",src:"https://www.youtube.com/embed/o3JKJlsGvFw",allowFullScreen:!0})}),e.jsxs(de,{justifyContent:"center",zIndex:"1",children:[e.jsx(fe,{bg:"#9b5de5",href:"/",color:"#ffffff",fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",_hover:{bg:"#111111"},_focus:{boxShadow:"none"},children:"More Tutorials"}),e.jsxs(fe,{fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",display:"flex",gap:"5px",href:"/",children:["Contact Support",e.jsx(_e,{fontSize:"12px"})]})]})]})})]})]})]})]}),e.jsxs(oe,{gap:"15px",children:[e.jsx(D,{fontSize:"24px",alignSelf:"flex-start",children:"Recent Payouts"}),e.jsx(Gr,{payout:(o==null?void 0:o.payouts)??[]})]})]})})]})}const Jr=t=>{const r=s=>V.get("/dj/events",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(o=>o.data);return ot({queryKey:["events",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,o)=>s.length>0&&s.length===t.pageSize?o.length+1:void 0})},Kr=t=>V.delete(`/dj/event/${t}`),Qr=t=>V.get(`/dj/event/${t}`),Zr=(t,r,s)=>V.patch(`/dj/event/${t}/${r}`,s),Xr=()=>{var g,B,M,q;const{data:t}=Ke(),r=ye(),s=10,{data:o,fetchNextPage:l,hasNextPage:p,refetch:a}=Jr({pageSize:s}),f=ke(),[u,b]=n.useState(null),{isOpen:w,onOpen:k,onClose:m}=Te(),_=n.useRef(null),x=()=>{l()},I=async()=>{if(u)try{(await Kr(u.id)).data.result?(r({title:"Event deleted!",status:"success",duration:3e3,isClosable:!0}),await a()):r({title:"Error deleting event",status:"error",duration:3e3,isClosable:!0})}catch{r({title:"Error deleting event",status:"error",duration:3e3,isClosable:!0})}};return e.jsxs(e.Fragment,{children:[e.jsx(it,{dataLength:(((g=o==null?void 0:o.pages)==null?void 0:g.length)??0)*s,next:x,hasMore:p??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((M=(B=(o==null?void 0:o.pages)??[])==null?void 0:B.flat())==null?void 0:M.length)>0?e.jsx(d,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All events displayed"}):null}),children:e.jsxs(i,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",mt:"30px",children:[e.jsx(c,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(d,{fontWeight:"700",children:"List of events"})}),(q=o==null?void 0:o.pages)==null?void 0:q.map((U,$)=>e.jsx(c,{w:"100%",children:U.map(y=>e.jsxs(c,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(c,{children:[e.jsx(be,{src:y.artwork,fallbackSrc:t==null?void 0:t.profile_picture,alt:"event-image",width:"100%",height:"auto",borderRadius:"15px",mt:"10px"}),e.jsxs(i,{alignItems:"center",mt:"10px",children:[e.jsx(d,{children:pt(y.created_at)}),e.jsx(d,{fontStyle:"italic",paddingLeft:"20px",children:(y==null?void 0:y.publish)===0?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsxs(d,{children:["Event Name: ",e.jsx("b",{children:y.id})]}),e.jsxs(d,{children:["Name: ",e.jsx("b",{children:y.event_name})]})]}),e.jsxs(je,{children:[e.jsx(R,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{b(y),k()},children:e.jsx(d,{children:"Delete"})}),e.jsx(R,{mt:"10px",w:"100%",onClick:()=>{f(`/event/edit/${y.id}`)},children:e.jsx(d,{children:"Edit"})})]})]},y.id))},$))]})}),u&&e.jsx(ft,{isOpen:w,leastDestructiveRef:_,onClose:m,children:e.jsx(Je,{children:e.jsxs(gt,{children:[e.jsxs(mt,{fontSize:"lg",fontWeight:"bold",children:["Delete Post: ",u.event_name]}),e.jsxs(jt,{children:[e.jsx(R,{ref:_,onClick:m,children:"Cancel"}),e.jsx(R,{colorScheme:"red",onClick:async()=>{await I(),m()},ml:3,children:"Delete"})]})]})})})]})},eo=()=>{const t=ke(),r=async()=>{t("/event/create")};return e.jsx(e.Fragment,{children:e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsxs(i,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:[e.jsx(i,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsx(i,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:r,children:["CREATE EVENT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})})}),e.jsx(c,{w:{base:"100%",sm:"500px"},children:e.jsx(Xr,{})})]})]})})},to=({fan:t})=>e.jsxs(Ye,{children:[e.jsx(we,{children:t.name}),e.jsx(we,{children:t.username}),e.jsx(we,{children:t.date})]}),Lt=({children:t})=>e.jsx(bt,{children:e.jsxs(yt,{variant:"simple",children:[e.jsx(Vt,{children:e.jsxs(Ye,{children:[e.jsx(Se,{children:"Name"}),e.jsx(Se,{children:"Username"}),e.jsx(Se,{children:"Joined"})]})}),e.jsx(wt,{children:t})]})});Lt.Row=to;const no=t=>{const r=s=>V.get("/dj/me/fans",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(o=>o.data);return ot({queryKey:["fans",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,o)=>s.length>0&&s.length===t.pageSize?o.length+1:void 0})},xt=()=>e.jsx(c,{height:"5rem",display:"flex",justifyContent:"center",p:2,children:e.jsx(ms,{isIndeterminate:!0})});function so(){const[r,s]=n.useState(Rn.ALL),{data:o,fetchNextPage:l,hasNextPage:p,isLoading:a}=no({pageSize:15,type:r}),f=()=>e.jsx(it,{dataLength:((o==null?void 0:o.pages.length)??0)*15,next:l,hasMore:p??!1,loader:e.jsx(xt,{}),children:a?e.jsx(xt,{}):e.jsx(Lt,{children:o==null?void 0:o.pages.map(u=>u.map(b=>e.jsx(Lt.Row,{fan:b},b.username)))})});return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",flexDirection:"column",children:e.jsxs(i,{direction:"column",maxW:"1000px",px:{base:"15px",md:"25px"},w:"100%",alignSelf:"center",gap:"15px",pt:"15px",children:[e.jsx(d,{fontSize:"28px",fontWeight:"bold",children:"Your Fans"}),e.jsxs(Ot,{variant:"unstyled",bg:"white",borderRadius:"5px",overflow:"hidden",onChange:u=>{s(u)},children:[e.jsxs(Bt,{bg:"#111",color:"#fff",children:[e.jsx(Ie,{...lt,children:"All"}),e.jsx(Ie,{...lt,children:"Followers"}),e.jsx(Ie,{...lt,children:"Gold"}),e.jsx(Ie,{...lt,children:"VIP"})]}),e.jsxs($t,{children:[e.jsx(De,{p:"0",children:f()}),e.jsx(De,{p:"0",children:f()}),e.jsx(De,{p:"0",children:f()}),e.jsx(De,{p:"0",children:f()})]})]})]})})]})}const lt={fontSize:"20px",fontWeight:"600",_selected:{color:"white",background:"#8338ec"}},ro=t=>{const r=s=>V.get("/dj/products",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(o=>o.data.products);return ot({queryKey:["products",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,o)=>s.length>0&&s.length===t.pageSize?o.length+1:void 0})},oo=t=>V.delete(`/dj/product/${t}`),io=t=>V.get(`/dj/product/${t}`),ao=(t,r,s)=>V.patch(`/dj/product/${t}/${r}`,s),lo=()=>{var I,g,B,M;const{data:t}=Ke(),r=10,{data:s,fetchNextPage:o,hasNextPage:l,refetch:p}=ro({pageSize:r}),a=ke(),[f,u]=n.useState(null),{isOpen:b,onOpen:w,onClose:k}=Te(),m=n.useRef(null),_=()=>{o()},x=async()=>{f&&(await oo(f.product_id),await p())};return e.jsxs(e.Fragment,{children:[e.jsx(it,{dataLength:(((I=s==null?void 0:s.pages)==null?void 0:I.length)??0)*r,next:_,hasMore:l??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((B=(g=(s==null?void 0:s.pages)??[])==null?void 0:g.flat())==null?void 0:B.length)>0?e.jsx(d,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All products displayed"}):null}),children:e.jsxs(i,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",mt:"30px",children:[e.jsx(c,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(d,{fontWeight:"700",children:"List of products"})}),(M=s==null?void 0:s.pages)==null?void 0:M.map((q,U)=>e.jsx(c,{w:"100%",children:q.map($=>e.jsxs(c,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(c,{children:[e.jsx(be,{src:$.image_url,fallbackSrc:t==null?void 0:t.profile_picture,alt:"product-image",width:"100%",height:"auto",borderRadius:"15px",mt:"10px"}),e.jsxs(i,{alignItems:"center",mt:"10px",children:[e.jsx(d,{children:pt($.created_at)}),e.jsx(d,{fontStyle:"italic",paddingLeft:"20px",children:($==null?void 0:$.publish)===0?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsxs(d,{children:["Product ID: ",e.jsx("b",{children:$.product_id})]}),e.jsxs(d,{children:["Name: ",e.jsx("b",{children:$.name})]}),e.jsxs(d,{children:["SKU: ",e.jsx("b",{children:$.sku})]}),e.jsxs(d,{children:["Product Type: ",e.jsx("b",{children:$.product_type})]})]}),e.jsxs(je,{children:[e.jsx(R,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{u($),w()},children:e.jsx(d,{children:"Delete"})}),e.jsx(R,{mt:"10px",w:"100%",onClick:()=>{a(`/product/edit/${$.product_id}`)},children:e.jsx(d,{children:"Edit"})})]})]},$.product_id))},U))]})}),f&&e.jsx(ft,{isOpen:b,leastDestructiveRef:m,onClose:k,children:e.jsx(Je,{children:e.jsxs(gt,{children:[e.jsxs(mt,{fontSize:"lg",fontWeight:"bold",children:["Delete Post: ",f.name]}),e.jsxs(jt,{children:[e.jsx(R,{ref:m,onClick:k,children:"Cancel"}),e.jsx(R,{colorScheme:"red",onClick:async()=>{await x(),k()},ml:3,children:"Delete"})]})]})})})]})},co=()=>{const t=ke(),r=async()=>{t("/product/create")};return e.jsx(e.Fragment,{children:e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsxs(i,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:[e.jsx(i,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsx(i,{bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:r,children:["CREATE PRODUCT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})})}),e.jsx(c,{w:{base:"100%",sm:"500px"},children:e.jsx(lo,{})})]})]})})},po=async()=>{const t=await V.get("/dj/partner_artist"),{data:r}=t;return r??[]},xo=()=>Ze({queryKey:["partner-artists"],queryFn:()=>po()}),ho=(t,r=300)=>{const[s,o]=n.useState(t);return n.useEffect(()=>{const l=setTimeout(()=>{o(t)},r);return()=>clearTimeout(l)},[t]),s},uo=async t=>{var s;return((s=(await V.get(`/dj/search?query=${t}`)).data)==null?void 0:s.result)??[]};function fo(){const[t,r]=n.useState(""),[s,o]=n.useState([]),l=ho(t),{isOpen:p,onToggle:a,onClose:f}=Te(),u=n.useRef(null),b=m=>{r(m)};n.useEffect(()=>{l.length>2?uo(l).then(m=>{o(m)}):o([])},[l]),n.useEffect(()=>{p&&setTimeout(()=>{var m;(m=u.current)==null||m.focus()},50)},[p]);const w=m=>{m.key==="Enter"&&f()},k=async m=>{try{const _=await V.get(`/dj/loginas/${m.user_key}`),{data:x}=_;x.result&&(f(),window.location.href="/")}catch(_){console.log(_)}};return e.jsx(i,{gap:5,children:e.jsxs(pn,{isOpen:p,onClose:f,children:[e.jsx(xn,{children:e.jsxs(ue,{w:{base:"100%",sm:"200px",md:"250px"},onClick:a,children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(gn,{as:js,color:"on-accent",boxSize:"6"})}),e.jsx(S,{ref:u,placeholder:"Search",variant:"filled",value:t,onChange:m=>b(m.target.value),onKeyDown:w,style:{backgroundColor:"white"}})]})}),e.jsx(hn,{w:{base:"100%",sm:"20px",md:"250px"},display:t.length?"block":"none",children:e.jsx(bs,{children:e.jsx(i,{direction:"column",children:s&&(s==null?void 0:s.map((m,_)=>e.jsxs(d,{cursor:"pointer",_hover:{backgroundColor:"gray.200"},onClick:async()=>await k(m),children:[m.first_name,m.last_name,m.display_name]},_)))})})})]})})}const go=()=>{var l;const{data:t}=xo(),{data:r}=Be(),s=(r==null?void 0:r.admin)||((l=r==null?void 0:r.me)==null?void 0:l.admin)||!1,o=Object.values(t||{});return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",h:"100%",justifyContent:"center",children:s&&e.jsx(c,{mt:"15px",children:e.jsx(fo,{})})}),e.jsxs(i,{w:"100%",h:"100%",justifyContent:"center",children:[t&&t.result==!1&&e.jsx(d,{fontSize:"3xl",paddingTop:12,children:"No partners connected yet."}),t&&t.result!=!1&&e.jsx(bt,{children:e.jsx(yt,{variant:"simple",children:e.jsx(wt,{children:o.map(p=>e.jsxs(Ye,{children:[e.jsx(we,{children:e.jsx(ys,{src:`https://files.djfan.app/${(p==null?void 0:p.profile_picture)??""}`,h:"150px",w:"150px",objectFit:"cover",borderRadius:5})}),e.jsxs(we,{children:[e.jsx("div",{style:{paddingBottom:"10px"},children:p.display_name}),e.jsx(R,{colorScheme:"purple",size:"sm",onClick:async()=>{const a=await V.get(`/dj/loginas/${p.user_id}`),{data:f}=a;window.location.href="/",f.result?console.log(f.result):console.log(f.message)},children:"Login as"})]})]},p.id))})})})]})]})},mo=t=>{const r=s=>V.get("/dj/invitees",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(o=>o.data.invitees);return ot({queryKey:["invitee",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,o)=>s.length>0&&s.length===t.pageSize?o.length+1:void 0})};function jo(){return e.jsxs(c,{as:"a",target:"_blank",href:"/profile",p:"0",display:"flex",fontSize:"14px",bg:"#ffffff",color:"#111111",fontWeight:"700",px:"10px",py:"8px",gap:"5px",lineHeight:"1em",alignItems:"center",borderRadius:"5px",border:"1px solid #111111",cursor:"pointer",_hover:{bg:"#9b5de5",color:"#ffffff"},children:[e.jsx(Ut,{fontSize:"12px"}),"View Profile"]})}const Ft=({children:t})=>e.jsx(bt,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(yt,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Vt,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Ye,{children:[e.jsx(Se,{color:"white",children:"Creator"}),e.jsx(Se,{color:"white",children:"Joined"}),e.jsx(Se,{color:"white",children:"Period"}),e.jsx(Se,{color:"white",children:"Commission"}),e.jsx(Se,{color:"white",children:"Actions"})]})}),e.jsx(wt,{children:t})]})}),bo=({invitee:t})=>e.jsxs(Ye,{children:[e.jsx(we,{children:e.jsxs(i,{alignItems:"center",gap:"8px",as:"a",href:"/profile",_hover:{color:"#9b5de5"},children:[e.jsx(Nt,{size:"sm",border:"1px solid #111111",src:`https://files.djfan.app/${t.profile_picture_cache}`}),e.jsx(d,{fontWeight:"600",_hover:{color:"#9b5de5",textDecoration:"underline"},children:t.display_name})]})}),e.jsx(we,{children:At(new Date(t.created_at)).format("DD/MM/YYYY")}),e.jsx(we,{children:At(new Date(t.period)).format("MMMM YYYY")}),e.jsxs(we,{children:[e.jsx("b",{children:t.amount})," per month"]}),e.jsx(we,{children:e.jsx(i,{children:e.jsx(jo,{})})})]});Ft.Row=bo;function yo(){const{data:r,fetchNextPage:s,hasNextPage:o,isLoading:l}=mo({pageSize:10});return n.useEffect(()=>{const p=document.querySelector(".infinite-scroll-component__outerdiv");p&&(p.style.width="100%")},[]),e.jsxs(oe,{gap:"15px",children:[e.jsx(D,{fontSize:"24px",alignSelf:"flex-start",children:"Connected Accounts"}),e.jsx(i,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(it,{dataLength:((r==null?void 0:r.pages.length)??0)*10,next:s,hasMore:o??!1,loader:e.jsx(xt,{}),children:l?e.jsx(xt,{}):e.jsx(Ft,{children:r==null?void 0:r.pages.map(p=>p.map(a=>e.jsx(Ft.Row,{invitee:a},a.display_name)))})})})]})}function wo(t){const{isOpen:r,onOpen:s,onClose:o}=Te(),l=async function(){const a=document.createElement("canvas").toDataURL("image/png").replace("image/png","image/octet-stream");let f=document.createElement("a");f.href=a,f.download="qrcode.png",document.body.appendChild(f),f.click(),document.body.removeChild(f)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{rightIcon:e.jsx(ws,{}),bg:"#111111",borderWidth:"0px",color:"#ffffff",mt:"10px",onClick:s,_active:{border:"4px solid green"},_hover:{bg:"#5DE59A",color:"#ffffff"},children:"Show QR code"}),e.jsxs(jn,{isOpen:r,onClose:o,children:[e.jsx(Je,{}),e.jsxs(bn,{w:"300px",children:[e.jsx(c,{as:"a",onClick:o,position:"absolute",top:"15px",right:"15px",color:"#ffffff",border:"1px solid #ffffff",borderRadius:"5px",cursor:"pointer",p:"2px",_hover:{border:"1px solid #111111",color:"#ffffff"},children:e.jsx(vs,{})}),e.jsx(Ht,{children:e.jsxs(i,{flexDirection:"column",py:"15px",alignItems:"center",gap:"20px",children:[e.jsx(c,{paddingTop:10,style:{height:"auto",margin:"0 auto",maxWidth:256,width:"100%"},children:e.jsx(Cs,{level:"H",size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:t==null?void 0:t.link,viewBox:"0 0 256 256"})}),e.jsx(c,{as:"a",onClick:l,style:{textDecoration:"none",cursor:"pointer"},height:"26px",lineHeight:"24px",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",border:"1px",px:"8px",borderRadius:"2px",fontSize:"14px",fontWeight:"semibold",bg:"#f5f6f7",borderColor:"#ccd0d5",color:"#4b4f56",_hover:{bg:"#ebedf0"},_active:{bg:"#dddfe2",transform:"scale(0.98)",borderColor:"#bec3c9"},_focus:{boxShadow:"0 0 1px 2px rgba(88, 144, 255, .75), 0 1px 1px rgba(0, 0, 0, .15)"},children:"Save Image"})]})})]})]})]})}function vo(){const{data:t}=Be(),o=`https://dj.djfan.app/?invite=${(1e7+((t==null?void 0:t.user_id)||0)).toString(36)}`,l=ye();return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsxs(i,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:[e.jsxs(i,{direction:"column",gap:"15px",children:[e.jsx(D,{fontSize:"24px",alignSelf:"flex-start",children:"Partner Link"}),e.jsx(i,{bg:"#ffffff",borderRadius:"10px",border:"2px solid #9b5de5",overflow:"hidden",w:"100%",children:e.jsxs(oe,{alignItems:"flex-start",textAlign:"left",gap:"10px",height:"100%",py:"20px",px:"20px",children:[e.jsx(D,{fontSize:"20px",children:"Your unique invitation link: "}),e.jsx(d,{children:"Simply direct DJs to sign up via this form and we will automatically connect you with their account to receive lifetime commissions."}),e.jsxs(fe,{display:"flex",alignItems:"center",gap:"10px",fontSize:"20px",_hover:{color:"#5DE59A"},children:[e.jsx(dn,{color:"#9b5de5"}),o]}),e.jsxs(de,{children:[e.jsx(R,{rightIcon:e.jsx(Ss,{}),bg:"#9b5de5",borderWidth:"0px",color:"#ffffff",mt:"10px",_hover:{bg:"#5DE59A",color:"#ffffff"},onClick:()=>{navigator.clipboard.writeText(o),l({title:"Link copied to clipboard",status:"success",duration:3e3,isClosable:!0})},children:"Copy Link"}),e.jsx(wo,{link:o})]})]})})]}),e.jsx(yo,{})]})})]})}const Co=({fileType:t,tooltipDescription:r})=>e.jsx(ks,{label:r,children:e.jsx(c,{color:"#fff",bg:"#9b5de5",borderRadius:"5px",px:"5px",py:"3px",fontSize:"12px",lineHeight:"1em",children:t})}),Ln=()=>{const t=[{type:"mp3",description:"MP3 audio format"},{type:"flac",description:"Free Lossless Audio Codec"},{type:"aiff",description:"Audio Interchange File Format"},{type:"aifc",description:"Compressed Audio Interchange File"},{type:"wav",description:"Waveform Audio File Format"}];return e.jsxs(oe,{children:[e.jsxs(de,{children:[e.jsxs(c,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Allowed file types"}),":"]}),t.map(r=>e.jsx(Co,{fileType:r.type,tooltipDescription:r.description},r.type))]}),e.jsxs(c,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Maximum file size"}),": 1Gb"]})]})},on=1*1024*1024*1024,zt=10*1024*1024,So=()=>{const t=ke(),r=ye(),s=yn(),{product_id:o=""}=s,[l,p]=n.useState(null),[a,f]=n.useState(""),[u,b]=n.useState(""),[w,k]=n.useState(""),[m,_]=n.useState(null),[x,I]=n.useState(""),[g,B]=n.useState(""),[M,q]=n.useState(""),[U,$]=n.useState(""),[y,Y]=n.useState(""),[G,T]=n.useState(""),[N,ee]=n.useState(null),[ie,P]=n.useState(""),O=n.useRef(null),X=n.useRef(null),[le,F]=n.useState(!1),[h,H]=n.useState(0),[L,J]=n.useState(!1),[K,ae]=n.useState(0),[v,W]=n.useState(!1),[A,te]=n.useState(null),[Q,Re]=n.useState(null),[et,Ct]=n.useState([]),Ae=n.useRef(0),[tt,St]=n.useState(0),kt=async E=>{try{const Z=await io(E),{data:ne}=Z;if(ne.result){const Ve=ne.products[0];p(Ve)}}catch(Z){console.error("Error getting product:",Z)}};n.useEffect(()=>{o&&kt(Number(o))},[o]),n.useEffect(()=>{l&&(b(l.name),k(l.description),I(l.price),B(l.genre),q(l.release_date),$(l.label),Y(l.artist),T(l.filename),P(l.artwork_cache))},[l]);const z=E=>{const Z=Math.round(E.loaded*100/(E.total||0));H(Z)},se=E=>{const Z=Math.round(E.loaded*100/(E.total||0));ae(Z)},re=async()=>{const E=await $e(He.product);f(E)};n.useEffect(()=>{re()},[]);const Pe=E=>{const Z=Math.ceil(E.size/zt),ne=[];let Ve=0;for(let Yt=0;Yt<Z;Yt++){const qt=Math.min(Ve+zt,E.size),Fn=E.slice(Ve,qt);ne.push(Fn),Ve=qt}Ct(ne),St(Z)};n.useEffect(()=>{et.length&&(Q!=null&&Q.name)&&Me()},[et,Q]);const Me=async()=>{if(W(!0),(Ae==null?void 0:Ae.current)<tt){const E=et[Ae.current];try{await qe(E,a,tt,Ae.current+1,(Q==null?void 0:Q.name)??""),Ae.current++,ae(Math.round(Ae.current/tt*100)),await Me()}catch(Z){console.error("Error uploading chunk:",Z)}}else W(!1),ae(0)},Ge=async E=>{W(!0);try{if(!E||E.size>on)return;if(Re(E),E.size<=zt){const Z=await Ne(E,a,se),{data:ne}=Z;ne.result||r({description:ne.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else Pe(E)}catch(Z){console.error("Error uploading audio:",Z)}finally{W(!1),ae(0)}};n.useEffect(()=>{N&&Ge(N)},[N]);const ce=async E=>{J(!0);try{if(!E)return;te(E);const Z=await Ne(E,a,z),{data:ne}=Z;ne.result||r({description:ne.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}catch(Z){console.error("Error uploading artwork:",Z)}finally{J(!1),H(0)}};n.useEffect(()=>{m&&ce(m)},[m]);const he=async()=>{var Z;F(!0);const E={name:u,description:w,price:x.toString(),genre:g,release_date:M,label:U,artist:y,filename:G};m&&(E.artwork=m.name),N&&(E.download=N.name);try{(Z=(await ao(Number(o),a,E)).data)!=null&&Z.result?(r({description:"Product updated",status:"success",duration:3e3,isClosable:!0}),t("/product")):r({description:"Update failed",status:"error",duration:3e3,isClosable:!0})}catch(ne){console.error("Error updating product:",ne),r({description:"Update failed",status:"error",duration:3e3,isClosable:!0})}finally{F(!1)}};return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:e.jsx(i,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(i,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(i,{background:"#300a6e",justifyContent:"center",children:e.jsx(D,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(oe,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Release Name"}),e.jsx(S,{type:"text",value:u,placeholder:"Name of Release / Track",onChange:E=>b(E.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Description"}),e.jsx(ze,{value:w,placeholder:"Write something about this release",onChange:E=>k(E.target.value)})]}),!m&&e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Artwork Preview"}),e.jsx(be,{src:"https://files.djfan.app/"+ie,width:"100%",height:"auto",objectFit:"cover",borderRadius:"10px"})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Release Artwork"}),e.jsx(S,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:E=>O.current=E,onChange:E=>{if(E.target.files){const Z=E.target.files[0];_(Z)}else _(null),te(null)}})]}),L?e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",A==null?void 0:A.name]}),e.jsx(We,{hasStripe:!0,value:h})]}):A?e.jsxs(i,{alignItems:"center",children:[e.jsx(Ue,{onClick:()=>{te(null),O.current&&(O.current.value="")}}),e.jsx(d,{ml:"10px",children:A==null?void 0:A.name})]}):null,e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Price ($ USD)"}),e.jsx(wn,{value:x,onChange:E=>I(E),precision:2,children:e.jsx(vn,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Genre"}),e.jsx(S,{type:"text",value:g,onChange:E=>B(E.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Release Date"}),e.jsx(S,{type:"date",value:M,placeholder:"Select a date",onChange:E=>q(E.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Record Label"}),e.jsx(S,{type:"text",placeholder:"Name of Record Label",value:U,onChange:E=>$(E.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Featured Artists"}),e.jsx(S,{type:"text",placeholder:"All Featured Artists",value:y,onChange:E=>Y(E.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Downloadable File Name"}),e.jsx(S,{type:"text",placeholder:"e.g. song-name.wav",value:G,onChange:E=>T(E.target.value)})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Downloadable Track File"}),e.jsx(S,{type:"file",accept:".mp3,.flac,.aiff,.aifc,.wav",border:"0px",p:"2px",ref:E=>X.current=E,onChange:E=>{var Z;if(E.target.files){const ne=(Z=E.target.files)==null?void 0:Z[0];if(!ne)return;if(ne.size>on){E.target.value="";return}ee(ne)}else ee(null),Re(null)}})]}),v?e.jsx(e.Fragment,{children:e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",Q==null?void 0:Q.name]}),e.jsxs(d,{as:"span",paddingLeft:"10px",children:[" ",e.jsx(Oe,{})," "]}),e.jsx(We,{hasStripe:!0,value:K})]})}):Q?e.jsxs(i,{alignItems:"center",children:[e.jsx(Ue,{onClick:()=>{Re(null),X.current&&(X.current.value="")}}),e.jsx(d,{ml:"10px",children:Q==null?void 0:Q.name})]}):null,e.jsx(Ln,{}),e.jsx(R,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:le,onClick:he,isDisabled:!u||!x||!g||!M||!U||L||v,children:"UPDATE PRODUCT"})]})]})})})]})},ko=async(t,r)=>await V.post(`/dj/product/audio/${r}`,t),an=1*1024*1024*1024,Rt=10*1024*1024,Po=()=>{const t=ke(),r=ye(),[s,o]=n.useState(""),[l,p]=n.useState(""),[a,f]=n.useState(""),[u,b]=n.useState(null),[w,k]=n.useState(""),[m,_]=n.useState(""),[x,I]=n.useState(""),[g,B]=n.useState(""),[M,q]=n.useState(""),[U,$]=n.useState(""),[y,Y]=n.useState(null),G=n.useRef(null),T=n.useRef(null),[N,ee]=n.useState(!1),[ie,P]=n.useState(0),[O,X]=n.useState(!1),[le,F]=n.useState(0),[h,H]=n.useState(!1),[L,J]=n.useState(null),[K,ae]=n.useState(null),[v,W]=n.useState([]),[A,te]=n.useState(0),Q=z=>{const se=Math.round(z.loaded*100/(z.total||0));P(se)},Re=z=>{const se=Math.round(z.loaded*100/(z.total||0));F(se)},et=async()=>{const z=await $e(He.product);o(z)};n.useEffect(()=>{et()},[]);const Ct=z=>{const se=Math.ceil(z.size/Rt),re=[];let Pe=0;for(let Me=0;Me<se;Me++){const Ge=Math.min(Pe+Rt,z.size),ce=z.slice(Pe,Ge);re.push(ce),Pe=Ge}W(re),te(se)};n.useEffect(()=>{v.length&&(K!=null&&K.name)&&Ae()},[v,K]);const Ae=async()=>{var Ge;H(!0);const z=2,se=[],re=[],Pe=[],Me=async(ce,he)=>{var Z;try{const ne=await qe(ce,s,A,he+1,(K==null?void 0:K.name)??"");(Z=ne==null?void 0:ne.data)!=null&&Z.result?F(Math.round((he+1)/A*100)):(console.error(`Audio Chunk ${he+1} failed to upload`),Pe.push(he))}catch{console.error(`Audio Chunk ${he+1} failed to upload`),Pe.push(he)}const E=re.indexOf(he);E!==-1&&re.splice(E,1)};for(let ce=0;ce<A;ce++){if(Pe.includes(ce))continue;const he=v[ce];if(re.length<z)re.push(ce),Me(he,ce);else{se.push({chunk:he,chunkIndex:ce}),await Promise.race(re.map(Z=>new Promise(ne=>{const Ve=setInterval(()=>{re.indexOf(Z)===-1&&(clearInterval(Ve),ne(Z))},1e3)})));const E=se.shift();if(E){const{chunk:Z,chunkIndex:ne}=E;re.push(ne),Me(Z,ne)}}}if(await Promise.all(re.map(ce=>new Promise(he=>{const E=setInterval(()=>{re.indexOf(ce)===-1&&(clearInterval(E),he(ce))},1e3)}))),Pe.length>0)for(const ce of Pe){const he=v[ce],E=await qe(he,s,A,ce+1,(K==null?void 0:K.name)??"");(Ge=E==null?void 0:E.data)!=null&&Ge.result||console.error(`Audio Chunk ${ce+1} failed to upload`)}H(!1),F(0)},tt=async z=>{H(!0);try{if(!z||z.size>an)return;if(ae(z),z.size<=Rt){const se=await Ne(z,s,Re),{data:re}=se;re.result||r({description:re.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else Ct(z)}catch(se){console.error("Error uploading audio:",se)}finally{H(!1),F(0)}};n.useEffect(()=>{y&&tt(y)},[y]);const St=async z=>{X(!0);try{if(!z)return;J(z);const se=await Ne(z,s,Q),{data:re}=se;re.result||r({description:re.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}catch(se){console.error("Error uploading artwork:",se)}finally{X(!1),P(0)}};n.useEffect(()=>{u&&St(u)},[u]);const kt=async()=>{var se;ee(!0);const z={name:l,description:a,artwork:(u==null?void 0:u.name)??"",price:w.toString(),genre:m,release_date:x,label:g,artist:M,filename:U,download:(y==null?void 0:y.name)??""};try{(se=(await ko(z,s)).data)!=null&&se.result&&(r({description:"Product created",status:"success",duration:3e3,isClosable:!0}),t("/product"))}catch(re){console.error("Error creating product:",re)}finally{ee(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:e.jsx(i,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(i,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(i,{background:"#300a6e",justifyContent:"center",children:e.jsx(D,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(oe,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Release Name"}),e.jsx(S,{type:"text",value:l,placeholder:"Name of Release / Track",onChange:z=>p(z.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Description"}),e.jsx(ze,{value:a,placeholder:"Write something about this release",onChange:z=>f(z.target.value)})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(C,{children:"Release Artwork"}),e.jsx(S,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:z=>G.current=z,onChange:z=>{if(z.target.files){const se=z.target.files[0];b(se)}else b(null),J(null)}})]}),O?e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",L==null?void 0:L.name]}),e.jsx(We,{hasStripe:!0,value:ie})]}):L?e.jsxs(i,{alignItems:"center",children:[e.jsx(Ue,{onClick:()=>{J(null),G.current&&(G.current.value="")}}),e.jsx(d,{ml:"10px",children:L==null?void 0:L.name})]}):null,e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Price ($ USD)"}),e.jsx(wn,{value:w,onChange:z=>k(z),precision:2,children:e.jsx(vn,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Genre"}),e.jsx(S,{type:"text",value:m,onChange:z=>_(z.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Release Date"}),e.jsx(S,{type:"date",value:x,placeholder:"Select a date",onChange:z=>I(z.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Record Label"}),e.jsx(S,{type:"text",placeholder:"Name of Record Label",value:g,onChange:z=>B(z.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Featured Artists"}),e.jsx(S,{type:"text",placeholder:"All Featured Artists",value:M,onChange:z=>q(z.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Downloadable File Name"}),e.jsx(S,{type:"text",placeholder:"e.g. song-name.wav",value:U,onChange:z=>$(z.target.value)})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(C,{children:"Downloadable Track File"}),e.jsx(S,{type:"file",accept:".mp3,.flac,.aiff,.aifc,.wav",border:"0px",p:"2px",ref:z=>T.current=z,onChange:z=>{var se;if(z.target.files){const re=(se=z.target.files)==null?void 0:se[0];if(!re)return;if(re.size>an){z.target.value="";return}Y(re)}else Y(null),ae(null)}})]}),h?e.jsx(e.Fragment,{children:e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",K==null?void 0:K.name]}),e.jsxs(d,{as:"span",paddingLeft:"10px",children:[" ",e.jsx(Oe,{})," "]}),e.jsx(We,{hasStripe:!0,value:le})]})}):K?e.jsxs(i,{alignItems:"center",children:[e.jsx(Ue,{onClick:()=>{ae(null),T.current&&(T.current.value="")}}),e.jsx(d,{ml:"10px",children:K==null?void 0:K.name})]}):null,e.jsx(Ln,{}),e.jsxs(R,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:N,onClick:kt,isDisabled:!l||!u||!w||!m||!x||!g||!y||O||h,children:["CREATE PRODUCT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})})};function Eo(){return e.jsxs(de,{justifyContent:"space-between",mt:"15px",w:{base:"100%",sm:"500px"},children:[e.jsxs(de,{gap:"4px",children:[e.jsx(fn,{fontSize:"14px"}),e.jsx(c,{as:"a",href:"/create",fontWeight:"500",fontSize:"16px",lineHeight:"1em",children:"Return to Profile"})]}),e.jsxs(Ps,{children:[e.jsx(Es,{fontWeight:"500",children:e.jsxs(de,{gap:"6px",children:[e.jsx(c,{fontSize:"16px",lineHeight:"1em",children:"Change Post Type"}),e.jsx(Is,{fontSize:"18px",color:"#111"})]})}),e.jsxs(Ds,{children:[e.jsx(st,{as:"a",href:"/imagepost",children:"Image Post"}),e.jsx(st,{as:"a",href:"/videopost",children:"Video Post"}),e.jsx(st,{as:"a",href:"/audiopost",children:"Audio Post"}),e.jsx(st,{as:"a",href:"/tourdate",children:"Tour Date"}),e.jsx(st,{as:"a",href:"/product",children:"New Product"})]})]})]})}const Io=async(t,r)=>await V.post(`/dj/event/${r}`,t),Do=()=>{const t=ke(),r=ye(),[s,o]=n.useState(""),[l,p]=n.useState(0),[a,f]=n.useState(!1),[u,b]=n.useState(""),[w,k]=n.useState(""),[m,_]=n.useState(""),[x,I]=n.useState(""),[g,B]=n.useState(""),[M,q]=n.useState(""),[U,$]=n.useState(""),[y,Y]=n.useState(null),[G,T]=n.useState(""),N=n.useRef(null),[ee,ie]=n.useState(!1),P=F=>{const h=Math.round(F.loaded*100/(F.total||0));p(h)},O=async()=>{const F=await $e(He.event);o(F)};n.useEffect(()=>{O()},[]);const X=async F=>{f(!0);try{await Ne(F,s,P)}catch(h){console.log("err",h)}finally{f(!1),p(0)}};n.useEffect(()=>{y&&X(y)},[y]);const le=async()=>{var h;const F={event_name:u,event_date:m,start_time:x,end_time:g,description:w,link_buy_tickets:G,artwork:(y==null?void 0:y.name)??"",venue:M,city:U};ie(!0);try{(h=(await Io(F,s)).data)!=null&&h.result?(ie(!1),r({title:"Event created.",status:"success",duration:3e3,isClosable:!0}),t("/event")):(ie(!1),r({title:"Error creating event.",status:"error",duration:3e3,isClosable:!0}))}catch(H){console.log("err",H)}finally{ie(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsxs(i,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:[e.jsxs(i,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(i,{background:"#300a6e",justifyContent:"center",children:e.jsx(D,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(oe,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Event Name"}),e.jsx(S,{type:"text",value:u,onChange:F=>b(F.target.value),placeholder:"Enter name of event"})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(C,{children:"Event Description"}),e.jsx(ze,{value:w,onChange:F=>k(F.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Event Date"}),e.jsx(S,{type:"date",value:m,onChange:F=>_(F.target.value),placeholder:"Select a date"})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Start Time"}),e.jsx(S,{type:"time",value:x,onChange:F=>I(F.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"End Time"}),e.jsx(S,{type:"time",value:g,onChange:F=>B(F.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Venue"}),e.jsx(S,{type:"text",placeholder:"e.g. Pacha",value:M,onChange:F=>q(F.target.value)})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(C,{children:"City / Location"}),e.jsx(S,{type:"text",placeholder:"e.g. London or Ibiza",value:U,onChange:F=>$(F.target.value)})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Event Artwork"}),e.jsx(S,{ref:F=>N.current=F,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:F=>{F.target.files&&Y(F.target.files[0])}})]}),a?e.jsxs(c,{mb:4,children:[e.jsxs(d,{children:["Uploading ",y==null?void 0:y.name]}),e.jsx(We,{hasStripe:!0,value:l})]}):y?e.jsx(e.Fragment,{children:e.jsxs(i,{alignItems:"center",mb:4,children:[e.jsx(Ue,{cursor:"pointer",onClick:()=>{Y(null),N.current&&(N.current.value="")}}),e.jsx(d,{ml:"10px",children:y==null?void 0:y.name})]})}):null,e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Link to book or buy tickets"}),e.jsx(S,{type:"url",placeholder:"https://",value:G,onChange:F=>T(F.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:ee,onClick:le,isDisabled:!u||!w||!m||!M||!U,children:["CREATE EVENT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]}),e.jsx(Eo,{})]})})]})})},_o=()=>{const t=ke(),r=ye(),s=yn(),{event_id:o=""}=s,[l,p]=n.useState(null),[a,f]=n.useState(""),[u,b]=n.useState(0),[w,k]=n.useState(!1),[m,_]=n.useState(""),[x,I]=n.useState(""),[g,B]=n.useState(""),[M,q]=n.useState(""),[U,$]=n.useState(""),[y,Y]=n.useState(""),[G,T]=n.useState(""),[N,ee]=n.useState(null),[ie,P]=n.useState(""),O=n.useRef(null),[X,le]=n.useState(!1),[F,h]=n.useState(""),H=async v=>{try{const W=await Qr(v),{data:A}=W;if(A.length){const te=A[0];p(te)}}catch(W){console.error("Error getting event:",W)}};n.useEffect(()=>{o&&H(Number(o))},[o]),n.useEffect(()=>{l&&(_(l.event_name),I(l.description),B(l.event_date),q(l.start_time),$(l.end_time),Y(l.venue),T(l.city),P(l.link_buy_tickets),h(l.artwork_cache))},[l]);const L=v=>{const W=Math.round(v.loaded*100/(v.total||0));b(W)},J=async()=>{const v=await $e(He.event);f(v)};n.useEffect(()=>{J()},[]);const K=async v=>{k(!0);try{await Ne(v,a,L)}catch(W){console.log("err",W)}finally{k(!1),b(0)}};n.useEffect(()=>{N&&K(N)},[N]);const ae=async()=>{var W;const v={event_name:m,event_date:g,start_time:M,end_time:U,description:x,link_buy_tickets:ie,artwork:(N==null?void 0:N.name)??"",venue:y,city:G};le(!0);try{(W=(await Zr(Number(o),a,v)).data)!=null&&W.result&&(le(!1),r({title:"Event updated.",status:"success",duration:3e3,isClosable:!0}),t("/event"))}catch(A){console.log("err",A)}};return e.jsx(e.Fragment,{children:e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(pe,{}),e.jsx(i,{w:"100%",justifyContent:"center",children:e.jsx(i,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(i,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(i,{background:"#300a6e",justifyContent:"center",children:e.jsx(D,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(oe,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Event Name"}),e.jsx(S,{type:"text",value:m,onChange:v=>_(v.target.value),placeholder:"Enter name of event"})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(C,{children:"Event Description"}),e.jsx(ze,{value:x,onChange:v=>I(v.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Event Date"}),e.jsx(S,{type:"date",value:g,onChange:v=>B(v.target.value),placeholder:"Select a date"})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Start Time"}),e.jsx(S,{type:"time",value:M,onChange:v=>q(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"End Time"}),e.jsx(S,{type:"time",value:U,onChange:v=>$(v.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(C,{children:"Venue"}),e.jsx(S,{type:"text",placeholder:"e.g. Pacha",value:y,onChange:v=>Y(v.target.value)})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(C,{children:"City / Location"}),e.jsx(S,{type:"text",placeholder:"e.g. London or Ibiza",value:G,onChange:v=>T(v.target.value)})]}),!N&&e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Artwork Preview"}),e.jsx(be,{src:"https://files.djfan.app/"+F,width:"100%",height:"auto",objectFit:"cover",borderRadius:"10px"})]}),e.jsxs(j,{children:[e.jsx(C,{children:"Event Artwork"}),e.jsx(S,{ref:v=>O.current=v,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:v=>{v.target.files&&ee(v.target.files[0])}})]}),w?e.jsxs(c,{mb:4,children:[e.jsxs(d,{children:["Uploading ",N==null?void 0:N.name]}),e.jsx(We,{hasStripe:!0,value:u})]}):N?e.jsx(e.Fragment,{children:e.jsxs(i,{alignItems:"center",mb:4,children:[e.jsx(Ue,{cursor:"pointer",onClick:()=>{ee(null),O.current&&(O.current.value="")}}),e.jsx(d,{ml:"10px",children:N==null?void 0:N.name})]})}):null,e.jsxs(j,{mb:4,children:[e.jsx(C,{children:"Link to book or buy tickets"}),e.jsx(S,{type:"url",placeholder:"https://",value:ie,onChange:v=>P(v.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:X,onClick:ae,isDisabled:!m||!x||!g||!y||!G||w,children:["UPDATE EVENT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})})},zo=t=>V.post("/partner/registration",t),Ro=[{value:"1-5",label:"1-5"},{value:"5-15",label:"5-15"},{value:"15-30",label:"15-30"},{value:"30-50",label:"30-50"},{value:">50",label:">50"}],Ao="/";function Lo(){const[t,r]=n.useState(""),[s,o]=n.useState("1-5"),[l,p]=n.useState(""),[a,f]=n.useState(""),[u,b]=n.useState(""),[w,k]=n.useState(""),[m,_]=n.useState(""),[x,I]=n.useState(""),[g,B]=n.useState(""),[M,q]=n.useState(!1),[U,$]=n.useState(""),[y,Y]=n.useState(!1),G=ye(),[T,N]=n.useState(!1),[ee,ie]=n.useState(!1),P=g.length>=8,O=g===U,X=u.length>0&&w.length>0&&u===w,le=()=>t.length>0&&s.length>0&&l.length>0&&a.length>0&&u.length>0&&w.length>0&&m.length>0&&x.length>0&&g.length>0&&U.length>0&&P&&O&&X,F=async h=>{if(h.preventDefault(),!le())return;const H={partner_type:t,dj_count:s,first_name:l,last_name:a,email:u,company:m,phone:x,password:g,re_email:w,re_password:U};N(!0);try{const L=await zo(H),{data:J}=L;J.result?(G({title:"Success",description:"Partner account created successfully",status:"success",duration:3e3,isClosable:!0}),N(!1),setTimeout(()=>{window.location.href=Ao},2e3)):(G({title:"Error",description:(J==null?void 0:J.message)??"Partner account creation failed",status:"error",duration:3e3,isClosable:!0}),N(!1))}catch(L){console.log("err",L),N(!1)}};return e.jsxs(i,{w:"100%",bg:"#111111",minH:"100vh",flexDirection:"column",pb:"80px",children:[e.jsx(i,{w:"100%",bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",borderBottom:"1px solid #ffffff",gap:"10px",py:"10px",justifyContent:"center",children:e.jsx(c,{as:"a",href:"https://djfan.app",children:e.jsx(be,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),e.jsx(je,{pt:"30px",children:e.jsxs(oe,{spacing:"30px",color:"white",w:{base:"100%",md:"400px"},children:[e.jsxs(oe,{spacing:"2",children:[e.jsx(D,{textAlign:"center",fontSize:_s({base:"26px",md:"30px"}),children:"Become a Partner"}),e.jsxs(c,{textAlign:"center",fontSize:"18px",px:"15px",children:["Refer creators receive"," ",e.jsx(c,{display:"inline",fontWeight:"600",color:"cyan",children:"5% commission"})," ","on the DJfan earnings of each artist."]})]}),e.jsx(oe,{w:"100%",px:{base:"25px",md:"15px"},as:"form",children:e.jsxs(oe,{spacing:"15px",children:[e.jsxs(j,{children:[e.jsx(C,{htmlFor:"partnerType",fontSize:"16px",children:"What describes you best?"}),e.jsxs(Fe,{id:"partnerType",value:t,onChange:h=>r(h.target.value),children:[e.jsx("option",{style:{background:"#000"},children:"Please choose"}),e.jsx("option",{value:"agent",style:{background:"#000"},children:"Agent"}),e.jsx("option",{value:"musicLabel",style:{background:"#000"},children:"Music Label"}),e.jsx("option",{value:"management",style:{background:"#000"},children:"Management"}),e.jsx("option",{value:"venue",style:{background:"#000"},children:"Venue"}),e.jsx("option",{value:"artist",style:{background:"#000"},children:"Artist"}),e.jsx("option",{value:"other",style:{background:"#000"},children:"Other"})]})]}),e.jsxs(j,{children:[e.jsx(C,{htmlFor:"number-artist",fontSize:"16px",children:"How many DJs can you invite?"}),e.jsx(Fe,{id:"artistCount",value:s,onChange:h=>o(h.target.value),children:Ro.map(h=>e.jsx("option",{value:h.value,style:{background:"#000"},children:h.label},h.value))})]}),e.jsx(d,{mt:"5px",fontWeight:"600",lineHeight:"1em",fontSize:"18px",children:"Personal Details"}),e.jsxs(j,{children:[e.jsx(C,{htmlFor:"first-name",display:"none",children:"First Name"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Kt,{})}),e.jsx(S,{id:"first-name",placeholder:"First Name",value:l,onChange:h=>p(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}})]})]}),e.jsxs(j,{children:[e.jsx(C,{htmlFor:"last-name",display:"none",children:"Last Name"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Kt,{})}),e.jsx(S,{id:"last-name",placeholder:"Last Name",value:a,onChange:h=>f(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}})]})]}),e.jsxs(j,{children:[e.jsx(C,{htmlFor:"emailCreds",display:"none",children:"Email"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Qt,{color:"gray.300"})}),e.jsx(S,{name:"emailCreds",id:"emailCreds",placeholder:"Email Address",value:u,onChange:h=>b(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}})]})]}),e.jsxs(j,{isInvalid:!X&&w.length>0,children:[e.jsx(C,{htmlFor:"confirmEmailCreds",display:"none",children:"Confirm Email"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Qt,{color:"gray.300"})}),e.jsx(S,{name:"confirmEmailCreds",id:"confirmEmailCreds",placeholder:"Confirm Email Address",value:w,onChange:h=>k(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}})]}),!X&&e.jsx(at,{children:"Email must match"})]}),e.jsxs(j,{children:[e.jsx(C,{htmlFor:"phone",display:"none",children:"Phone"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(zs,{color:"gray.300"})}),e.jsx(S,{id:"phone",name:"phone",placeholder:"Phone Number",value:x,onChange:h=>I(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}})]})]}),e.jsxs(j,{children:[e.jsx(C,{htmlFor:"company",display:"none",children:"Company"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Rs,{color:"gray.300"})}),e.jsx(S,{id:"company",name:"company",placeholder:"Company Name",value:m,onChange:h=>_(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}})]})]}),e.jsxs(j,{isInvalid:!P&&g.length>0,children:[e.jsx(C,{htmlFor:"passwordCreds",display:"none",children:"Password"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Zt,{color:"gray.300"})}),e.jsx(S,{type:M?"text":"password",name:"passwordCreds",id:"passwordCreds",placeholder:"Enter a Password",fontSize:"16px",lineHeight:"1em",pr:"4.5rem",_focus:{border:"2px solid #00f5d4"},value:g,onChange:h=>B(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}}),e.jsx(Xt,{h:"full",children:e.jsx(c,{cursor:"pointer",onClick:()=>q(h=>!h),children:M?e.jsx(en,{}):e.jsx(tn,{})})})]}),!P&&e.jsxs(de,{justifyContent:"space-between",children:[e.jsx(at,{children:"Password must be 8+ characters"}),e.jsxs(at,{color:"#fff",children:[g.length,"/8"]})]})]}),P&&e.jsxs(j,{isInvalid:!O&&U.length>0,children:[e.jsx(C,{htmlFor:"confirmPasswordCreds",display:"none",children:"Confirm Password"}),e.jsxs(ue,{children:[e.jsx(Ce,{pointerEvents:"none",children:e.jsx(Zt,{color:"gray.300"})}),e.jsx(S,{type:y?"text":"password",name:"confirmPasswordCreds",id:"confirmPasswordCreds",placeholder:"Confirm Password",fontSize:"16px",lineHeight:"1em",pr:"4.5rem",_focus:{border:"2px solid #00f5d4"},value:U,onChange:h=>$(h.target.value),color:"#fff",focusBorderColor:"#71fbfd",_placeholder:{opacity:.7,color:"#fff"}}),e.jsx(Xt,{h:"full",children:e.jsx(c,{cursor:"pointer",onClick:()=>Y(h=>!h),children:M?e.jsx(en,{}):e.jsx(tn,{})})})]}),!O&&e.jsx(at,{children:"Passwords must match"})]}),e.jsxs(Tt,{size:"sm",spacing:"3",checked:ee,onChange:h=>ie(h.target.checked),children:["I agree to DJfan"," ",e.jsx(fe,{href:"/partner_terms",color:"cyan",target:"_new",children:"partner terms"})]}),e.jsx(R,{rightIcon:e.jsx(As,{}),color:"white",bg:"#be04f1",mt:"5px",_hover:{color:"#be04f1",bg:"#ffffff"},onClick:F,isDisabled:!le()||!ee,isLoading:T,children:"CREATE ACCOUNT"}),e.jsxs(d,{textAlign:"center",fontSize:"12px",children:["Once your Partner account is approved, you will have a"," ",e.jsx("b",{children:"unique invitation link"})," to give to DJs. You will also be able to connect your bank account to ",e.jsx("b",{children:"receive payouts"}),"."]})]})})]})})]})}function Fo(){return e.jsxs(i,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(c,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",py:"10px",children:e.jsx(c,{as:"a",href:"/",children:e.jsx(be,{id:"logo",w:"120px",src:"https://files.djfan.app/images/djfan-beta.png"})})}),e.jsx(c,{w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(je,{w:"100%",maxW:"700px",alignItems:"flex-start",px:{base:"15px",md:"10px"},pt:{base:"20px",md:"30px"},pb:{base:"30px",md:"50px"},gap:"5px",children:[e.jsx(D,{fontSize:"20px",pb:"10px",children:"Partner Program Terms and Conditions"}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"1. Introduction"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:'This document outlines the terms and conditions of the Partner Program ("Program") offered by DJfan. By participating in the Program, you ("Partner") agree to abide by these terms and conditions.'}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"2. Affiliate Link"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:'Upon registration to the Program, Partners will be given a unique invitation link ("Affiliate Link"). This link should be shared with potential users to invite them to join DJfan.'}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"3. Referrals"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:`A "Referral" is defined as a user who joins DJfan using a Partner's Affiliate Link. Referrals must be real individuals who meet our platform's eligibility criteria.`}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"4. Referral Earnings"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:'Partners will earn a commission of 5% ("Referral Earnings") of all income generated by their Referrals. The calculation of this income will include all revenues generated by the Referral, excluding any taxes, chargebacks, refunds, or fraudulent transactions.'}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"5. Payouts"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:"Referral Earnings will be paid out on a monthly basis, or when the Partner's accrued earnings reach a minimum threshold, as defined by DJfan. Payout method and any associated processing fees will be communicated to the Partner ahead of time."}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"6. Partner Dashboard"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:"Partners will have access to a Partner Dashboard, where they can monitor their Referrals, Referral Earnings, and upcoming Payouts."}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"7. Qualified Earnings"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:`"Qualified Earnings" are the portion of a Referral's income that are eligible for the Partner's commission. This includes all revenues generated by the Referral, excluding any taxes, chargebacks, refunds, or fraudulent transactions.`}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"8. Termination"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:"Partners may be removed from the Program at any time, for any reason, at the discretion of DJfan. Grounds for termination may include, but are not limited to, fraudulent activity, violation of DJfan's Terms of Service, or failure to generate any Referrals over an extended period."}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"9. Fraudulent Activity"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:'Any attempt to manipulate the system, create false Referrals, or otherwise engage in dishonest practices will be considered "Fraudulent Activity" and may result in immediate termination from the Program and forfeit of any earned commissions.'}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"10. Payment Threshold"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:'The "Payment Threshold" is the minimum amount of Referral Earnings a Partner must accrue before they can receive a payout. The Payment Threshold is subject to change at the discretion of [Your Creator Platform].'}),e.jsx(D,{fontSize:"16px",lineHeight:"1em",children:"11. Modifications to Terms"}),e.jsx(d,{fontSize:"14px",pb:"10px",children:"DJfan reserves the right to modify these terms at any time. Any changes will be communicated to Partners in a timely manner."}),e.jsx(d,{fontSize:"14px",pb:"10px",children:"By signing up to participate in the Program, you acknowledge that you have read, understood, and agreed to these terms and conditions. If you do not agree with any part of these terms, you should not participate in the Program."}),e.jsx(fe,{fontSize:"14px",fontWeight:"bold",href:"https://djfan.app/terms-of-use",target:"_new",color:"#7d5aeb",children:"See terms for all users"})]})}),e.jsxs(i,{py:"15px",fontSize:"12px",justifyContent:"center",bg:"#111",color:"#fff",textAlign:"center",children:["© 2023 DJfan Ltd.",e.jsx("br",{})," 1 Quality Court, Chancery Lane, London, WC2A 1HR"]})]})}const Wo=Wt.lazy(()=>Ts(()=>import("./ChatWrapper-035d34fe.js").then(t=>t.C),["assets/ChatWrapper-035d34fe.js","assets/vendor-2cd61aa2.js","assets/ChatWrapper-668495bf.css"])),Uo=Ls([{path:"/",element:e.jsx(Os,{}),errorElement:e.jsx(Bs,{}),children:[{path:"partner_terms",element:e.jsx(Fo,{})},{element:e.jsx(mr,{}),path:"",children:[{path:"/",element:e.jsx(yr,{})},{path:"/partners",element:e.jsx(go,{})},{path:"/create",children:[{path:"",element:e.jsx(Pr,{})},{path:"/create/video",element:e.jsx(vr,{})},{path:"/create/image",element:e.jsx(Lr,{})},{path:"/create/audio",element:e.jsx(Ur,{})},{path:"/create/text",element:e.jsx(Fr,{})}]},{path:"/event",element:e.jsx(eo,{})},{path:"/event/create",element:e.jsx(Do,{})},{path:"/event/edit/:event_id",element:e.jsx(_o,{})},{path:"/product",element:e.jsx(co,{})},{path:"/product/create",element:e.jsx(Po,{})},{path:"/product/edit/:product_id",element:e.jsx(So,{})},{path:"/settings",element:e.jsx(Ar,{})},{path:"/earnings",element:e.jsx($r,{})},{path:"/payouts",element:e.jsx(qr,{})},{path:"/fans",element:e.jsx(so,{})},{path:"/invitations",element:e.jsx(vo,{})},{path:"/chat",element:e.jsx(n.Suspense,{children:e.jsx(Wo,{})})}]},{path:"/create-account",element:e.jsx(Pn,{children:e.jsx(_n,{})})},{path:"/partners-registration",element:e.jsx(Lo,{})}]}]),No=new Fs({defaultOptions:{queries:{retry:3,cacheTime:3e5,staleTime:20*1e3}}});function Ho(){return e.jsx(Ws,{client:No,children:e.jsx(un,{children:e.jsx(Us,{router:Uo})})})}Ns.createRoot(document.getElementById("root")).render(e.jsx(Wt.StrictMode,{children:e.jsx(Ho,{})}));export{pe as H,Ts as _,V as a,Be as b,Ke as u};
