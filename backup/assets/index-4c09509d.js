import{u as Ps,j as e,O as Jt,a as Is,B as c,H as L,T as d,i as Ds,F as o,b as z,V as ge,I as me,C as ue,c as de,r as n,d as Es,e as Zt,f as zs,S as _s,g as Rs,h as As,k as Ls,L as fe,l as Fs,m as $e,R as Qt,n as Q,o as j,p as Ae,q as rt,s as Ft,t as C,v as Vt,w as ot,x as Ws,y as Xt,z as S,P as es,A as ts,D as ss,U as Us,E as Je,G as Ms,J as Te,K as it,M as Wt,N as Ns,Q as he,W as ns,X as Ts,Y as Hs,Z as Os,_ as Bs,$ as Gs,a0 as $s,a1 as Vs,a2 as Ys,a3 as Ie,a4 as Le,a5 as rs,a6 as os,a7 as qs,a8 as He,a9 as Ks,aa as Ut,ab as Js,ac as Mt,ad as be,ae as Zs,af as Fe,ag as De,ah as Ee,ai as Se,aj as ct,ak as dt,al as Xe,am as et,an as xt,ao as pt,ap as ht,aq as ut,ar as _e,as as is,at as as,au as Qs,av as Xs,aw as en,ax as Nt,ay as Tt,az as we,aA as Ht,aB as ve,aC as tn,aD as sn,aE as nn,aF as Qe,aG as Ot,aH as ft,aI as gt,aJ as Bt,aK as Ne,aL as je,aM as mt,aN as pe,aO as Rt,aP as rn,aQ as on,aR as ls,aS as cs,aT as an,aU as ln,aV as cn,aW as dn,aX as xn,aY as pn,aZ as hn,a_ as un,a$ as fn,b0 as gn,b1 as ds,b2 as xs,b3 as ps,b4 as mn,b5 as jn,b6 as bn,b7 as yn,b8 as Ze,b9 as wn,ba as vn,bb as Sn,bc as Cn,bd as kn}from"./vendor-575fed9e.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const x of l)if(x.type==="childList")for(const i of x.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const x={};return l.integrity&&(x.integrity=l.integrity),l.referrerPolicy&&(x.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?x.credentials="include":l.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function a(l){if(l.ep)return;l.ep=!0;const x=s(l);fetch(l.href,x)}})();const Pn=()=>{const[t]=Ps();return t.get("invite")!=null&&window.location.assign("https://auth.djfan.app/auth/signupdj?invite="+t.get("invite")),e.jsx(e.Fragment,{children:e.jsx(Jt,{})})},In=()=>{const t=Is();return e.jsxs(c,{display:"flex",flexDir:"column",alignItems:"center",children:[e.jsx(L,{as:"h1",size:"md",children:"Oops..."}),e.jsx(d,{fontSize:"sm",children:Ds(t)?"Invalid page.":"Sorry, an unexpected error has occurred."})]})};function Dn(){return e.jsxs(o,{flexDirection:"column",align:"center",justify:"center",px:"20px",py:"40px",color:"#fff",gap:"15px",position:"relative",children:[e.jsx(o,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",bg:"rgba(0, 0, 0, 0.7)",zIndex:"-1"}),e.jsx(o,{bgImage:"url('https://djfan.ams3.cdn.digitaloceanspaces.com/2023/10/dj-home-cta.jpg')",bgSize:"cover",bgRepeat:"no-repeat",bgPos:"center center",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"-2"}),e.jsx(L,{fontSize:"42px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"Convert faceless followers into loyal supporters"}),e.jsx(d,{fontSize:{base:"24px",md:"28px"},lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",maxW:"900px",children:"Use paid memberships to increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."}),e.jsx(z,{mt:"10px",bg:"#fff",size:"lg",fontWeight:"700",as:"a",href:"/",children:"START FOR FREE"})]})}const En=[{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9370782.png",name:"Text Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/imagetext.png",name:"Image Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9975051.png",name:"Private Content"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9094095.png",name:"Gallery Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/soundcloud.png",name:"Embed Audio"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/youtube-play.png",name:"Embed Video"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/2753339.png",name:"Tour Dates"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/music-file.png",name:"Upload Audio"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/2631012.png",name:"Sell Audio Files"}];function zn(){return e.jsx(o,{w:"100%",bg:"#111",py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:{base:"25px",md:"35px"},maxW:{base:"100%",md:"1100px"},justifyContent:"center",alignItems:"center",children:[e.jsx(L,{fontSize:{base:"24px",md:"32px"},lineHeight:"1.2em",color:"#fff",textAlign:"center",px:"35px",children:"What content can you display on your creator feed?"}),e.jsx(o,{w:{base:"90%",md:"1500px"},flexWrap:"wrap",color:"#fff",gap:"25px",align:"center",justifyContent:{base:"space-around",md:"space-between"},children:En.map(t=>e.jsxs(ge,{w:{base:"45%",md:"unset"},gap:"20px",children:[e.jsx(me,{src:t.src,w:{base:"60px",md:"60px"}}),e.jsx(d,{fontSize:"20px",fontWeight:"600",children:t.name})]},t.name))})]})})}const _n=[{src:"https://images.unsplash.com/flagged/photo-1569521739482-5443615d3725?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Monetise Your Audience",description:"Offer monthly memberships with exclusive content, updates, guest-list chances, playlists + more."},{src:"https://plus.unsplash.com/premium_photo-1661776849166-3d27b91449bb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80",title:"Engage Your Fanbase",description:"Nurture, reward, and grow your audience. Communicate directly and get to know your most dedicated fans."},{src:"https://images.unsplash.com/photo-1586156938613-769b0353c8fc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Create Consistency",description:"Establish a recurring revenue stream and say goodbye to inconsistent, seasonal income and stress."},{src:"https://images.unsplash.com/photo-1661966522340-a51f578e4017?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Done-For-You Setup",description:"Sit-back while we launch your fully-featured membership solution + provide ongoing support."},{src:"https://plus.unsplash.com/premium_photo-1683133991632-41cb80c0eab6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Your Fans, Your Data",description:"Maintain 100% ownership and control over customer info, audience analytics, and payment gateways."},{src:"https://images.unsplash.com/photo-1550614806-51d8db524675?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Flexible Payouts",description:"Unlike slow-paying venues you can pay yourself whenever you want, or receive scheduled auto payments."}];function Rn(){return e.jsx(o,{flexDir:"column",alignItems:"center",py:{base:"30px",md:"50px"},children:e.jsxs(o,{flexWrap:"wrap",gap:"20px",flexDir:"row",maxW:"1100px",justifyContent:{base:"center",md:"space-between"},children:[e.jsxs(o,{bg:"linear-gradient(75deg,#8553F4, #811E86)",direction:"column",justifyContent:"center",w:{base:"90%",md:"100%"},maxW:"1100px",align:"center",py:"30px",px:{base:"20px",md:"30px"},borderRadius:"10px",color:"white",gap:{base:"0px",md:"10px"},children:[e.jsx(L,{fontSize:{base:"28px",md:"36px"},children:"Why join DJfan?"}),e.jsx(d,{textAlign:"center",pt:"6px",fontSize:{base:"18px",md:"22px"},children:"Earn monthly passive income by offering paid memberships directly to eager fans. Increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."})]}),_n.map(t=>e.jsxs(ue,{borderRadius:"10px",w:{base:"90%",md:"32%"},overflow:"hidden",textAlign:"center",border:"2px solid #111",children:[e.jsx(me,{maxH:"200px",objectFit:"cover",src:t.src}),e.jsxs(ge,{gap:"5px",px:"15px",py:{base:"15px",md:"20px"},children:[e.jsx(L,{fontSize:"20px",fontWeight:"700",children:t.title}),e.jsx(d,{w:"100%",fontSize:"16px",fontWeight:"500",children:t.description})]})]},t.title))]})})}const An=()=>e.jsx(c,{w:"100%",backgroundImage:"url(https://djfan.ams3.cdn.digitaloceanspaces.com/2023/07/bg-dj.jpg)",display:"flex",justifyContent:"center",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},children:e.jsx(o,{maxW:{base:"100%",md:"1024px"},alignItems:"center",children:e.jsxs(ge,{w:"100%",gap:"20px",children:[e.jsx(L,{color:"white",fontSize:{base:"36px",md:"58px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Increase your income by rewarding your top fans"}),e.jsx(d,{color:"white",fontWeight:"500",fontSize:{base:"20px",md:"24px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:"We provide a membership platform for DJs where they can connect and engage with their fans and access to tools generate a consistent passive income."}),e.jsx(de,{children:e.jsx(z,{onClick:()=>{window.open("https://auth.djfan.app/auth/signupdj","_self")},children:"CREATE ACCOUNT"})})]})})}),Ln=()=>e.jsx(o,{w:"100%",bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(o,{maxW:{base:"100%",md:"1024px"},justifyContent:"center",alignItems:"center",children:e.jsxs(ge,{w:"100%",gap:"20px",children:[e.jsxs(L,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:["The creator economy is valued at"," ",e.jsx("span",{style:{padding:"0px 5px",background:"cyan",color:"#111"},children:"$250 billion"})," ","and could double by 2027. ... will you be part of it?"]}),e.jsxs(d,{color:"white",fontWeight:"500",fontSize:{base:"14px",md:"14px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:["Source:"," ",e.jsx("a",{rel:"noreferrer",target:"_blank",href:"https://www.goldmansachs.com/intelligence/pages/the-creator-economy-could-approach-half-a-trillion-dollars-by-2027.html#:~:text=As%20the%20ecosystem%20grows%2C%20the,%24250%20billion%20today%2C%20Sheridan%20writes.",children:"Goldman Sachs"})]})]})})}),Fn=()=>{const[t,r]=n.useState(5e4),s=Math.round(.05*t*7.5);return e.jsxs(ge,{py:"30px",bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",children:[e.jsx(me,{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/exchange-rate-1.png",width:{base:"55px",md:"75px"}}),e.jsx(L,{color:"#fff",py:"10px",fontSize:{base:"20px",md:"28px"},lineHeight:{base:"1em",md:"1em"},textAlign:"center",children:"Calculate Potential Creator Earnings"}),e.jsxs(ge,{bg:"#111",borderRadius:"lg",boxShadow:"xl",py:"20px",w:{base:"90%",md:"500px"},overflow:"hidden",border:"2px solid cyan",children:[e.jsx(L,{color:"#fff",fontSize:{base:"18px",md:"20px"},mb:"10px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"How many followers do you have?"}),e.jsxs(de,{color:"white",justifyContent:"flex-start",w:"100%",maxW:"80%",children:[e.jsx(Es,{}),e.jsx(Zt,{}),e.jsx(zs,{})," ",e.jsx(L,{size:"26px",color:"white",children:t})]}),e.jsxs(_s,{maxW:"80%","aria-label":"Number of Users",value:t,min:1e4,max:2e5,onChange:a=>r(a),defaultValue:5e4,children:[e.jsx(Rs,{children:e.jsx(As,{})}),e.jsx(Ls,{boxSize:4,borderColor:"gray.400",borderWidth:1})]}),e.jsx(o,{children:e.jsxs(c,{color:"white",fontSize:"20px",children:["Earn an extra"," ",e.jsxs("span",{style:{color:"cyan",fontWeight:"600"},children:["$",s]})," ","per month"]})})]})]})};function Wn(){return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(c,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(fe,{href:"/",children:e.jsx(me,{id:"logo",w:"120px",src:"https://files.djfan.app/images/djfan-beta.png"})}),e.jsx(z,{onClick:()=>{window.open("https://auth.djfan.app/auth/signindj","_self")},children:"SIGN IN"})]})})}),e.jsx(An,{}),e.jsx(Fn,{}),e.jsx(Rn,{}),e.jsx(zn,{}),e.jsx(Ln,{}),e.jsx(Dn,{}),e.jsx(o,{py:"15px",fontSize:"12px",justifyContent:"center",bg:"#111",color:"#fff",children:"© 2023 DJfan Ltd. 1 Quality Court, Chancery Lane, London, WC2A 1HR"})]})}const Un=({to:t})=>(console.log(t),e.jsx(Wn,{})),O=Fs.create({baseURL:"https://api-dj.djfan.app",withCredentials:!0}),Mn=()=>O.get("/dj/me").then(t=>t.data.result),We=()=>$e({queryKey:["userAccount"],queryFn:()=>Mn()}),hs=t=>O.post("/dj/me",t),Nn=()=>O.get("/dj/me/change_email"),Tn=()=>O.get("/dj/me/reset_password"),Hn=()=>O.delete("/dj/me/delete_account"),On=t=>{const r=()=>O.get(`/dj/me/profile_url/${t}`).then(s=>s.data.result);return $e({queryKey:["usernameCheck"],queryFn:()=>r()})},us=()=>{const t=()=>{window.open("https://auth.djfan.app/auth/signout","_self")};return e.jsx(z,{onClick:t,children:"Sign Out"})},Bn=()=>O.get("/dj/me/details").then(t=>t.data.result),Ue=()=>$e({queryKey:["user"],queryFn:()=>Bn()}),Ge=t=>O.post("/dj/me/details",t);function Gn(){const{data:t,isLoading:r}=Ue(),s=!!(t!=null&&t.profile_picture);return r?e.jsx("div",{children:"Loading..."}):(s||(window.location.href="/create-account"),e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(c,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",w:"100%",children:e.jsx(o,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",children:e.jsx(o,{w:"100%",alignItems:"center",px:{base:"10px",md:"0px"},py:"10px",justifyContent:"center",children:e.jsx(me,{id:"logo",w:"120px",src:"https://files.djfan.app/images/djfan-beta.png"})})})}),e.jsx(o,{w:"100%",flexGrow:1,bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(o,{w:"100%",justifyContent:"center",alignItems:"center",children:e.jsxs(ge,{w:"100%",gap:"20px",children:[e.jsx(L,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Your profile is being reviewed, and we will inform you when ready to use."}),e.jsx(us,{})]})})})]}))}const fs=n.createContext({}),gs=({children:t})=>{const[r,s]=n.useState(""),[a,l]=n.useState(""),[x,i]=n.useState(""),[h,f]=n.useState(""),[b,w]=n.useState(""),[k,m]=n.useState(""),[E,p]=n.useState(""),[P,u]=n.useState(""),[W,U]=n.useState(""),[$,M]=n.useState(""),[_,g]=n.useState(""),[B,R]=n.useState(null),[Y,N]=n.useState(null),[T,G]=n.useState(""),[v,H]=n.useState("");return e.jsx(fs.Provider,{value:{displayName:r,firstName:a,lastName:x,username:h,shortBio:b,location:k,country:E,countryCode:P,instagram:W,soundcloud:$,website:_,profileImage:B,coverImage:Y,profilePreview:T,coverPreview:v,setDisplayName:s,setFirstName:l,setLastName:i,setUsername:f,setShortBio:w,setLocation:m,setCountry:p,setCountryCode:u,setInstagram:U,setSoundcloud:M,setWebsite:g,setProfileImage:R,setCoverImage:N,setProfilePreview:G,setCoverPreview:H},children:t})},Ve=()=>{const t=Qt.useContext(fs);if(t===void 0)throw new Error("useCreateAccountContext must be used within a CreateAccountContextProvider");return t},$n={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},Vn=()=>{const{displayName:t,firstName:r,lastName:s,setDisplayName:a,setFirstName:l,setLastName:x}=Ve();return e.jsxs(Q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(L,{mb:"5px",fontSize:"20px",children:"Welcome to DJfan"}),e.jsx(L,{fontSize:"14px",fontWeight:"500",children:"Add your names to complete your account."})]}),e.jsx(j,{children:e.jsxs(Ae,{children:[e.jsx(rt,{pointerEvents:"none",children:e.jsx(Ft,{color:"#111"})}),e.jsx(C,{type:"text",placeholder:"Artist Name",value:t,onChange:i=>a(i.target.value)})]})}),e.jsx(j,{children:e.jsxs(Ae,{children:[e.jsx(rt,{pointerEvents:"none",children:e.jsx(Vt,{color:"#111"})}),e.jsx(C,{type:"text",placeholder:"First Name",value:r,onChange:i=>l(i.target.value)})]})}),e.jsxs(j,{children:[e.jsxs(Ae,{children:[e.jsx(rt,{pointerEvents:"none",children:e.jsx(Vt,{color:"#111"})}),e.jsx(C,{type:"text",placeholder:"Last Name",value:s,onChange:i=>x(i.target.value)})]}),e.jsx(d,{...$n,children:"100% Privacy. Only your DJ name will be public."})]})]})},Yn=()=>{const{username:t,setUsername:r}=Ve(),[s,a]=n.useState(!1),{data:l={},refetch:x}=On(t),i=n.useMemo(()=>/^[a-zA-Z0-9\-_]{3,50}$/.test(t)?!!l:!1,[t,l]),h=f=>{let b=f.target.value;const w=/[^a-z0-9\-_]/;b=b.toLowerCase(),b=b.replace(w,""),b=b.substring(0,50),r(b)};return n.useEffect(()=>{t&&t.length>2&&x()},[t]),e.jsxs(Q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(L,{mb:"5px",fontSize:"20px",children:"Choose a Username"}),e.jsx(L,{fontSize:"14px",fontWeight:"500",children:"Your username creates your profile page link"})]}),e.jsx(j,{children:e.jsxs(Ae,{size:"md",children:[e.jsx(ot,{children:"djfan.app/artists/"}),e.jsx(C,{type:"text",id:"username",placeholder:"username",value:t,onChange:h,isInvalid:s&&!i,focusBorderColor:!s||t.length===0?"black.500":i?"green.500":"red.500",onFocus:()=>a(!0)})]})})]})},qn=()=>{const{instagram:t,soundcloud:r,website:s,setInstagram:a,setSoundcloud:l,setWebsite:x}=Ve();return e.jsxs(Q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(L,{mb:"5px",fontSize:"20px",children:"Add Profile Links"}),e.jsx(L,{fontSize:"14px",fontWeight:"500",children:"Link to your website & other social profiles, why are we asking for this? We use Instagram to prevent impersonators and verify your DJfan profile."})]}),e.jsxs(j,{children:[e.jsx(c,{border:"2px solid #3e0080",overflow:"hidden",borderRadius:"5px",children:e.jsxs(Ae,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(ot,{bgGradient:"linear(to-r,#5c03bc, #e536ab)",...kt,children:e.jsx(Zt,{fontSize:"24px",color:"white"})}),e.jsx(C,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Instagram Username",focusBorderColor:"#ffffff00",onChange:i=>a(i.target.value)})]})}),t&&e.jsxs(fe,{href:`https://instagram.com/${t}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["instagram.com/",e.jsx("b",{children:t})]})]}),e.jsxs(j,{children:[e.jsx(c,{border:"2px solid #FF5500",overflow:"hidden",borderRadius:"5px",children:e.jsxs(Ae,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(ot,{bg:"#FF5500",...kt,children:e.jsx(Ws,{fontSize:"25px",color:"white"})}),e.jsx(C,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"SoundCloud Username",focusBorderColor:"#ffffff00",onChange:i=>l(i.target.value)})]})}),r&&e.jsxs(fe,{href:`https://soundcloud.com/${r}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["soundcloud.com/",e.jsx("b",{children:r})]})]}),e.jsxs(j,{children:[e.jsx(c,{border:"2px solid #111",overflow:"hidden",borderRadius:"5px",children:e.jsxs(Ae,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(ot,{bg:"#fff",...kt,borderRight:"2px solid #111",children:e.jsx(Xt,{fontSize:"20px",color:"#111"})}),e.jsx(C,{type:"url",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Website e.g. artistname.com",focusBorderColor:"#ffffff00",onChange:i=>x(i.target.value)})]})}),s&&e.jsxs(c,{as:"span",pt:"10px",display:"flex",pl:"10px",children:["Website: ",e.jsxs(fe,{href:`https://${s}`,target:"_blank",rel:"noopener noreferrer",_hover:{textDecoration:"underline"},children:["https://",e.jsx("b",{children:s})]})]})]})]})},kt={borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",p:"0px 2px 0px 0px",width:"40px",justifyContent:"center"},ms=async()=>{const t=await O.get("/dj/countries"),{data:r}=t;return r??[]},Kn=()=>{const[t,r]=n.useState([]),{setCountry:s,shortBio:a,setShortBio:l,location:x,setLocation:i,countryCode:h,setCountryCode:f}=Ve();return n.useEffect(()=>{ms().then(b=>{r(b)})},[]),e.jsxs(Q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(L,{mb:"5px",fontSize:"20px",children:"Basic Profile Information"}),e.jsx(c,{fontSize:"14px",fontWeight:"500",children:"You can edit all of these later"})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Short Bio"}),e.jsx(C,{type:"text",placeholder:"e.g. DJ & Producer",value:a,onChange:b=>l(b.target.value)}),e.jsxs(es,{children:[e.jsx(ts,{children:e.jsx(c,{...Jn,color:"#a600ff",cursor:"pointer",textDecoration:"underline",children:"More Examples"})}),e.jsxs(ss,{_focus:{boxShadow:"none"},children:[e.jsxs(Q,{p:"15px",children:[e.jsx(L,{fontSize:"15px",fontWeight:"600",children:"Make it short & sweet!"}),e.jsxs(Us,{fontSize:"13px",children:[e.jsx(Je,{children:"Label Owner & Artist"}),e.jsx(Je,{children:"A wild Artist from Ibiza"}),e.jsx(Je,{children:"Electronic Musician"}),e.jsx(Je,{children:"Label Owner & Producer"}),e.jsx(Je,{children:"Turntablist & Sound Curator"})]})]}),e.jsx(Ms,{})]})]})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Main Location"}),e.jsx(C,{type:"text",placeholder:"e.g. Ibiza or London",value:x,onChange:b=>i(b.target.value)})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Where are you from?"}),e.jsx(Te,{placeholder:"Select Country",value:h,onChange:b=>{const w=b.target.value,k=w?(t.find(m=>m.country_code===w)||{}).country:"";s(k??""),f(w)},children:t.map((b,w)=>e.jsx("option",{value:b.country_code,children:b.country},w))})]})]})},Jn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},js=t=>{const r=new FormData;return r.append("image",t),O.post("/dj/me/profile_picture",r)},bs=t=>{const r=new FormData;return r.append("image",t),O.post("/dj/me/cover_photo",r)},Zn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},Qn=()=>{const{profileImage:t,setProfileImage:r,coverImage:s,setCoverImage:a,profilePreview:l,setProfilePreview:x,coverPreview:i,setCoverPreview:h}=Ve(),f=p=>{if(!p.target.files)return;const P=p.target.files[0];if(P){r(P);const u=new FileReader;u.readAsDataURL(P),u.onloadend=()=>{x(u.result)}}},b=p=>{if(!p.target.files)return;const P=p.target.files[0];if(P){a(P);const u=new FileReader;u.readAsDataURL(P),u.onloadend=()=>{h(u.result)}}},w=()=>{r(null),x("")},k=()=>{a(null),h("")},m=async()=>{try{await js(t)}catch(p){console.log(p)}},E=async()=>{try{await bs(s)}catch(p){console.log(p)}};return n.useEffect(()=>{t&&m()},[t]),n.useEffect(()=>{s&&E()},[s]),e.jsxs(Q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(c,{textAlign:"center",children:[e.jsx(L,{mb:"5px",fontSize:"20px",children:"Profile & Cover Photos"}),e.jsx(L,{fontSize:"14px",fontWeight:"500",children:"Finally, let's add some photos!"})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Upload Profile Avatar"}),e.jsx(de,{position:"relative",children:e.jsxs("label",{children:[e.jsx(C,{type:"file",accept:"image/*",onChange:f,style:{display:"none"}}),e.jsx(z,{as:"span",children:"Select Image"})]})})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Upload Cover Photo"}),e.jsx(de,{position:"relative",children:e.jsxs("label",{children:[e.jsx(C,{type:"file",accept:"image/*",onChange:b,style:{display:"none"}}),e.jsx(z,{as:"span",children:"Select Image"})]})})]}),e.jsxs(c,{position:"relative",mt:"2",children:[e.jsxs(Q,{py:"30px",alignItems:"center",position:"relative",bgImage:i,bgSize:"cover",bgColor:"grey",bgRepeat:"no-repeat",bgPos:"center",opacity:"0.7",children:[i&&e.jsx(c,{zIndex:"10","aria-label":"Remove image",position:"absolute",bg:"black",top:"10px",right:"10px",onClick:k,borderRadius:"100%",p:"2px",children:e.jsx(it,{color:"white"})}),e.jsxs(ge,{position:"relative",children:[l&&e.jsx(c,{"aria-label":"Remove image",position:"absolute",bg:"black",top:"-5px",right:"-15px",onClick:w,borderRadius:"100%",p:"2px",children:e.jsx(it,{color:"white"})}),e.jsx(Wt,{bg:"black",src:l,showBorder:!0,borderColor:"cyan",size:"lg"})]})]}),e.jsx(d,{...Zn,children:"Begin uploading to preview your profile images."})]})]})},Yt={transform:"scale(0.85) translateY(-24px)"},Xn=Ns({components:{Form:{variants:{floating:{container:{_focusWithin:{label:{...Yt}},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label, textarea:not(:placeholder-shown) ~ label":{...Yt},label:{top:0,left:25,zIndex:2,position:"absolute",backgroundColor:"white",pointerEvents:"none",mx:3,px:1,my:2,transformOrigin:"left top"}}}}}}});function ys(){const{refetch:t}=Ue(),r=he(),[s,a]=n.useState(1),[l,x]=n.useState(20),i=[{title:"1",description:"Names"},{title:"2",description:"Username"},{title:"3",description:"Basics"},{title:"4",description:"Links"},{title:"5",description:"Photos"}],{displayName:h,firstName:f,lastName:b,username:w,shortBio:k,country:m,countryCode:E,location:p,instagram:P,soundcloud:u,website:W,profileImage:U,coverImage:$}=Ve(),[M,_]=n.useState(!1),g=s===1&&!!h&&!!f&&!!b,B=s===2&&!!w&&w.length>2,R=s===3&&!!k&&!!m&&!!E&&!!p,Y=s===4&&!!P||!!u||!!W,N=s===5&&!!U&&!!$,T=async()=>{switch(s){case 1:if(!g)break;_(!0);try{await hs({first_name:f,last_name:b}),await Ge({display_name:h}),a(s+1),x(l+20)}catch(G){console.log(G)}finally{_(!1)}break;case 2:if(!B)break;_(!0);try{await Ge({profile_url:w}),a(s+1),x(l+20)}catch(G){console.log(G)}finally{_(!1)}break;case 3:if(!R)break;_(!0);try{await Ge({title:k,location:p,country:m,country_code:E}),a(s+1),x(l+20)}catch(G){console.log(G)}finally{_(!1)}break;case 4:if(!Y)break;_(!0);try{await Ge({instagram:P,soundcloud:u,website:W}),a(s+1),x(l+20)}catch(G){console.log(G)}finally{_(!1)}break}};return e.jsx(ns,{theme:Xn,children:e.jsxs(o,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",minHeight:"100vh",flexDirection:"column",children:[e.jsxs(o,{bg:"#111",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",position:"relative",children:[e.jsx(de,{maxW:"1000px",p:"10px",pr:"15px",bg:"#111",justifyContent:"space-between",children:e.jsx(c,{as:"a",href:"/",children:e.jsx(me,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),e.jsx(c,{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",children:e.jsx(us,{})})]}),e.jsxs(ge,{pt:"20px",children:[e.jsx(Q,{pb:"10px",children:e.jsx(Ts,{size:"sm",index:s-1,children:i.map((G,v)=>e.jsxs(Hs,{children:[e.jsx(Os,{children:e.jsx(Bs,{complete:e.jsx(Gs,{})})}),e.jsx($s,{})]},v))})}),e.jsxs(c,{width:"100%",bg:"#fff",maxWidth:"400px",as:"form",overflow:"hidden",display:"flex",flexDirection:"column",borderRadius:"10px",border:"solid 2px cyan",children:[s===1?e.jsx(Vn,{}):s===2?e.jsx(Yn,{}):s===3?e.jsx(Kn,{}):s===4?e.jsx(qn,{}):e.jsx(Qn,{}),e.jsx(c,{position:"relative",bgColor:"#111",p:"15px",borderTop:"2px solid cyan",children:e.jsxs(o,{w:"100%",bgColor:"#111",justifyContent:s===1?"flex-end":"space-between",children:[e.jsx(z,{onClick:()=>{a(s-1),x(l-20)},isDisabled:s===1,bg:"#fff",color:"#111",w:"7rem",display:s===1?"none":"block",children:"Back"}),s!==5?e.jsx(z,{w:"7rem",isDisabled:s===1&&!g||s===2&&!B||s===3&&!R||s===4&&!Y,onClick:T,bg:"#fff",color:"#111",variant:"solid",opacity:"1",isLoading:M,children:"Continue"}):e.jsx(z,{w:"7rem",colorScheme:"green",variant:"solid",isDisabled:!N,onClick:async()=>{await t(),r({title:"Account created.",description:"We've created your account for you.",status:"success",duration:3e3,isClosable:!0}),window.location.reload()},children:"FINISH"})]})})]})]})]})})}const er=()=>{const{data:t,isLoading:r}=We(),s=(t==null?void 0:t.dj)||!1;return r?e.jsx(e.Fragment,{}):t?s==!0&&!(t!=null&&t.profile_active)?t!=null&&t.profile_done?e.jsx(Gn,{}):e.jsx(gs,{children:e.jsx(ys,{})}):e.jsx(Jt,{}):e.jsx(Un,{to:"https://auth.djfan.app/auth/signindj"})},ye=({href:t,text:r})=>e.jsx(c,{as:"a",href:t,display:"flex",fontWeight:"500",_hover:{color:"#bf0fff"},children:r}),tr=()=>{var x,i;const{data:t}=We(),r=(t==null?void 0:t.dj)||!1,s=(t==null?void 0:t.admin)||((x=t==null?void 0:t.me)==null?void 0:x.admin)||!1,a=(t==null?void 0:t.partner)||((i=t==null?void 0:t.me)==null?void 0:i.partner)||!1,l=(t==null?void 0:t.loginas)||!1;return e.jsxs(e.Fragment,{children:[l&&e.jsx(c,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:l?"pointer":"not-allowed",onClick:async()=>{await O.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"}),e.jsxs(c,{as:"a",href:"/create",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#d932ac",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(Vs,{}),"Home"]}),e.jsxs(c,{as:"a",href:"/settings",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#6b46c1",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(Ft,{}),"Profile"]}),(a||s)&&!l&&e.jsxs(c,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#345678",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:"pointer",onClick:async()=>{window.location.href="/partners"},children:[e.jsx(Ys,{}),"Partners"]}),e.jsxs(Q,{px:"20px",py:"20px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:e.jsx(fe,{href:"/create",children:"Create"})}),e.jsx(ye,{href:"/create/image",text:"Image Post"}),e.jsx(ye,{href:"/create/video",text:"Video Post"}),e.jsx(ye,{href:"/create/audio",text:"Audio Post"}),e.jsx(ye,{href:"/event",text:"Tour Date"}),e.jsx(ye,{href:"/product",text:"Product"}),e.jsx(ye,{href:"/create/text",text:"Text Post"}),e.jsx(c,{py:"10px",children:e.jsx(Ie,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Insights"}),e.jsx(ye,{href:"/fans",text:"Your Fans"}),e.jsx(c,{py:"10px",children:e.jsx(Ie,{borderColor:"#6b46c1"})}),(!l||s)&&e.jsxs(e.Fragment,{children:[e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Income"}),e.jsx(ye,{href:"/payouts",text:"Payouts"}),e.jsx(ye,{href:"/earnings",text:"Earnings"})]}),e.jsx(ye,{href:"/invitations",text:"Invitations"}),e.jsx(c,{py:"10px",children:e.jsx(Ie,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Settings"}),e.jsx(ye,{href:"/settings",text:"Account"})]}),e.jsx(c,{fontSize:"16px",fontWeight:"500",cursor:"pointer",onClick:()=>{window.open("https://auth.djfan.app/auth/signout","_self")},children:"Sign Out"}),e.jsx(c,{py:"10px",children:e.jsx(Ie,{borderColor:"#6b46c1"})}),e.jsx(c,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:e.jsx(fe,{href:"https://help.djfan.app/?dj",target:"_new",children:"Support"})})]}),l&&e.jsx(c,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:l?"pointer":"not-allowed",onClick:async()=>{await O.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"})]})},oe=()=>{const{data:t}=We(),{isOpen:r,onOpen:s,onClose:a}=Le();return e.jsx(c,{children:e.jsx(o,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",children:e.jsxs(o,{w:"100%",maxW:"1000px",alignItems:"center",justifyContent:"space-between",p:"10px",pr:"15px",children:[e.jsx(o,{w:"30%",justifyContent:"flex-start",display:{base:"none",md:"flex"},children:e.jsxs(o,{as:"a",href:"/",color:"#fff",lineHeight:"1em",gap:"5px",fontWeight:"600",fontSize:"18px",py:"5px",alignItems:"center",_hover:{color:"cyan"},children:[e.jsx(rs,{fontSize:"12px"}),"Home"]})}),e.jsxs(o,{w:"60%",justifyContent:{base:"flex-start",md:"center"},children:[!(t!=null&&t.loginas)&&e.jsx(c,{children:e.jsx(fe,{href:"/",children:e.jsx(me,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),(t==null?void 0:t.loginas)&&e.jsx(d,{fontSize:"16",color:"#FFF",paddingLeft:5,children:(t==null?void 0:t.username)&&(t==null?void 0:t.username.toString().substring(0,28))})]}),e.jsx(o,{w:"30%",justifyContent:"flex-end",children:e.jsx(c,{as:"a",onClick:s,color:"#fff",cursor:"pointer",children:e.jsx(os,{viewBox:"0 0 24 24",width:"30px",height:"30px",color:"white",_hover:{width:"35px",height:"35px"},transition:"all 0.3s ease-in-out",children:e.jsx("path",{fill:"currentColor",d:"M0,4c0-.55,.45-1,1-1H18c.55,0,1,.45,1,1s-.45,1-1,1H1c-.55,0-1-.45-1-1Zm18,15H1c-.55,0-1,.45-1,1s.45,1,1,1H18c.55,0,1-.45,1-1s-.45-1-1-1Zm5-8H6c-.55,0-1,.45-1,1s.45,1,1,1H23c.55,0,1-.45,1-1s-.45-1-1-1Z"})})})}),e.jsxs(qs,{isOpen:r,placement:"right",onClose:a,children:[e.jsx(He,{}),e.jsx(Ks,{p:"0",maxW:{base:"50%",md:"220px"},id:"content",children:e.jsxs(Ut,{p:"0",children:[e.jsxs(de,{bg:"#111",p:"15px",justifyContent:"space-between",children:[e.jsx(c,{color:"#fff",fontWeight:"600",fontSize:"18px",children:"Creator Menu"}),e.jsx(c,{as:"a",href:"",onClick:a,right:"15px",top:"15px",cursor:"pointer",color:"#fff",_hover:{color:"#5c03bc"},children:e.jsx(it,{fontSize:"18px"})})]}),e.jsx(tr,{})]})})]})]})})})},sr=[{id:1,text:"Post",imageUrl:"https://files.djfan.app/images/create.webp",linkUrl:"/create"},{id:2,text:"Product",imageUrl:"https://files.djfan.app/images/product.webp",linkUrl:"/product"},{id:5,text:"My page",imageUrl:"https://files.djfan.app/images/mydjfan-new.webp",linkUrl:""},{id:4,text:"My Fans",imageUrl:"https://files.djfan.app/images/fans.webp",linkUrl:"/fans"},{id:3,text:"Earnings",imageUrl:"https://files.djfan.app/images/earnings.webp",linkUrl:"/earnings"},{id:6,text:"Settings",imageUrl:"https://files.djfan.app/images/settings.webp",linkUrl:"/settings"},{id:7,text:"Invitations",imageUrl:"https://files.djfan.app/images/invitations.webp",linkUrl:"/invitations"},{id:8,text:"Partners",imageUrl:"https://files.djfan.app/images/partners.webp",linkUrl:"/partners"}];function nr(){var l,x;const{data:t}=We(),r=(t==null?void 0:t.admin)||((l=t==null?void 0:t.me)==null?void 0:l.admin)||!1,s=(t==null?void 0:t.partner)||((x=t==null?void 0:t.me)==null?void 0:x.partner)||!1,a=(t==null?void 0:t.loginas)||!1;return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsx(o,{flexDirection:"column",gap:"20px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:e.jsx(o,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"20px",children:sr.reduce(function(i,h){if(h.id==5&&(h.linkUrl="https://djfan.app/artists/"+(t==null?void 0:t.profile_url)),a){if(!r&&h.id==3||h.id==8)return i}else if(!s&&!r&&h.id==8)return i;return i.push({id:h.id,text:h.text,imageUrl:h.imageUrl,linkUrl:h.linkUrl}),i},[]).map((i,h)=>e.jsx(fe,{isExternal:(i==null?void 0:i.id)==5,href:(i==null?void 0:i.linkUrl)??"/",w:{base:"45%",md:"30%"},children:e.jsx(c,{w:{base:"100%",md:"100%"},h:"150px",bgImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${i.imageUrl})`,bgPos:"center",bgSize:"cover",borderRadius:"10px",position:"relative",backgroundColor:"#000",children:e.jsx(Js,{h:"100%",children:e.jsx(d,{fontSize:"24px",color:"white",fontWeight:"600",children:i.text})})})},h))})})})]})}const Me=async t=>{const r=await O.get(`/dj/post/token?_post_type=${t}`),{data:{data:s}}=r;return s.post_token?s.post_token:""},ze=async(t,r,s)=>{const a={onUploadProgress:s},l=new FormData;return l.append("file",t),await O.post(`/dj/post/${r}/upload`,l,a)},jt=async(t,r,s,a,l)=>{if(!r)return;const x=new FormData;x.append("file",t),await O.post(`/dj/post/${r}/upload/large`,x,{headers:{"Content-Type":"multipart/form-data","File-Total-Chunks":s.toString(),"File-Chunk-Number":a.toString(),"File-Name":l}})};var xe=(t=>(t[t.EVERYONE=1]="EVERYONE",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(xe||{}),ae=(t=>(t[t.EMBED=1]="EMBED",t[t.UPLOAD=0]="UPLOAD",t))(ae||{}),Pe=(t=>(t[t.SINGLE=1]="SINGLE",t[t.MULTIPLE=2]="MULTIPLE",t))(Pe||{}),Re=(t=>(t.image="image",t.video="video",t.audio="audio",t.text="text",t.product="product",t.event="event",t))(Re||{}),ws=(t=>(t[t.Text=1]="Text",t[t.Video=2]="Video",t[t.Audio=3]="Audio",t[t.Images=4]="Images",t))(ws||{}),vs=(t=>(t[t.ALL=0]="ALL",t[t.FOLLOWERS=1]="FOLLOWERS",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(vs||{});const bt=async(t,r)=>await O.post(`/dj/post/${r}`,t),rr=1024*1024*1024,Pt=10*1024*1024,or=()=>{const[t,r]=n.useState(ae.UPLOAD),{getRootProps:s,getInputProps:a,isDragActive:l,acceptedFiles:x}=Mt({accept:{"video/*":[".mkv",".3gpp",".webm",".avi",".mp4",".mov"]}}),i=be(),h=he(),[f,b]=n.useState(""),[w,k]=n.useState(0),[m,E]=n.useState(!1),[p,P]=n.useState(null),[u,W]=n.useState(void 0),[U,$]=n.useState(""),[M,_]=n.useState(""),[g,B]=n.useState([]),R=n.useRef(0),[Y,N]=n.useState(0),[T,G]=n.useState(!1),v=y=>{const V=Math.round(y.loaded*100/(y.total||0));k(V)},H=async()=>{const y=await Me(Re.video);b(y)};n.useEffect(()=>{H()},[]),n.useEffect(()=>{x.length&&f.length&&A()},[x]);const q=y=>{const V=Math.ceil(y.size/Pt),ee=[];let J=0;for(let le=0;le<V;le++){const F=Math.min(J+Pt,y.size),te=y.slice(J,F);ee.push(te),J=F}B(ee),N(V)},X=async()=>{if(E(!0),(R==null?void 0:R.current)<Y){const y=g[R.current];try{await jt(y,f,Y,R.current+1,(p==null?void 0:p.name)??""),R.current++,k(Math.round(R.current/Y*100)),await X()}catch(V){console.error("Error uploading chunk:",V)}}else E(!1),k(0),B([]),R.current=0};n.useEffect(()=>{g.length&&(p!=null&&p.name)&&X()},[g,p]);const A=async()=>{E(!0);try{const y=x[0];if(y.size>rr)return;if(P(x[0]),y.size<=Pt){const V=await ze(x[0],f,v),{data:ee}=V;console.log("data",ee),ee.result||h({description:ee.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else q(y)}catch(y){console.log(y)}finally{E(!1),k(0)}},ne=async()=>{const y={body:U,accesslevel_id:u};t===ae.EMBED?(y.embedded=1,y.location=M):(y.embedded=0,y.files=[(p==null?void 0:p.name)??""]),G(!0);try{await bt(y,f),h({description:"Post created",status:"success",duration:3e3,isClosable:!0}),i("/create")}catch(V){console.log("err",V)}finally{G(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Zs,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Video Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(d,{my:"10px",children:"Select video post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===ae.EMBED?"#a37cf0":"white",onClick:()=>r(ae.EMBED),children:"Embed Video"}),e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===ae.UPLOAD?"#a37cf0":"white",onClick:()=>r(ae.UPLOAD),children:"Upload Video"}),m&&e.jsx(c,{padding:4,children:e.jsx(Fe,{})})]}),t===ae.UPLOAD?e.jsxs(c,{mt:"20px",children:[e.jsxs(c,{border:l?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:l?"#f5f5f5":"white",...s(),children:[e.jsx("input",{...a()}),e.jsx(d,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are avi, mp4, mov. Max file size 1Gb."})]}),m?e.jsxs(c,{mt:"10px",children:[e.jsxs(d,{mb:"10px",children:["Uploading ",p==null?void 0:p.name]}),e.jsx(De,{hasStripe:!0,value:w})]}):p?e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(Ee,{onClick:()=>P(null)}),e.jsx(d,{ml:"10px",children:p==null?void 0:p.name})]}):null]}):e.jsx(c,{mt:"10px",children:e.jsx(C,{mt:"10px",placeholder:"Enter URL",value:M,onChange:y=>_(y.target.value)})}),e.jsx(Se,{mt:"20px",placeholder:"Write something about this post",value:U,onChange:y=>$(y.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Te,{mt:"10px",placeholder:"Select privacy option",onChange:y=>W(y.target.value),children:[e.jsx("option",{value:xe.EVERYONE,children:"Everyone"}),e.jsx("option",{value:xe.GOLD,children:"GOLD"}),e.jsx("option",{value:xe.VIP,children:"VIP"})]})]}),e.jsx(c,{mt:"20px",children:e.jsx(d,{children:"Keep in mind that it my take up to several of minutes to get your post ready for publication, it depends on size, encoding & workload."})}),u&&(t===ae.UPLOAD?p:M)&&U&&!m?e.jsx(z,{isLoading:T,mt:"20px",colorScheme:"purple",onClick:ne,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>i("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ct,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>i("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(dt,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},ir=t=>{const r=s=>O.get("/dj/posts",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize}}).then(a=>a.data.result);return Xe({queryKey:["posts",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,a)=>s.length>0&&s.length===t.pageSize?a.length+1:void 0})},ar=(t,r)=>O.patch(`/dj/post/${t}`,r),lr=t=>O.delete(`/dj/post/${t}`),at=t=>{const r=Math.floor((new Date().getTime()-Date.parse(t))/1e3);let s=Math.floor(r/31536e3);return s>1?s+" years ago":(s=Math.floor(r/2592e3),s>1?s+" months ago":(s=Math.floor(r/86400),s>1?s+" days ago":(s=Math.floor(r/3600),s>1?s+" hours ago":(s=Math.floor(r/60),s>1?s+" minutes ago":r<10?"just now":Math.floor(r)+" seconds ago"))))},cr=()=>e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#111",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"25px",w:"100%",maxW:"600px",pt:"25px",px:"15px",children:[e.jsx(d,{color:"#fff",lineHeight:"1em",fontSize:"28px",fontWeight:"600",textAlign:"center",w:"100%",children:"Create a new post"}),e.jsx(o,{h:"100%",justifyContent:"space-evenly",wrap:"wrap",gap:"20px",children:dr.map((t,r)=>e.jsx(fe,{href:t.link,w:{base:"45%",md:"30%"},children:e.jsxs(ge,{bg:"#fff",py:"20px",gap:"10px",borderRadius:"15px",children:[e.jsx(me,{width:"40px",src:t.imageUrl}),e.jsx(d,{fontSize:"20px",color:"#111",fontWeight:"600",children:t.name})]})},r))}),e.jsx(c,{children:e.jsx(xr,{})})]})})]}),dr=[{id:1,name:"Image Post",imageUrl:"https://media.djfan.app/images/imagepost.png",link:"/create/image"},{id:2,name:"Video Post",imageUrl:"https://media.djfan.app/images/videopost.png",link:"/create/video"},{id:3,name:"Audio Post",imageUrl:"https://media.djfan.app/images/audiopost.png",link:"/create/audio"},{id:6,name:"Text Post",imageUrl:"https://media.djfan.app/images/textpost.png",link:"/create/text"},{id:4,name:"Event",link:"/event",imageUrl:"https://media.djfan.app/images/tourdate.png"},{id:5,name:"Product",imageUrl:"https://media.djfan.app/images/product.png",link:"/product"}],xr=()=>{const{data:t}=Ue(),r=10,{data:s,fetchNextPage:a,hasNextPage:l,refetch:x}=ir({pageSize:r}),[i,h]=n.useState(null),{isOpen:f,onOpen:b,onClose:w}=Le(),k=n.useRef(null),m=()=>{a()},E=async()=>{i&&(await lr(i.post_id),await x())};return e.jsxs(e.Fragment,{children:[e.jsx(et,{dataLength:((s==null?void 0:s.pages.length)??0)*r,next:m,hasMore:l??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((s==null?void 0:s.pages)??[]).flat().length>0?e.jsx(d,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All posts displayed"}):null}),children:e.jsxs(o,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",pb:"50px",mt:"30px",children:[e.jsx(c,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(d,{fontWeight:"700",children:"List of posts"})}),s==null?void 0:s.pages.map((p,P)=>e.jsx(c,{w:"100%",children:p.map(u=>e.jsxs(c,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(c,{children:[e.jsx(d,{as:"span",fontSize:"lg",fontStyle:"bold",children:(u==null?void 0:u.posttype_id)&&ws[u.posttype_id]})," ",(i==null?void 0:i.post_id)===(u==null?void 0:u.id)?at(i.created_at):at(u.created_at)," ",e.jsx(d,{as:"span",fontStyle:"italic",paddingLeft:"20px",children:(u==null?void 0:u.publish)==0?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsx(Se,{mt:"10px",onFocus:()=>{(i==null?void 0:i.post_id)!==u.post_id&&h(u)},value:(i==null?void 0:i.post_id)===(u==null?void 0:u.id)?i==null?void 0:i.body:u.body,onChange:W=>{i&&h({...i,body:W.target.value})}}),e.jsxs(Te,{mt:"10px",placeholder:"Select privacy option",onFocus:()=>{(i==null?void 0:i.post_id)!==u.post_id&&h(u)},value:(i==null?void 0:i.post_id)===(u==null?void 0:u.id)?i==null?void 0:i.accesslevel_id:u.accesslevel_id,onChange:W=>{i&&h({...i,accesslevel_id:Number(W.target.value)})},children:[e.jsx("option",{value:xe.EVERYONE,children:"Everyone"}),e.jsx("option",{value:xe.GOLD,children:"GOLD"}),e.jsx("option",{value:xe.VIP,children:"VIP"})]}),e.jsxs(ge,{children:[e.jsx(z,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{h(u),b()},children:e.jsx(d,{children:"Delete"})}),(i==null?void 0:i.post_id)===(u==null?void 0:u.id)?e.jsx(z,{mt:"10px",w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:async()=>{try{await ar(u.post_id,{body:i.body,accesslevel_id:i.accesslevel_id}),await x()}catch(W){console.log(W)}h(null)},children:e.jsx(d,{children:"Save"})}):null,e.jsx(z,{mt:"10px",w:"100%",onClick:()=>{window.open(`https://djfan.app/artists/${t==null?void 0:t.profile_url}`,"_blank")},children:e.jsx(d,{children:"View"})})]})]},u.post_id))},P))]})}),e.jsx(xt,{isOpen:f,leastDestructiveRef:k,onClose:w,children:e.jsx(He,{children:e.jsxs(pt,{children:[e.jsx(ht,{fontSize:"lg",fontWeight:"bold",children:"Delete Post"}),e.jsxs(ut,{children:[e.jsx(z,{ref:k,onClick:w,children:"Cancel"}),e.jsx(z,{colorScheme:"red",onClick:async()=>{await E(),w()},ml:3,children:"Delete"})]})]})})})]})};function pr(){const{data:t,refetch:r}=Ue(),s=he(),[a,l]=n.useState(""),[x,i]=n.useState(""),[h,f]=n.useState(""),[b,w]=n.useState(""),[k,m]=n.useState(""),[E,p]=n.useState(""),[P,u]=n.useState(""),[W,U]=n.useState(""),[$,M]=n.useState(!1);n.useEffect(()=>{l((t==null?void 0:t.website)??""),i((t==null?void 0:t.instagram)??""),f((t==null?void 0:t.soundcloud)??""),w((t==null?void 0:t.mixcloud)??""),m((t==null?void 0:t.facebook)??""),p((t==null?void 0:t.tiktok)??""),u((t==null?void 0:t.youtube)??""),U((t==null?void 0:t.spotify)??"")},[t]);const _=async()=>{var B,R;const g={website:a,instagram:x,soundcloud:h,mixcloud:b,facebook:k,tiktok:E,youtube:P,spotify:W};M(!0);try{(R=(B=(await Ge(g)).data)==null?void 0:B.result)!=null&&R.result&&(await r(),s({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(Y){console.log(Y)}finally{M(!1)}};return e.jsxs(Q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Website"}),e.jsx(C,{type:"text",placeholder:" e.g. artistname.com",value:a,onChange:g=>l(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Instagram Username"}),e.jsx(C,{type:"text",placeholder:"Enter only username (no link)",value:x,onChange:g=>i(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Soundcloud Username"}),e.jsx(C,{type:"text",placeholder:"Enter only username (no link)",value:h,onChange:g=>f(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Mixcloud Username"}),e.jsx(C,{type:"text",placeholder:"Enter only username (no link)",value:b,onChange:g=>w(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Facebook Page Username"}),e.jsx(C,{type:"text",placeholder:"Enter only username (no link)",value:k,onChange:g=>m(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"TikTok Username"}),e.jsx(C,{type:"text",placeholder:"Enter only username (no link)",value:E,onChange:g=>p(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"YouTube Channel"}),e.jsx(C,{type:"text",placeholder:"Enter full link e.g. https://www.youtube.com/...",value:P,onChange:g=>u(g.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Spotify Artist Page"}),e.jsx(C,{type:"text",placeholder:"Enter full link e.g. https://open.spotify/artist...",value:W,onChange:g=>U(g.target.value)})]}),e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:_,isLoading:$,children:["UPDATE PROFILE LINKS ",e.jsx(_e,{style:{marginLeft:"5px"}})]})]})}const hr=({profileImage:t,coverPhoto:r})=>{const[s,a]=n.useState(t),[l,x]=n.useState(r),[i,h]=n.useState(null),[f,b]=n.useState(null),w=n.useRef(null),k=n.useRef(null);n.useEffect(()=>{a(t),x(r)},[t,r]);const m=async()=>{if(i){const p=URL.createObjectURL(i);a(p);try{const P=await js(i);console.log(P)}catch(P){console.log(P)}}},E=async()=>{if(f){const p=URL.createObjectURL(f);x(p);try{const P=await bs(f);console.log(P)}catch(P){console.log(P)}}};return n.useEffect(()=>{m()},[i]),n.useEffect(()=>{E()},[f]),e.jsxs(o,{direction:{base:"column",md:"row"},gap:{base:"20px",md:"40px"},children:[e.jsx("input",{type:"file",ref:w,style:{display:"none"},onChange:p=>{p.target.files&&p.target.files.length>0&&h(p.target.files[0])}}),e.jsx("input",{type:"file",ref:k,style:{display:"none"},onChange:p=>{p.target.files&&p.target.files.length>0&&b(p.target.files[0])}}),e.jsxs(o,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(c,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Profile Image"}),e.jsx(Wt,{size:"xl",src:s}),e.jsx(c,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{w.current&&w.current.click()},children:"UPDATE IMAGE"})]}),e.jsxs(o,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(c,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Cover Photo"}),e.jsx(me,{width:"160px",height:"96px",objectFit:"cover",src:l}),e.jsx(c,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{k.current&&k.current.click()},children:"UPDATE IMAGE"})]})]})};function ur(){const[t,r]=n.useState([]),{data:s,refetch:a}=Ue(),l=he(),[x,i]=n.useState((s==null?void 0:s.display_name)??""),[h,f]=n.useState(""),[b,w]=n.useState(""),[k,m]=n.useState(""),[E,p]=n.useState(""),[P,u]=n.useState(""),[W,U]=n.useState(""),[$,M]=n.useState(""),[_,g]=n.useState(""),[B,R]=n.useState(""),[Y,N]=n.useState(!1),T=async()=>{try{const v=await ms();r(v)}catch(v){console.log(v)}};n.useEffect(()=>{T()},[]),n.useEffect(()=>{i((s==null?void 0:s.display_name)??""),f((s==null?void 0:s.title)??""),w((s==null?void 0:s.genre)??""),m((s==null?void 0:s.location)??""),p((s==null?void 0:s.country)??""),u((s==null?void 0:s.bookings)??""),U((s==null?void 0:s.management)??""),M((s==null?void 0:s.about_me)??""),g((s==null?void 0:s.cover_photo)??""),R((s==null?void 0:s.profile_picture)??"")},[s]);const G=async()=>{var H,q;const v={display_name:x,title:h,genre:b,location:k,country:E,bookings:P,management:W,about_me:$};N(!0);try{(q=(H=(await Ge(v)).data)==null?void 0:H.result)!=null&&q.result&&(await a(),l({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(X){console.log(X)}finally{N(!1)}};return e.jsxs(Q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsx(hr,{profileImage:B,coverPhoto:_}),e.jsx(c,{py:"10px",children:e.jsx(Ie,{borderColor:"#858585"})}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"DJ Name"}),e.jsx(C,{type:"text",placeholder:"Enter your DJ name",value:x,onChange:v=>i(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Title"}),e.jsx(C,{type:"text",placeholder:"e.g. DJ & Producer",value:h,onChange:v=>f(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Music Genre"}),e.jsx(C,{type:"text",placeholder:"e.g. Techno, Tech House",value:b,onChange:v=>w(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Location"}),e.jsx(C,{type:"text",placeholder:"Enter your location",value:k,onChange:v=>m(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Country"}),e.jsx(Te,{placeholder:"Select Country",value:E,onChange:v=>p(v.target.value),children:t==null?void 0:t.map((v,H)=>e.jsx("option",{value:v.country,children:v.country},H))})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Bookings Contact"}),e.jsx(C,{type:"text",placeholder:"Enter your bookings contact",value:P,onChange:v=>u(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Management Contact"}),e.jsx(C,{type:"text",placeholder:"Enter your management contact",value:W,onChange:v=>U(v.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"About Me"}),e.jsx(Se,{placeholder:"Write something about yourself...",value:$,onChange:v=>M(v.target.value)})]}),e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:G,isLoading:Y,children:["UPDATE PROFILE ",e.jsx(_e,{style:{marginLeft:"5px"}})]})]})}const Ss=t=>O.post("/dj/me/details",{paypal:t});function fr(){const{data:t,refetch:r}=We(),{data:s}=Ue(),a=t==null?void 0:t.loginas,{paypal:l}=s??{},[x,i]=n.useState(""),[h,f]=n.useState(""),{isOpen:b,onOpen:w,onClose:k}=Le(),m=he(),E=n.useRef(null),[p,P]=n.useState(""),[u,W]=n.useState(!1),[U,$]=n.useState(!1),[M,_]=n.useState(!1);n.useEffect(()=>{i((t==null?void 0:t.first_name)??""),f((t==null?void 0:t.last_name)??"")},[t]),n.useEffect(()=>{l&&P(l)},[l]);const g=async()=>{var G;const T={first_name:x,last_name:h};_(!0);try{(G=(await hs(T)).data)!=null&&G.result&&(await r(),m({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(v){console.log(v)}finally{_(!1)}},B=async()=>{try{await Nn()}catch(T){console.log(T)}},R=async()=>{try{await Tn()}catch(T){console.log(T)}},Y=async function(){try{await Hn()}catch{return null}},N=async()=>{$(!0);try{await Ss(p),m({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0})}catch(T){console.log(T)}finally{$(!1)}};return!a&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"First Name"}),e.jsx(C,{type:"text",placeholder:" First Name",value:x,onChange:T=>i(T.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Last Name"}),e.jsx(C,{type:"text",placeholder:"Last Name",value:h,onChange:T=>f(T.target.value)})]}),e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:g,isLoading:M,children:["UPDATE PROFILE ",e.jsx(_e,{style:{marginLeft:"5px"}})]}),e.jsx(Ie,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(o,{flexDirection:"column",justifyContent:"center",gap:"15px",mt:"15px",height:"100%",children:[e.jsxs(j,{children:[e.jsx(S,{children:"Paypal Email"}),e.jsx(C,{type:"text",placeholder:"Enter PayPal Email",value:p,onChange:T=>P(T.target.value)})]}),e.jsxs(de,{gap:"10px",children:[e.jsx(is,{checked:u,onChange:T=>W(T.target.checked)}),e.jsx(d,{children:"My email address for payouts is correct"})]}),e.jsx(z,{leftIcon:e.jsx(as,{}),_hover:u&&p?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!u||!p,isLoading:U,onClick:N,children:"LINK PAYPAL ACCOUNT"})]}),e.jsx(Ie,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(z,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:B,children:[e.jsx(Qs,{})," Change Email Address"]}),e.jsx(Ie,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(z,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:R,children:[e.jsx(Xs,{})," Reset Password"]}),e.jsx(Ie,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(z,{w:"100%",color:"#fff",colorScheme:"red",onClick:w,children:[e.jsx(en,{})," Delete My Account"]})]}),e.jsx(xt,{isOpen:b,leastDestructiveRef:E,onClose:k,children:e.jsx(He,{children:e.jsxs(pt,{children:[e.jsx(ht,{fontSize:"lg",fontWeight:"bold",children:"Delete My Account"}),e.jsx(Ut,{children:"Are you sure you want to delete your account? You can't undo this action afterwards. All subscriptions will be cancelled automaticly on deletion."}),e.jsxs(ut,{children:[e.jsx(z,{ref:E,onClick:k,children:"Cancel"}),e.jsx(z,{colorScheme:"red",onClick:()=>{Y(),k()},ml:3,children:"Delete"})]})]})})})]})}const It={fontSize:{base:"20px",md:"16px"}},Dt={display:{base:"none",md:"unset"}};function gr(){const{data:t}=We(),r=t==null?void 0:t.loginas;return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",flexDirection:"column",alignItems:"center",children:e.jsxs(Nt,{pt:"15px",variant:"soft-rounded",colorScheme:"green",w:{base:"100%",sm:"800px"},px:{base:"10px",sm:"20px"},children:[e.jsx(c,{bg:"white",px:"10px",py:"10px",borderRadius:"10px",children:e.jsxs(Tt,{children:[e.jsxs(we,{...It,children:["Profile",e.jsx(c,{...Dt,children:" Settings"})]}),e.jsxs(we,{...It,children:[e.jsx(c,{...Dt,children:"Profile "})," Links"]}),!r&&e.jsxs(we,{...It,children:["Account ",e.jsx(c,{...Dt,children:" Settings"})]})]})}),e.jsxs(Ht,{children:[e.jsx(ve,{p:"0",children:e.jsx(ur,{})}),e.jsx(ve,{p:"0",children:e.jsx(pr,{})}),!r&&e.jsx(ve,{p:"0",children:e.jsx(fr,{})})]})]})})]})}const mr=()=>{const[t,r]=n.useState(Pe.SINGLE),{getRootProps:s,getInputProps:a,isDragActive:l,acceptedFiles:x,fileRejections:i}=Mt({accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},maxFiles:t===Pe.SINGLE?1:void 0}),h=be(),f=he(),[b,w]=n.useState(""),[k,m]=n.useState(0),[E,p]=n.useState(!1),[P,u]=n.useState([]),[W,U]=n.useState(void 0),[$,M]=n.useState(""),[_,g]=n.useState(!1),[B,R]=n.useState([]),Y=v=>{const H=Math.round(v.loaded*100/(v.total||0));m(H)},N=async()=>{const v=await Me(Re.image);w(v)};n.useEffect(()=>{N()},[]),n.useEffect(()=>{x.length&&b.length&&T()},[x]),n.useEffect(()=>{i.length&&(t===Pe.SINGLE?f({description:"Only one file is allowed",status:"error",duration:3e3,isClosable:!0}):f({description:"Please upload only these accepted file types: png, jpg, jpeg, webp",status:"error",duration:3e3,isClosable:!0}))},[i]);const T=async()=>{const v=t===Pe.MULTIPLE,H=x.filter(q=>!B.includes(q.name));if(H.length===0){f({description:"File already uploaded",status:"error",duration:3e3,isClosable:!0});return}v&&H.length!==x.length&&f({description:"Some files are already uploaded and will be skipped",status:"warning",duration:3e3,isClosable:!0}),u(H),p(!0);try{for(let q=0;q<H.length;q++){const X=await ze(H[q],b,v?void 0:Y),{data:A}=X;A.result||f({description:A.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0}),v&&m(q/H.length*100),R(ne=>[...ne,H[q].name])}}catch(q){console.log(q)}finally{p(!1),m(0)}},G=async()=>{const v={body:$,accesslevel_id:W,files:B};g(!0);try{await bt(v,b),f({description:"Post created",status:"success",duration:3e3,isClosable:!0}),h("/create")}catch(H){console.log("err",H)}finally{g(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(tn,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Image Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(d,{my:"10px",children:"Select post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===Pe.SINGLE?"#a37cf0":"white",onClick:()=>{r(Pe.SINGLE),u(null),R([])},children:"Single Image"}),e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===Pe.MULTIPLE?"#a37cf0":"white",onClick:()=>{r(Pe.MULTIPLE),u(null),R([])},children:"Multiple Images"}),E&&e.jsx(c,{padding:4,children:e.jsx(Fe,{})})]}),e.jsxs(c,{mt:"20px",children:[e.jsxs(c,{border:l?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:l?"#f5f5f5":"white",...s(),children:[e.jsx("input",{...a()}),e.jsx(d,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are png, jpg, jpeg, webp."})]}),B?e.jsx(e.Fragment,{children:B==null?void 0:B.map((v,H)=>e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(Ee,{onClick:()=>{R(q=>q.filter(X=>X!==v))}}),e.jsx(d,{ml:"10px",children:v})]},H))}):null,E?e.jsxs(e.Fragment,{children:[P==null?void 0:P.map((v,H)=>e.jsx(c,{mt:"10px",children:e.jsxs(d,{mb:"10px",children:["Uploading ",v==null?void 0:v.name]})},H)),e.jsx(De,{hasStripe:!0,value:k})]}):null]}),e.jsx(Se,{mt:"20px",placeholder:"Write something about this post",value:$,onChange:v=>M(v.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Te,{mt:"10px",placeholder:"Select privacy option",onChange:v=>U(v.target.value),children:[e.jsx("option",{value:xe.EVERYONE,children:"Everyone"}),e.jsx("option",{value:xe.GOLD,children:"GOLD"}),e.jsx("option",{value:xe.VIP,children:"VIP"})]})]}),W&&(P!=null&&P.length)&&$&&!E?e.jsx(z,{mt:"20px",isLoading:_,colorScheme:"purple",onClick:G,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>h("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ct,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>h("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(dt,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},jr=()=>{const t=be(),r=he(),[s,a]=n.useState(""),[l,x]=n.useState(void 0),[i,h]=n.useState(""),f=async()=>{const w=await Me(Re.text);a(w)};n.useEffect(()=>{f()},[]);const b=async()=>{const w={body:i,accesslevel_id:l};try{await bt(w,s),r({description:"Post created",status:"success",duration:3e3,isClosable:!0}),t("/create")}catch(k){console.log("err",k)}};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(sn,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Text Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(Se,{mt:"20px",placeholder:"Write something about this post",value:i,onChange:w=>h(w.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Te,{mt:"10px",placeholder:"Select privacy option",onChange:w=>x(w.target.value),children:[e.jsx("option",{value:xe.EVERYONE,children:"Everyone"}),e.jsx("option",{value:xe.GOLD,children:"GOLD"}),e.jsx("option",{value:xe.VIP,children:"VIP"})]})]}),l&&i?e.jsx(z,{mt:"20px",colorScheme:"purple",onClick:b,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ct,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>t("/"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(dt,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},br=1024*1024*1024,Et=10*1024*1024,yr=()=>{const{getRootProps:t,getInputProps:r,isDragActive:s,acceptedFiles:a}=Mt({accept:{"audio/*":[".mp3",".mpeg",".wav",".mp3",".mpeg",".ogg",".aiff",".flac"]}}),l=be(),x=he(),[i,h]=n.useState(ae.UPLOAD),[f,b]=n.useState(""),[w,k]=n.useState(0),[m,E]=n.useState(!1),[p,P]=n.useState(null),[u,W]=n.useState(void 0),[U,$]=n.useState(""),[M,_]=n.useState(""),[g,B]=n.useState([]),R=n.useRef(0),[Y,N]=n.useState(0),[T,G]=n.useState(!1),v=y=>{const V=Math.round(y.loaded*100/(y.total||0));k(V)},H=async()=>{const y=await Me(Re.audio);b(y)};n.useEffect(()=>{H()},[]),n.useEffect(()=>{a.length&&f.length&&A()},[a]);const q=y=>{const V=Math.ceil(y.size/Et),ee=[];let J=0;for(let le=0;le<V;le++){const F=Math.min(J+Et,y.size),te=y.slice(J,F);ee.push(te),J=F}B(ee),N(V)},X=async()=>{if(E(!0),(R==null?void 0:R.current)<Y){const y=g[R.current];try{await jt(y,f,Y,R.current+1,(p==null?void 0:p.name)??""),R.current++,k(Math.round(R.current/Y*100)),await X()}catch(V){console.error("Error uploading chunk:",V)}}else E(!1),k(0),B([]),R.current=0};n.useEffect(()=>{g.length&&(p!=null&&p.name)&&X()},[g,p]);const A=async()=>{E(!0);try{const y=a[0];if(y.size>br)return;if(P(a[0]),y.size<=Et){const V=await ze(a[0],f,v),{data:ee}=V;ee.result||x({description:ee.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else q(y)}catch(y){console.log(y)}finally{E(!1),k(0)}},ne=async()=>{const y={body:U,accesslevel_id:u};i===ae.EMBED?(y.embedded=1,y.location=M):(y.embedded=0,y.files=[(p==null?void 0:p.name)??""]),G(!0);try{await bt(y,f),x({description:"Post created",status:"success",duration:3e3,isClosable:!0}),l("/create")}catch(V){console.log("err",V)}finally{G(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(c,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(nn,{}),e.jsx(d,{fontWeight:"bold",ml:2,children:"Create Audio Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(d,{my:"10px",children:"Select audio post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:i===ae.EMBED?"#a37cf0":"white",onClick:()=>h(ae.EMBED),children:"Embed Audio"}),e.jsx(c,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:i===ae.UPLOAD?"#a37cf0":"white",onClick:()=>h(ae.UPLOAD),children:"Upload Audio"}),m&&e.jsx(c,{padding:4,children:e.jsx(Fe,{})})]}),i===ae.UPLOAD?e.jsxs(c,{mt:"20px",children:[e.jsxs(c,{border:s?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:s?"#f5f5f5":"white",...t(),children:[e.jsx("input",{...r()}),e.jsx(d,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are wav, mp3, mpeg, ogg, aiff, flac. Max file size 1Gb."})]}),m?e.jsxs(c,{mt:"10px",children:[e.jsxs(d,{mb:"10px",children:["Uploading ",p==null?void 0:p.name]}),e.jsx(De,{hasStripe:!0,value:w})]}):p?e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(Ee,{onClick:()=>P(null)}),e.jsx(d,{ml:"10px",children:p==null?void 0:p.name})]}):null]}):e.jsx(c,{mt:"10px",children:e.jsx(C,{mt:"10px",placeholder:"Enter URL",value:M,onChange:y=>_(y.target.value)})}),e.jsx(Se,{mt:"20px",placeholder:"Write something about this post",value:U,onChange:y=>$(y.target.value)}),e.jsxs(c,{mt:"20px",children:[e.jsx(d,{children:"Who can view this post?"}),e.jsxs(Te,{mt:"10px",placeholder:"Select privacy option",onChange:y=>W(y.target.value),children:[e.jsx("option",{value:xe.EVERYONE,children:"Everyone"}),e.jsx("option",{value:xe.GOLD,children:"GOLD"}),e.jsx("option",{value:xe.VIP,children:"VIP"})]})]}),e.jsx(c,{mt:"20px",children:e.jsx(d,{children:"Keep in mind that it my take up to several of minutes to get your post ready for publication, it depends on size, encoding & workload."})}),u&&(i===ae.UPLOAD?p:M)&&U&&!m?e.jsx(z,{mt:"20px",isLoading:T,colorScheme:"purple",onClick:ne,children:"Post"}):null]})]})}),e.jsx(c,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>l("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(ct,{}),e.jsx(d,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(z,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>l("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(dt,{}),e.jsx(d,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})};function wr({members:t,followers:r,monthlyIncome:s}){return e.jsxs(o,{h:"100%",wrap:"wrap",gap:"20px",justifyContent:"space-between",children:[e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#9b5de5",color:"#ffffff",alignItems:"center",lineHeight:"1em",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Qe,{})," Total Fans"]}),e.jsx(L,{lineHeight:"1em",fontSize:"32px",children:r})]}),e.jsxs(ue,{alignItems:"center",w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#ffffff",lineHeight:"1em",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",children:[e.jsx(Qe,{})," Subscribers"]}),e.jsx(L,{lineHeight:"1em",fontSize:"32px",children:t})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",alignItems:"center",lineHeight:"1em",bg:"#ffffff",children:[e.jsx(d,{fontSize:"18px",fontWeight:"600",children:"Membership Income"}),e.jsxs(de,{align:"flex-end",gap:"5px",justifyContent:"center",children:[e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsx(d,{mb:"0px",fontSize:"14px",fontWeight:"600",color:"#9b5de5",children:"per month"})]})]})]})}function vr({membership:t,product:r,total:s}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Qe,{})," Membership"]}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ot,{})," Online Store"]}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(30-days)"})]})]})]})}function Sr({membership:t,product:r,total:s}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Qe,{})," Membership"]}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ot,{})," Online Store"]}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(365-days)"})]})]})]})}function Cr({membership:t,product:r,total:s}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Qe,{})," Membership"]}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(d,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ot,{})," Online Store"]}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(ue,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(L,{lineHeight:"1em",fontSize:"32px",children:["$",Number(s).toFixed(2)]}),e.jsxs(d,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(All Time)"})]})]})]})}const kr=()=>O.get("/dj/me/statistics").then(t=>t.data.data),Pr=()=>$e({queryKey:["userStatistics"],queryFn:()=>kr()});function Ir(){const{data:t}=Pr();return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",maxW:"1000px",w:"100%",pt:"25px",px:"15px",children:[e.jsxs(o,{flexDirection:"column",gap:"20px",children:[e.jsxs(Q,{gap:"10px",children:[e.jsx(L,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Statistics"}),e.jsx(d,{lineHeight:"1em",alignSelf:"flex-start",children:"Here are your statistics at a glance..."})]}),e.jsx(wr,{members:((t==null?void 0:t.gold)??0)+((t==null?void 0:t.vip)??0),followers:(t==null?void 0:t.followers)??0,monthlyIncome:(t==null?void 0:t.monthly_income)??0})]}),e.jsxs(o,{flexDirection:"column",gap:"15px",children:[e.jsx(L,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Earnings"}),e.jsxs(Nt,{variant:"soft-rounded",colorScheme:"green",w:"100%",children:[e.jsxs(Tt,{children:[e.jsx(we,{p:"5px",px:"10px",children:"Last 30 Days"}),e.jsx(we,{p:"5px",px:"10px",children:"Last 365 Days"}),e.jsx(we,{p:"5px",px:"10px",children:"All Time"})]}),e.jsxs(Ht,{children:[e.jsx(ve,{p:"0",pt:"20px",children:e.jsx(vr,{membership:(t==null?void 0:t.subscription_last_30_days)??0,product:(t==null?void 0:t.products_last_30_days)??0,total:(t==null?void 0:t.total_last_30_days)??0})}),e.jsx(ve,{p:"0",pt:"20px",children:e.jsx(Sr,{membership:(t==null?void 0:t.subscription_last_365_days)??0,product:(t==null?void 0:t.products_last_365_days)??0,total:(t==null?void 0:t.total_last_365_days)??0})}),e.jsx(ve,{p:"0",pt:"20px",children:e.jsx(Cr,{membership:(t==null?void 0:t.subscription_last_all_days)??0,product:(t==null?void 0:t.products_last_all_days)??0,total:(t==null?void 0:t.total_last_all_days)??0})})]})]})]})]})})]})}function Dr({payout:t}){return e.jsx(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(ft,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(gt,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Bt,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Ne,{children:[e.jsx(je,{color:"white",children:"Amount"}),e.jsx(je,{color:"white",children:"Date"}),e.jsx(je,{color:"white",children:"Method"}),e.jsx(je,{color:"white",children:"Code"})]})}),e.jsx(mt,{children:t.map(r=>e.jsxs(Ne,{children:[e.jsxs(pe,{children:["$",r.amount]}),e.jsx(pe,{children:Rt(new Date(r.payout_date)).format("DD/MM/YYYY")}),e.jsx(pe,{children:"Paypal"}),e.jsx(pe,{children:r.payout_code})]},r.id))})]})})})}const Er=()=>O.get("/dj/me/payout").then(t=>t.data.data),zr=()=>$e({queryKey:["payout"],queryFn:()=>Er()});function _r(){const{isOpen:t,onOpen:r,onClose:s}=Le(),{data:a}=zr(),[l,x]=n.useState(""),[i,h]=n.useState(!1),[f,b]=n.useState(!1);n.useEffect(()=>{a!=null&&a.paypal&&x(a.paypal)},[a]);const w=async()=>{b(!0);try{await Ss(l)}catch(k){console.log(k)}finally{b(!1)}};return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:{base:"15px",md:"15px"},children:[e.jsxs(Q,{gap:"10px",children:[e.jsx(L,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Payouts"}),e.jsx(d,{lineHeight:"1em",alignSelf:"flex-start",children:"View and keep track of your payouts."})]}),e.jsxs(o,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:[e.jsxs(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",w:{base:"100%",md:"60%"},flexDir:"column",children:[e.jsx(o,{bg:"#9b5de5",px:"20px",py:"6px",children:e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"white",children:"Available for Payout"})}),e.jsxs(o,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:"5px",height:"100%",p:"20px",children:[e.jsx(d,{fontWeight:"600",children:"Balance"}),e.jsxs(L,{children:["$",(a==null?void 0:a.available_payout)??"0.00"]}),e.jsx(d,{children:"This is the amount you currently have in earnings, available for your next payout."})]})]}),e.jsxs(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",flexDir:"column",w:{base:"100%",md:"35%"},children:[e.jsx(o,{bg:"#111111",px:"20px",py:"8px",children:e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"white",children:"Payout Account"})}),e.jsxs(o,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px",height:"100%",p:"20px",children:[e.jsx(z,{leftIcon:e.jsx(rn,{}),bg:"#9b5de5",borderColor:"#9b5de5",color:"#ffffff",_hover:{bg:"#5DE59A",color:"#ffffff",borderColor:"#5DE59A"},children:"WITHDRAW EARNINGS"}),e.jsx(C,{type:"text",placeholder:"Enter PayPal Email",value:l,onChange:k=>x(k.target.value)}),e.jsxs(de,{gap:"10px",children:[e.jsx(is,{checked:i,onChange:k=>h(k.target.checked)}),e.jsx(d,{children:"My email address for payouts is correct"})]}),e.jsx(z,{leftIcon:e.jsx(as,{}),_hover:i&&l?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!i||!l,isLoading:f,onClick:w,children:"LINK PAYPAL ACCOUNT"}),e.jsxs(de,{color:"#111",gap:"5px",children:[e.jsx(on,{}),e.jsx(fe,{fontWeight:"600",onClick:r,children:"View Tutorial"})]}),e.jsxs(ls,{onClose:s,isOpen:t,isCentered:!0,children:[e.jsx(He,{}),e.jsx(cs,{mx:"20px",children:e.jsxs(Q,{p:"20px",gap:"15px",children:[e.jsx(c,{as:"a",position:"absolute",top:"10px",right:"10px",onClick:s,children:e.jsx(it,{fontSize:"20px"})}),e.jsx(L,{fontSize:{base:"16px",md:"20px"},lineHeight:"1em",textAlign:"center",children:"How to connect your payout account"}),e.jsx(an,{width:"100%",height:"220px",children:e.jsx("iframe",{title:"Payout Tutorial",src:"https://www.youtube.com/embed/o3JKJlsGvFw",allowFullScreen:!0})}),e.jsxs(de,{justifyContent:"center",zIndex:"1",children:[e.jsx(fe,{bg:"#9b5de5",href:"/",color:"#ffffff",fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",_hover:{bg:"#111111"},_focus:{boxShadow:"none"},children:"More Tutorials"}),e.jsxs(fe,{fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",display:"flex",gap:"5px",href:"/",children:["Contact Support",e.jsx(_e,{fontSize:"12px"})]})]})]})})]})]})]})]}),e.jsxs(Q,{gap:"15px",children:[e.jsx(L,{fontSize:"24px",alignSelf:"flex-start",children:"Recent Payouts"}),e.jsx(Dr,{payout:(a==null?void 0:a.payouts)??[]})]})]})})]})}const Rr=t=>{const r=s=>O.get("/dj/events",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(a=>a.data);return Xe({queryKey:["events",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,a)=>s.length>0&&s.length===t.pageSize?a.length+1:void 0})},Ar=t=>O.delete(`/dj/event/${t}`),Lr=t=>O.get(`/dj/event/${t}`),Fr=(t,r,s)=>O.patch(`/dj/event/${t}/${r}`,s),Wr=()=>{var u,W,U,$;const{data:t}=Ue(),r=he(),s=10,{data:a,fetchNextPage:l,hasNextPage:x,refetch:i}=Rr({pageSize:s}),h=be(),[f,b]=n.useState(null),{isOpen:w,onOpen:k,onClose:m}=Le(),E=n.useRef(null),p=()=>{l()},P=async()=>{if(f)try{(await Ar(f.id)).data.result?(r({title:"Event deleted!",status:"success",duration:3e3,isClosable:!0}),await i()):r({title:"Error deleting event",status:"error",duration:3e3,isClosable:!0})}catch{r({title:"Error deleting event",status:"error",duration:3e3,isClosable:!0})}};return e.jsxs(e.Fragment,{children:[e.jsx(et,{dataLength:(((u=a==null?void 0:a.pages)==null?void 0:u.length)??0)*s,next:p,hasMore:x??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((U=(W=(a==null?void 0:a.pages)??[])==null?void 0:W.flat())==null?void 0:U.length)>0?e.jsx(d,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All events displayed"}):null}),children:e.jsxs(o,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",mt:"30px",children:[e.jsx(c,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(d,{fontWeight:"700",children:"List of events"})}),($=a==null?void 0:a.pages)==null?void 0:$.map((M,_)=>e.jsx(c,{w:"100%",children:M.map(g=>e.jsxs(c,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(c,{children:[e.jsx(me,{src:g.artwork_cache,fallbackSrc:t==null?void 0:t.profile_picture,alt:"event-image",width:"100%",height:"auto",borderRadius:"15px",mt:"10px"}),e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(d,{children:at(g.created_at)}),e.jsx(d,{fontStyle:"italic",paddingLeft:"20px",children:(g==null?void 0:g.publish)===0?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsxs(d,{children:["Event Name: ",e.jsx("b",{children:g.id})]}),e.jsxs(d,{children:["Name: ",e.jsx("b",{children:g.event_name})]})]}),e.jsxs(ge,{children:[e.jsx(z,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{b(g),k()},children:e.jsx(d,{children:"Delete"})}),e.jsx(z,{mt:"10px",w:"100%",onClick:()=>{h(`/event/edit/${g.id}`)},children:e.jsx(d,{children:"Edit"})})]})]},g.id))},_))]})}),f&&e.jsx(xt,{isOpen:w,leastDestructiveRef:E,onClose:m,children:e.jsx(He,{children:e.jsxs(pt,{children:[e.jsxs(ht,{fontSize:"lg",fontWeight:"bold",children:["Delete Post: ",f.event_name]}),e.jsxs(ut,{children:[e.jsx(z,{ref:E,onClick:m,children:"Cancel"}),e.jsx(z,{colorScheme:"red",onClick:async()=>{await P(),m()},ml:3,children:"Delete"})]})]})})})]})},Ur=()=>{const t=be(),r=async()=>{t("/event/create")};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsxs(o,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:[e.jsx(o,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsx(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:r,children:["CREATE EVENT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})})}),e.jsx(c,{w:{base:"100%",sm:"500px"},children:e.jsx(Wr,{})})]})]})})},Mr=({fan:t})=>e.jsxs(Ne,{children:[e.jsx(pe,{children:t.name}),e.jsx(pe,{children:t.username}),e.jsx(pe,{children:t.date})]}),At=({children:t})=>e.jsx(ft,{children:e.jsxs(gt,{variant:"simple",children:[e.jsx(Bt,{children:e.jsxs(Ne,{children:[e.jsx(je,{children:"Name"}),e.jsx(je,{children:"Username"}),e.jsx(je,{children:"Joined"})]})}),e.jsx(mt,{children:t})]})});At.Row=Mr;const Nr=t=>{const r=s=>O.get("/dj/me/fans",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(a=>a.data);return Xe({queryKey:["fans",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,a)=>s.length>0&&s.length===t.pageSize?a.length+1:void 0})},lt=()=>e.jsx(c,{height:"5rem",display:"flex",justifyContent:"center",p:2,children:e.jsx(ln,{isIndeterminate:!0})});function Tr(){const[r,s]=n.useState(vs.ALL),{data:a,fetchNextPage:l,hasNextPage:x,isLoading:i}=Nr({pageSize:15,type:r}),h=()=>e.jsx(et,{dataLength:((a==null?void 0:a.pages.length)??0)*15,next:l,hasMore:x??!1,loader:e.jsx(lt,{}),children:i?e.jsx(lt,{}):e.jsx(At,{children:a==null?void 0:a.pages.map(f=>f.map(b=>e.jsx(At.Row,{fan:b},b.username)))})});return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",flexDirection:"column",children:e.jsxs(o,{direction:"column",maxW:"1000px",px:{base:"15px",md:"25px"},w:"100%",alignSelf:"center",gap:"15px",pt:"15px",children:[e.jsx(d,{fontSize:"28px",fontWeight:"bold",children:"Your Fans"}),e.jsxs(Nt,{variant:"unstyled",bg:"white",borderRadius:"5px",overflow:"hidden",onChange:f=>{s(f)},children:[e.jsxs(Tt,{bg:"#111",color:"#fff",children:[e.jsx(we,{...nt,children:"All"}),e.jsx(we,{...nt,children:"Followers"}),e.jsx(we,{...nt,children:"Gold"}),e.jsx(we,{...nt,children:"VIP"})]}),e.jsxs(Ht,{children:[e.jsx(ve,{p:"0",children:h()}),e.jsx(ve,{p:"0",children:h()}),e.jsx(ve,{p:"0",children:h()}),e.jsx(ve,{p:"0",children:h()})]})]})]})})]})}const nt={fontSize:"20px",fontWeight:"600",_selected:{color:"white",background:"#8338ec"}},Hr=t=>{const r=s=>O.get("/dj/products",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(a=>a.data.products);return Xe({queryKey:["products",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,a)=>s.length>0&&s.length===t.pageSize?a.length+1:void 0})},Or=t=>O.delete(`/dj/product/${t}`),Br=t=>O.get(`/dj/product/${t}`),Gr=(t,r,s)=>O.patch(`/dj/product/${t}/${r}`,s),$r=()=>{var P,u,W,U;const{data:t}=Ue(),r=10,{data:s,fetchNextPage:a,hasNextPage:l,refetch:x}=Hr({pageSize:r}),i=be(),[h,f]=n.useState(null),{isOpen:b,onOpen:w,onClose:k}=Le(),m=n.useRef(null),E=()=>{a()},p=async()=>{h&&(await Or(h.product_id),await x())};return e.jsxs(e.Fragment,{children:[e.jsx(et,{dataLength:(((P=s==null?void 0:s.pages)==null?void 0:P.length)??0)*r,next:E,hasMore:l??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((W=(u=(s==null?void 0:s.pages)??[])==null?void 0:u.flat())==null?void 0:W.length)>0?e.jsx(d,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All products displayed"}):null}),children:e.jsxs(o,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",mt:"30px",children:[e.jsx(c,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(d,{fontWeight:"700",children:"List of products"})}),(U=s==null?void 0:s.pages)==null?void 0:U.map(($,M)=>e.jsx(c,{w:"100%",children:$.map(_=>e.jsxs(c,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(c,{children:[e.jsx(me,{src:_.image_url,fallbackSrc:t==null?void 0:t.profile_picture,alt:"product-image",width:"100%",height:"auto",borderRadius:"15px",mt:"10px"}),e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(d,{children:at(_.created_at)}),e.jsx(d,{fontStyle:"italic",paddingLeft:"20px",children:(_==null?void 0:_.publish)===0?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsxs(d,{children:["Product ID: ",e.jsx("b",{children:_.product_id})]}),e.jsxs(d,{children:["Name: ",e.jsx("b",{children:_.name})]}),e.jsxs(d,{children:["SKU: ",e.jsx("b",{children:_.sku})]}),e.jsxs(d,{children:["Product Type: ",e.jsx("b",{children:_.product_type})]})]}),e.jsxs(ge,{children:[e.jsx(z,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{f(_),w()},children:e.jsx(d,{children:"Delete"})}),e.jsx(z,{mt:"10px",w:"100%",onClick:()=>{i(`/product/edit/${_.product_id}`)},children:e.jsx(d,{children:"Edit"})})]})]},_.product_id))},M))]})}),h&&e.jsx(xt,{isOpen:b,leastDestructiveRef:m,onClose:k,children:e.jsx(He,{children:e.jsxs(pt,{children:[e.jsxs(ht,{fontSize:"lg",fontWeight:"bold",children:["Delete Post: ",h.name]}),e.jsxs(ut,{children:[e.jsx(z,{ref:m,onClick:k,children:"Cancel"}),e.jsx(z,{colorScheme:"red",onClick:async()=>{await p(),k()},ml:3,children:"Delete"})]})]})})})]})},Vr=()=>{const t=be(),r=async()=>{t("/product/create")};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsxs(o,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:[e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsx(o,{bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:r,children:["CREATE PRODUCT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})})}),e.jsx(c,{w:{base:"100%",sm:"500px"},children:e.jsx($r,{})})]})]})})},Yr=async()=>{const t=await O.get("/dj/partner_artist"),{data:r}=t;return r??[]},qr=()=>$e({queryKey:["partner-artists"],queryFn:()=>Yr()}),Kr=(t,r=300)=>{const[s,a]=n.useState(t);return n.useEffect(()=>{const l=setTimeout(()=>{a(t)},r);return()=>clearTimeout(l)},[t]),s},Jr=async t=>{var s;return((s=(await O.get(`/dj/search?query=${t}`)).data)==null?void 0:s.result)??[]};function Zr(){const[t,r]=n.useState(""),[s,a]=n.useState([]),l=Kr(t),{isOpen:x,onToggle:i,onClose:h}=Le(),f=n.useRef(null),b=m=>{r(m)};n.useEffect(()=>{l.length>2?Jr(l).then(m=>{a(m)}):a([])},[l]),n.useEffect(()=>{x&&setTimeout(()=>{var m;(m=f.current)==null||m.focus()},50)},[x]);const w=m=>{m.key==="Enter"&&h()},k=async m=>{try{const E=await O.get(`/dj/loginas/${m.user_key}`),{data:p}=E;p.result&&(h(),window.location.href="/")}catch(E){console.log(E)}};return e.jsx(o,{gap:5,children:e.jsxs(es,{isOpen:x,onClose:h,children:[e.jsx(ts,{children:e.jsxs(Ae,{w:{base:"100%",sm:"200px",md:"250px"},onClick:i,children:[e.jsx(rt,{pointerEvents:"none",children:e.jsx(os,{as:cn,color:"on-accent",boxSize:"6"})}),e.jsx(C,{ref:f,placeholder:"Search",variant:"filled",value:t,onChange:m=>b(m.target.value),onKeyDown:w,style:{backgroundColor:"white"}})]})}),e.jsx(ss,{w:{base:"100%",sm:"20px",md:"250px"},display:t.length?"block":"none",children:e.jsx(dn,{children:e.jsx(o,{direction:"column",children:s&&(s==null?void 0:s.map((m,E)=>e.jsx(d,{cursor:"pointer",_hover:{backgroundColor:"gray.200"},onClick:async()=>await k(m),children:m.display_name},E)))})})})]})})}const Qr=()=>{var l;const{data:t}=qr(),{data:r}=We(),s=(r==null?void 0:r.admin)||((l=r==null?void 0:r.me)==null?void 0:l.admin)||!1,a=Object.values(t||{});return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",h:"100%",justifyContent:"center",children:s&&e.jsx(c,{mt:"15px",children:e.jsx(Zr,{})})}),e.jsxs(o,{w:"100%",h:"100%",justifyContent:"center",children:[t&&t.result==!1&&e.jsx(d,{fontSize:"3xl",paddingTop:12,children:"No partners connected yet."}),t&&t.result!=!1&&e.jsx(ft,{children:e.jsx(gt,{variant:"simple",children:e.jsx(mt,{children:a.map(x=>e.jsxs(Ne,{children:[e.jsx(pe,{children:e.jsx(xn,{src:`https://files.djfan.app/${(x==null?void 0:x.profile_picture)??""}`,h:"full",w:"100%",maxH:"100px",objectFit:"cover",borderRadius:5})}),e.jsxs(pe,{children:[e.jsx("div",{style:{paddingBottom:"10px"},children:x.display_name}),e.jsx(z,{colorScheme:"purple",size:"sm",onClick:async()=>{const i=await O.get(`/dj/loginas/${x.user_id}`),{data:h}=i;window.location.href="/",h.result?console.log(h.result):console.log(h.message)},children:"Login as"})]})]},x.id))})})})]})]})},Xr=t=>{const r=s=>O.get("/dj/invitees",{params:{_start:(s-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(a=>a.data.invitees);return Xe({queryKey:["invitee",t],queryFn:({pageParam:s=1})=>r(s),keepPreviousData:!0,getNextPageParam:(s,a)=>s.length>0&&s.length===t.pageSize?a.length+1:void 0})};function eo(){return e.jsxs(c,{as:"a",target:"_blank",href:"/profile",p:"0",display:"flex",fontSize:"14px",bg:"#ffffff",color:"#111111",fontWeight:"700",px:"10px",py:"8px",gap:"5px",lineHeight:"1em",alignItems:"center",borderRadius:"5px",border:"1px solid #111111",cursor:"pointer",_hover:{bg:"#9b5de5",color:"#ffffff"},children:[e.jsx(Ft,{fontSize:"12px"}),"View Profile"]})}const Lt=({children:t})=>e.jsx(ft,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(gt,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Bt,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Ne,{children:[e.jsx(je,{color:"white",children:"Creator"}),e.jsx(je,{color:"white",children:"Joined"}),e.jsx(je,{color:"white",children:"Period"}),e.jsx(je,{color:"white",children:" Commission"}),e.jsx(je,{color:"white",children:" Actions"})]})}),e.jsx(mt,{children:t})]})}),to=({invitee:t})=>e.jsxs(Ne,{children:[e.jsx(pe,{children:e.jsxs(o,{alignItems:"center",gap:"8px",as:"a",href:"/profile",_hover:{color:"#9b5de5"},children:[e.jsx(Wt,{size:"sm",border:"1px solid #111111",src:`https://files.djfan.app/${t.profile_picture_cache}`}),e.jsx(d,{fontWeight:"600",_hover:{color:"#9b5de5",textDecoration:"underline"},children:t.display_name})]})}),e.jsx(pe,{children:Rt(new Date(t.created_at)).format("DD/MM/YYYY")}),e.jsx(pe,{children:Rt(new Date(t.start_period)).format("MMMM YYYY")}),e.jsxs(pe,{children:[e.jsx("b",{children:t.amount})," per month"]}),e.jsx(pe,{children:e.jsx(o,{children:e.jsx(eo,{})})})]});Lt.Row=to;function so(){const{data:r,fetchNextPage:s,hasNextPage:a,isLoading:l}=Xr({pageSize:10});return n.useEffect(()=>{const x=document.querySelector(".infinite-scroll-component__outerdiv");x&&(x.style.width="100%")},[]),e.jsxs(Q,{gap:"15px",children:[e.jsx(L,{fontSize:"24px",alignSelf:"flex-start",children:"Connected Accounts"}),e.jsx(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(et,{dataLength:((r==null?void 0:r.pages.length)??0)*10,next:s,hasMore:a??!1,loader:e.jsx(lt,{}),children:l?e.jsx(lt,{}):e.jsx(Lt,{children:r==null?void 0:r.pages.map(x=>x.map(i=>e.jsx(Lt.Row,{invitee:i},i.display_name)))})})})]})}function no(t){const{isOpen:r,onOpen:s,onClose:a}=Le(),l=async function(){const i=document.createElement("canvas").toDataURL("image/png").replace("image/png","image/octet-stream");let h=document.createElement("a");h.href=i,h.download="qrcode.png",document.body.appendChild(h),h.click(),document.body.removeChild(h)};return e.jsxs(e.Fragment,{children:[e.jsx(z,{rightIcon:e.jsx(pn,{}),bg:"#111111",borderWidth:"0px",color:"#ffffff",mt:"10px",onClick:s,_active:{border:"4px solid green"},_hover:{bg:"#5DE59A",color:"#ffffff"},children:"Show QR code"}),e.jsxs(ls,{isOpen:r,onClose:a,children:[e.jsx(He,{}),e.jsxs(cs,{w:"300px",children:[e.jsx(c,{as:"a",onClick:a,position:"absolute",top:"15px",right:"15px",color:"#ffffff",border:"1px solid #ffffff",borderRadius:"5px",cursor:"pointer",p:"2px",_hover:{border:"1px solid #111111",color:"#ffffff"},children:e.jsx(hn,{})}),e.jsx(Ut,{children:e.jsxs(o,{flexDirection:"column",py:"15px",alignItems:"center",gap:"20px",children:[e.jsx(c,{paddingTop:10,style:{height:"auto",margin:"0 auto",maxWidth:256,width:"100%"},children:e.jsx(un,{level:"H",size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:t==null?void 0:t.link,viewBox:"0 0 256 256"})}),e.jsx(c,{as:"a",onClick:l,style:{textDecoration:"none",cursor:"pointer"},height:"26px",lineHeight:"24px",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",border:"1px",px:"8px",borderRadius:"2px",fontSize:"14px",fontWeight:"semibold",bg:"#f5f6f7",borderColor:"#ccd0d5",color:"#4b4f56",_hover:{bg:"#ebedf0"},_active:{bg:"#dddfe2",transform:"scale(0.98)",borderColor:"#bec3c9"},_focus:{boxShadow:"0 0 1px 2px rgba(88, 144, 255, .75), 0 1px 1px rgba(0, 0, 0, .15)"},children:"Save Image"})]})})]})]})]})}function ro(){const{data:t}=We(),a=`https://dj.djfan.app/?invite=${(1e7+((t==null?void 0:t.user_id)||0)).toString(36)}`,l=he();return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:[e.jsxs(o,{direction:"column",gap:"15px",children:[e.jsx(L,{fontSize:"24px",alignSelf:"flex-start",children:"Partner Link"}),e.jsx(o,{bg:"#ffffff",borderRadius:"10px",border:"2px solid #9b5de5",overflow:"hidden",w:"100%",children:e.jsxs(Q,{alignItems:"flex-start",textAlign:"left",gap:"10px",height:"100%",py:"20px",px:"20px",children:[e.jsx(L,{fontSize:"20px",children:"Your unique invitation link: "}),e.jsx(d,{children:"Simply direct DJs to sign up via this form and we will automatically connect you with their account to receive lifetime commissions."}),e.jsxs(fe,{display:"flex",alignItems:"center",gap:"10px",fontSize:"20px",_hover:{color:"#5DE59A"},children:[e.jsx(Xt,{color:"#9b5de5"}),a]}),e.jsxs(de,{children:[e.jsx(z,{rightIcon:e.jsx(fn,{}),bg:"#9b5de5",borderWidth:"0px",color:"#ffffff",mt:"10px",_hover:{bg:"#5DE59A",color:"#ffffff"},onClick:()=>{navigator.clipboard.writeText(a),l({title:"Link copied to clipboard",status:"success",duration:3e3,isClosable:!0})},children:"Copy Link"}),e.jsx(no,{link:a})]})]})})]}),e.jsx(so,{})]})})]})}const oo=({fileType:t,tooltipDescription:r})=>e.jsx(gn,{label:r,children:e.jsx(c,{color:"#fff",bg:"#9b5de5",borderRadius:"5px",px:"5px",py:"3px",fontSize:"12px",lineHeight:"1em",children:t})}),Cs=()=>{const t=[{type:"mp3",description:"MP3 audio format"},{type:"flac",description:"Free Lossless Audio Codec"},{type:"aiff",description:"Audio Interchange File Format"},{type:"aifc",description:"Compressed Audio Interchange File"},{type:"wav",description:"Waveform Audio File Format"}];return e.jsxs(Q,{children:[e.jsxs(de,{children:[e.jsxs(c,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Allowed file types"}),":"]}),t.map(r=>e.jsx(oo,{fileType:r.type,tooltipDescription:r.description},r.type))]}),e.jsxs(c,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Maximum file size"}),": 1Gb"]})]})},qt=1*1024*1024*1024,zt=10*1024*1024,io=()=>{const t=be(),r=he(),s=ds(),{product_id:a=""}=s,[l,x]=n.useState(null),[i,h]=n.useState(""),[f,b]=n.useState(""),[w,k]=n.useState(""),[m,E]=n.useState(null),[p,P]=n.useState(""),[u,W]=n.useState(""),[U,$]=n.useState(""),[M,_]=n.useState(""),[g,B]=n.useState(""),[R,Y]=n.useState(""),[N,T]=n.useState(null),[G,v]=n.useState(""),H=n.useRef(null),q=n.useRef(null),[X,A]=n.useState(!1),[ne,y]=n.useState(0),[V,ee]=n.useState(!1),[J,le]=n.useState(0),[F,te]=n.useState(!1),[se,Ce]=n.useState(null),[ce,Ye]=n.useState(null),[qe,yt]=n.useState([]),ke=n.useRef(0),[Oe,wt]=n.useState(0),vt=async I=>{try{const K=await Br(I),{data:re}=K;if(re.result){const Ke=re.products[0];x(Ke)}}catch(K){console.error("Error getting product:",K)}};n.useEffect(()=>{a&&vt(Number(a))},[a]),n.useEffect(()=>{l&&(b(l.name),k(l.description),P(l.price),W(l.genre),$(l.release_date),_(l.label),B(l.artist),Y(l.filename),v(l.artwork_cache))},[l]);const St=I=>{const K=Math.round(I.loaded*100/(I.total||0));y(K)},D=I=>{const K=Math.round(I.loaded*100/(I.total||0));le(K)},Z=async()=>{const I=await Me(Re.product);h(I)};n.useEffect(()=>{Z()},[]);const ie=I=>{const K=Math.ceil(I.size/zt),re=[];let Ke=0;for(let Gt=0;Gt<K;Gt++){const $t=Math.min(Ke+zt,I.size),ks=I.slice(Ke,$t);re.push(ks),Ke=$t}yt(re),wt(K)};n.useEffect(()=>{qe.length&&(ce!=null&&ce.name)&&Be()},[qe,ce]);const Be=async()=>{if(te(!0),(ke==null?void 0:ke.current)<Oe){const I=qe[ke.current];try{await jt(I,i,Oe,ke.current+1,(ce==null?void 0:ce.name)??""),ke.current++,le(Math.round(ke.current/Oe*100)),await Be()}catch(K){console.error("Error uploading chunk:",K)}}else te(!1),le(0)},tt=async I=>{te(!0);try{if(!I||I.size>qt)return;if(Ye(I),I.size<=zt){const K=await ze(I,i,D),{data:re}=K;re.result||r({description:re.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else ie(I)}catch(K){console.error("Error uploading audio:",K)}finally{te(!1),le(0)}};n.useEffect(()=>{N&&tt(N)},[N]);const st=async I=>{ee(!0);try{if(!I)return;Ce(I);const K=await ze(I,i,St),{data:re}=K;re.result||r({description:re.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}catch(K){console.error("Error uploading artwork:",K)}finally{ee(!1),y(0)}};n.useEffect(()=>{m&&st(m)},[m]);const Ct=async()=>{var K;A(!0);const I={name:f,description:w,price:p.toString(),genre:u,release_date:U,label:M,artist:g,filename:R};m&&(I.artwork=m.name),N&&(I.download=N.name);try{(K=(await Gr(Number(a),i,I)).data)!=null&&K.result?(r({description:"Product updated",status:"success",duration:3e3,isClosable:!0}),t("/product")):r({description:"Update failed",status:"error",duration:3e3,isClosable:!0})}catch(re){console.error("Error updating product:",re),r({description:"Update failed",status:"error",duration:3e3,isClosable:!0})}finally{A(!1)}};return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(L,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(Q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Release Name"}),e.jsx(C,{type:"text",value:f,placeholder:"Name of Release / Track",onChange:I=>b(I.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Description"}),e.jsx(Se,{value:w,placeholder:"Write something about this release",onChange:I=>k(I.target.value)})]}),!m&&e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Artwork Preview"}),e.jsx(me,{src:"https://files.djfan.app/"+G,width:"100%",height:"auto",objectFit:"cover",borderRadius:"10px"})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Release Artwork"}),e.jsx(C,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:I=>H.current=I,onChange:I=>{if(I.target.files){const K=I.target.files[0];E(K)}else E(null),Ce(null)}})]}),V?e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",se==null?void 0:se.name]}),e.jsx(De,{hasStripe:!0,value:ne})]}):se?e.jsxs(o,{alignItems:"center",children:[e.jsx(Ee,{onClick:()=>{Ce(null),H.current&&(H.current.value="")}}),e.jsx(d,{ml:"10px",children:se==null?void 0:se.name})]}):null,e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Price ($ USD)"}),e.jsx(xs,{value:p,onChange:I=>P(I),precision:2,children:e.jsx(ps,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Genre"}),e.jsx(C,{type:"text",value:u,onChange:I=>W(I.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Release Date"}),e.jsx(C,{type:"date",value:U,placeholder:"Select a date",onChange:I=>$(I.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Record Label"}),e.jsx(C,{type:"text",placeholder:"Name of Record Label",value:M,onChange:I=>_(I.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Featured Artists"}),e.jsx(C,{type:"text",placeholder:"All Featured Artists",value:g,onChange:I=>B(I.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Downloadable File Name"}),e.jsx(C,{type:"text",placeholder:"e.g. song-name.wav",value:R,onChange:I=>Y(I.target.value)})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Downloadable Track File"}),e.jsx(C,{type:"file",accept:".mp3,.flac,.aiff,.aifc,.wav",border:"0px",p:"2px",ref:I=>q.current=I,onChange:I=>{var K;if(I.target.files){const re=(K=I.target.files)==null?void 0:K[0];if(!re)return;if(re.size>qt){I.target.value="";return}T(re)}else T(null),Ye(null)}})]}),F?e.jsx(e.Fragment,{children:e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",ce==null?void 0:ce.name]}),e.jsxs(d,{as:"span",paddingLeft:"10px",children:[" ",e.jsx(Fe,{})," "]}),e.jsx(De,{hasStripe:!0,value:J})]})}):ce?e.jsxs(o,{alignItems:"center",children:[e.jsx(Ee,{onClick:()=>{Ye(null),q.current&&(q.current.value="")}}),e.jsx(d,{ml:"10px",children:ce==null?void 0:ce.name})]}):null,e.jsx(Cs,{}),e.jsx(z,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:X,onClick:Ct,isDisabled:!f||!p||!u||!U||!M||V||F,children:"UPDATE PRODUCT"})]})]})})})]})},ao=async(t,r)=>await O.post(`/dj/product/audio/${r}`,t),Kt=1*1024*1024*1024,_t=10*1024*1024,lo=()=>{const t=be(),r=he(),[s,a]=n.useState(""),[l,x]=n.useState(""),[i,h]=n.useState(""),[f,b]=n.useState(null),[w,k]=n.useState(""),[m,E]=n.useState(""),[p,P]=n.useState(""),[u,W]=n.useState(""),[U,$]=n.useState(""),[M,_]=n.useState(""),[g,B]=n.useState(null),R=n.useRef(null),Y=n.useRef(null),[N,T]=n.useState(!1),[G,v]=n.useState(0),[H,q]=n.useState(!1),[X,A]=n.useState(0),[ne,y]=n.useState(!1),[V,ee]=n.useState(null),[J,le]=n.useState(null),[F,te]=n.useState([]),se=n.useRef(0),[Ce,ce]=n.useState(0),Ye=D=>{const Z=Math.round(D.loaded*100/(D.total||0));v(Z)},qe=D=>{const Z=Math.round(D.loaded*100/(D.total||0));A(Z)},yt=async()=>{const D=await Me(Re.product);a(D)};n.useEffect(()=>{yt()},[]);const ke=D=>{const Z=Math.ceil(D.size/_t),ie=[];let Be=0;for(let tt=0;tt<Z;tt++){const st=Math.min(Be+_t,D.size),Ct=D.slice(Be,st);ie.push(Ct),Be=st}te(ie),ce(Z)};n.useEffect(()=>{F.length&&(J!=null&&J.name)&&Oe()},[F,J]);const Oe=async()=>{if(y(!0),(se==null?void 0:se.current)<Ce){const D=F[se.current];try{await jt(D,s,Ce,se.current+1,(J==null?void 0:J.name)??""),se.current++,A(Math.round(se.current/Ce*100)),await Oe()}catch(Z){console.error("Error uploading chunk:",Z)}}else y(!1),A(0)},wt=async D=>{y(!0);try{if(!D||D.size>Kt)return;if(le(D),D.size<=_t){const Z=await ze(D,s,qe),{data:ie}=Z;ie.result||r({description:ie.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else ke(D)}catch(Z){console.error("Error uploading audio:",Z)}finally{y(!1),A(0)}};n.useEffect(()=>{g&&wt(g)},[g]);const vt=async D=>{q(!0);try{if(!D)return;ee(D);const Z=await ze(D,s,Ye),{data:ie}=Z;ie.result||r({description:ie.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}catch(Z){console.error("Error uploading artwork:",Z)}finally{q(!1),v(0)}};n.useEffect(()=>{f&&vt(f)},[f]);const St=async()=>{var Z;T(!0);const D={name:l,description:i,artwork:(f==null?void 0:f.name)??"",price:w.toString(),genre:m,release_date:p,label:u,artist:U,filename:M,download:(g==null?void 0:g.name)??""};try{(Z=(await ao(D,s)).data)!=null&&Z.result&&(r({description:"Product created",status:"success",duration:3e3,isClosable:!0}),t("/product"))}catch(ie){console.error("Error creating product:",ie)}finally{T(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",flexDirection:"column",alignItems:"center",children:e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(L,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(Q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Release Name"}),e.jsx(C,{type:"text",value:l,placeholder:"Name of Release / Track",onChange:D=>x(D.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Description"}),e.jsx(Se,{value:i,placeholder:"Write something about this release",onChange:D=>h(D.target.value)})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(S,{children:"Release Artwork"}),e.jsx(C,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:D=>R.current=D,onChange:D=>{if(D.target.files){const Z=D.target.files[0];b(Z)}else b(null),ee(null)}})]}),H?e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",V==null?void 0:V.name]}),e.jsx(De,{hasStripe:!0,value:G})]}):V?e.jsxs(o,{alignItems:"center",children:[e.jsx(Ee,{onClick:()=>{ee(null),R.current&&(R.current.value="")}}),e.jsx(d,{ml:"10px",children:V==null?void 0:V.name})]}):null,e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Price ($ USD)"}),e.jsx(xs,{value:w,onChange:D=>k(D),precision:2,children:e.jsx(ps,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Genre"}),e.jsx(C,{type:"text",value:m,onChange:D=>E(D.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Release Date"}),e.jsx(C,{type:"date",value:p,placeholder:"Select a date",onChange:D=>P(D.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Record Label"}),e.jsx(C,{type:"text",placeholder:"Name of Record Label",value:u,onChange:D=>W(D.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Featured Artists"}),e.jsx(C,{type:"text",placeholder:"All Featured Artists",value:U,onChange:D=>$(D.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Downloadable File Name"}),e.jsx(C,{type:"text",placeholder:"e.g. song-name.wav",value:M,onChange:D=>_(D.target.value)})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(S,{children:"Downloadable Track File"}),e.jsx(C,{type:"file",accept:".mp3,.flac,.aiff,.aifc,.wav",border:"0px",p:"2px",ref:D=>Y.current=D,onChange:D=>{var Z;if(D.target.files){const ie=(Z=D.target.files)==null?void 0:Z[0];if(!ie)return;if(ie.size>Kt){D.target.value="";return}B(ie)}else B(null),le(null)}})]}),ne?e.jsx(e.Fragment,{children:e.jsxs(c,{children:[e.jsxs(d,{mb:"10px",children:["Uploading ",J==null?void 0:J.name]}),e.jsxs(d,{as:"span",paddingLeft:"10px",children:[" ",e.jsx(Fe,{})," "]}),e.jsx(De,{hasStripe:!0,value:X})]})}):J?e.jsxs(o,{alignItems:"center",children:[e.jsx(Ee,{onClick:()=>{le(null),Y.current&&(Y.current.value="")}}),e.jsx(d,{ml:"10px",children:J==null?void 0:J.name})]}):null,e.jsx(Cs,{}),e.jsxs(z,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:N,onClick:St,isDisabled:!l||!f||!w||!m||!p||!u||!g||H||ne,children:["CREATE PRODUCT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})})};function co(){return e.jsxs(de,{justifyContent:"space-between",mt:"15px",w:{base:"100%",sm:"500px"},children:[e.jsxs(de,{gap:"4px",children:[e.jsx(rs,{fontSize:"14px"}),e.jsx(c,{as:"a",href:"/create",fontWeight:"500",fontSize:"16px",lineHeight:"1em",children:"Return to Profile"})]}),e.jsxs(mn,{children:[e.jsx(jn,{fontWeight:"500",children:e.jsxs(de,{gap:"6px",children:[e.jsx(c,{fontSize:"16px",lineHeight:"1em",children:"Change Post Type"}),e.jsx(bn,{fontSize:"18px",color:"#111"})]})}),e.jsxs(yn,{children:[e.jsx(Ze,{as:"a",href:"/imagepost",children:"Image Post"}),e.jsx(Ze,{as:"a",href:"/videopost",children:"Video Post"}),e.jsx(Ze,{as:"a",href:"/audiopost",children:"Audio Post"}),e.jsx(Ze,{as:"a",href:"/tourdate",children:"Tour Date"}),e.jsx(Ze,{as:"a",href:"/product",children:"New Product"})]})]})]})}const xo=async(t,r)=>await O.post(`/dj/event/${r}`,t),po=()=>{const t=be(),r=he(),[s,a]=n.useState(""),[l,x]=n.useState(0),[i,h]=n.useState(!1),[f,b]=n.useState(""),[w,k]=n.useState(""),[m,E]=n.useState(""),[p,P]=n.useState(""),[u,W]=n.useState(""),[U,$]=n.useState(""),[M,_]=n.useState(""),[g,B]=n.useState(null),[R,Y]=n.useState(""),N=n.useRef(null),[T,G]=n.useState(!1),v=A=>{const ne=Math.round(A.loaded*100/(A.total||0));x(ne)},H=async()=>{const A=await Me(Re.event);a(A)};n.useEffect(()=>{H()},[]);const q=async A=>{h(!0);try{await ze(A,s,v)}catch(ne){console.log("err",ne)}finally{h(!1),x(0)}};n.useEffect(()=>{g&&q(g)},[g]);const X=async()=>{var ne;const A={event_name:f,event_date:m,start_time:p,end_time:u,description:w,link_buy_tickets:R,artwork:(g==null?void 0:g.name)??"",venue:U,city:M};G(!0);try{(ne=(await xo(A,s)).data)!=null&&ne.result?(G(!1),r({title:"Event created.",status:"success",duration:3e3,isClosable:!0}),t("/event")):(G(!1),r({title:"Error creating event.",status:"error",duration:3e3,isClosable:!0}))}catch(y){console.log("err",y)}finally{G(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:[e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(L,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(Q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Event Name"}),e.jsx(C,{type:"text",value:f,onChange:A=>b(A.target.value),placeholder:"Enter name of event"})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(S,{children:"Event Description"}),e.jsx(Se,{value:w,onChange:A=>k(A.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Event Date"}),e.jsx(C,{type:"date",value:m,onChange:A=>E(A.target.value),placeholder:"Select a date"})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Start Time"}),e.jsx(C,{type:"time",value:p,onChange:A=>P(A.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"End Time"}),e.jsx(C,{type:"time",value:u,onChange:A=>W(A.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Venue"}),e.jsx(C,{type:"text",placeholder:"e.g. Pacha",value:U,onChange:A=>$(A.target.value)})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(S,{children:"City / Location"}),e.jsx(C,{type:"text",placeholder:"e.g. London or Ibiza",value:M,onChange:A=>_(A.target.value)})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Event Artwork"}),e.jsx(C,{ref:A=>N.current=A,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:A=>{A.target.files&&B(A.target.files[0])}})]}),i?e.jsxs(c,{mb:4,children:[e.jsxs(d,{children:["Uploading ",g==null?void 0:g.name]}),e.jsx(De,{hasStripe:!0,value:l})]}):g?e.jsx(e.Fragment,{children:e.jsxs(o,{alignItems:"center",mb:4,children:[e.jsx(Ee,{cursor:"pointer",onClick:()=>{B(null),N.current&&(N.current.value="")}}),e.jsx(d,{ml:"10px",children:g==null?void 0:g.name})]})}):null,e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Link to book or buy tickets"}),e.jsx(C,{type:"url",placeholder:"https://",value:R,onChange:A=>Y(A.target.value)})]}),e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:T,onClick:X,isDisabled:!f||!w||!m||!U||!M,children:["CREATE EVENT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]}),e.jsx(co,{})]})})]})})},ho=()=>{const t=be(),r=he(),s=ds(),{event_id:a=""}=s,[l,x]=n.useState(null),[i,h]=n.useState(""),[f,b]=n.useState(0),[w,k]=n.useState(!1),[m,E]=n.useState(""),[p,P]=n.useState(""),[u,W]=n.useState(""),[U,$]=n.useState(""),[M,_]=n.useState(""),[g,B]=n.useState(""),[R,Y]=n.useState(""),[N,T]=n.useState(null),[G,v]=n.useState(""),H=n.useRef(null),[q,X]=n.useState(!1),[A,ne]=n.useState(""),y=async F=>{try{const te=await Lr(F),{data:se}=te;if(se.length){const Ce=se[0];x(Ce)}}catch(te){console.error("Error getting event:",te)}};n.useEffect(()=>{a&&y(Number(a))},[a]),n.useEffect(()=>{l&&(E(l.event_name),P(l.description),W(l.event_date),$(l.start_time),_(l.end_time),B(l.venue),Y(l.city),v(l.link_buy_tickets),ne(l.artwork_cache))},[l]);const V=F=>{const te=Math.round(F.loaded*100/(F.total||0));b(te)},ee=async()=>{const F=await Me(Re.event);h(F)};n.useEffect(()=>{ee()},[]);const J=async F=>{k(!0);try{await ze(F,i,V)}catch(te){console.log("err",te)}finally{k(!1),b(0)}};n.useEffect(()=>{N&&J(N)},[N]);const le=async()=>{var te;const F={event_name:m,event_date:u,start_time:U,end_time:M,description:p,link_buy_tickets:G,artwork:(N==null?void 0:N.name)??"",venue:g,city:R};X(!0);try{(te=(await Fr(Number(a),i,F)).data)!=null&&te.result&&(X(!1),r({title:"Event updated.",status:"success",duration:3e3,isClosable:!0}),t("/event"))}catch(se){console.log("err",se)}};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(oe,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsx(o,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(L,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(Q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Event Name"}),e.jsx(C,{type:"text",value:m,onChange:F=>E(F.target.value),placeholder:"Enter name of event"})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(S,{children:"Event Description"}),e.jsx(Se,{value:p,onChange:F=>P(F.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Event Date"}),e.jsx(C,{type:"date",value:u,onChange:F=>W(F.target.value),placeholder:"Select a date"})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Start Time"}),e.jsx(C,{type:"time",value:U,onChange:F=>$(F.target.value)})]}),e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"End Time"}),e.jsx(C,{type:"time",value:M,onChange:F=>_(F.target.value)})]}),e.jsxs(j,{isRequired:!0,mb:4,children:[e.jsx(S,{children:"Venue"}),e.jsx(C,{type:"text",placeholder:"e.g. Pacha",value:g,onChange:F=>B(F.target.value)})]}),e.jsxs(j,{mb:4,isRequired:!0,children:[e.jsx(S,{children:"City / Location"}),e.jsx(C,{type:"text",placeholder:"e.g. London or Ibiza",value:R,onChange:F=>Y(F.target.value)})]}),!N&&e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Artwork Preview"}),e.jsx(me,{src:"https://files.djfan.app/"+A,width:"100%",height:"auto",objectFit:"cover",borderRadius:"10px"})]}),e.jsxs(j,{children:[e.jsx(S,{children:"Event Artwork"}),e.jsx(C,{ref:F=>H.current=F,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:F=>{F.target.files&&T(F.target.files[0])}})]}),w?e.jsxs(c,{mb:4,children:[e.jsxs(d,{children:["Uploading ",N==null?void 0:N.name]}),e.jsx(De,{hasStripe:!0,value:f})]}):N?e.jsx(e.Fragment,{children:e.jsxs(o,{alignItems:"center",mb:4,children:[e.jsx(Ee,{cursor:"pointer",onClick:()=>{T(null),H.current&&(H.current.value="")}}),e.jsx(d,{ml:"10px",children:N==null?void 0:N.name})]})}):null,e.jsxs(j,{mb:4,children:[e.jsx(S,{children:"Link to book or buy tickets"}),e.jsx(C,{type:"url",placeholder:"https://",value:G,onChange:F=>v(F.target.value)})]}),e.jsxs(z,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:q,onClick:le,isDisabled:!m||!p||!u||!g||!R||w,children:["UPDATE EVENT"," ",e.jsx(_e,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})})},uo=wn([{path:"/",element:e.jsx(Pn,{}),errorElement:e.jsx(In,{}),children:[{element:e.jsx(er,{}),path:"",children:[{path:"/",element:e.jsx(nr,{})},{path:"/partners",element:e.jsx(Qr,{})},{path:"/create",children:[{path:"",element:e.jsx(cr,{})},{path:"/create/video",element:e.jsx(or,{})},{path:"/create/image",element:e.jsx(mr,{})},{path:"/create/audio",element:e.jsx(yr,{})},{path:"/create/text",element:e.jsx(jr,{})}]},{path:"/event",element:e.jsx(Ur,{})},{path:"/event/create",element:e.jsx(po,{})},{path:"/event/edit/:event_id",element:e.jsx(ho,{})},{path:"/product",element:e.jsx(Vr,{})},{path:"/product/create",element:e.jsx(lo,{})},{path:"/product/edit/:product_id",element:e.jsx(io,{})},{path:"/settings",element:e.jsx(gr,{})},{path:"/earnings",element:e.jsx(Ir,{})},{path:"/payouts",element:e.jsx(_r,{})},{path:"/fans",element:e.jsx(Tr,{})},{path:"/invitations",element:e.jsx(ro,{})}]},{path:"/create-account",element:e.jsx(gs,{children:e.jsx(ys,{})})}]}]),fo=new vn({defaultOptions:{queries:{retry:3,cacheTime:3e5,staleTime:20*1e3}}});function go(){return e.jsx(Sn,{client:fo,children:e.jsx(ns,{children:e.jsx(Cn,{router:uo})})})}kn.createRoot(document.getElementById("root")).render(e.jsx(Qt.StrictMode,{children:e.jsx(go,{})}));
