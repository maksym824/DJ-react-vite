import{j as e,O as bt,u as rs,B as d,H as A,T as p,i as os,F as a,a as R,I as De,V as be,b as Z,c as is,d as Ee,r as s,R as yt,S as q,e as C,f as he,g as Te,h as St,k as v,l as ft,m as He,n as as,L as ue,o as ls,p as cs,q as D,P as wt,s as Ct,t as vt,U as ds,v as Fe,w as xs,x as ye,y as Be,A as kt,z as ps,C as Se,D as xe,E as It,G as hs,J as us,K as fs,M as gs,N as js,Q as ms,W as pe,X as Me,Y as Pt,Z as Dt,_ as bs,$ as Ve,a0 as ys,a1 as Et,a2 as Ss,a3 as nt,a4 as ws,a5 as ke,a6 as Ie,a7 as fe,a8 as $e,a9 as Ge,aa as zt,ab as Rt,ac as Lt,ad as _t,ae as At,af as Ft,ag as ze,ah as Wt,ai as Ut,aj as Cs,ak as vs,al as ks,am as rt,an as ot,ao as re,ap as it,aq as oe,ar as Is,as as Ps,at as Ds,au as te,av as Ue,aw as at,ax as lt,ay as ct,az as Nt,aA as Ne,aB as me,aC as dt,aD as de,aE as Es,aF as zs,aG as Rs,aH as Ls,aI as _s,aJ as As,aK as Fs,aL as Ws,aM as Us,aN as Ns,aO as We,aP as Ms,aQ as Os,aR as Ts,aS as Hs,aT as Bs,aU as Vs,aV as $s,aW as Gs,aX as qs,aY as Ys,aZ as Ks,a_ as Js}from"./vendor-e1df169d.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const x of c)if(x.type==="childList")for(const i of x.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(c){const x={};return c.integrity&&(x.integrity=c.integrity),c.referrerPolicy&&(x.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?x.credentials="include":c.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function o(c){if(c.ep)return;c.ep=!0;const x=n(c);fetch(c.href,x)}})();const Zs=()=>e.jsx(e.Fragment,{children:e.jsx(bt,{})}),Qs=()=>{const t=rs();return e.jsxs(d,{display:"flex",flexDir:"column",alignItems:"center",children:[e.jsx(A,{as:"h1",size:"md",children:"Oops..."}),e.jsx(p,{fontSize:"sm",children:os(t)?"Invalid page.":"Sorry, an unexpected error has occurred."})]})};function Xs(){return e.jsxs(a,{flexDirection:"column",align:"center",justify:"center",px:"20px",py:"40px",color:"#fff",gap:"15px",position:"relative",children:[e.jsx(a,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",bg:"rgba(0, 0, 0, 0.7)",zIndex:"-1"}),e.jsx(a,{bgImage:"url('https://djfan.ams3.cdn.digitaloceanspaces.com/2023/10/dj-home-cta.jpg')",bgSize:"cover",bgRepeat:"no-repeat",bgPos:"center center",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"-2"}),e.jsx(A,{fontSize:"42px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"Convert faceless followers into loyal supporters"}),e.jsx(p,{fontSize:{base:"24px",md:"28px"},lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",maxW:"900px",children:"Use paid memberships to increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."}),e.jsx(R,{mt:"10px",bg:"#fff",size:"lg",fontWeight:"700",as:"a",href:"/",children:"START FOR FREE"})]})}function en(){return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(d,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(a,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(a,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(De,{id:"logo",w:"120px",src:"https://creators.djfan.app/wp-content/uploads/2023/04/djfan-email.png"}),e.jsx(R,{onClick:()=>{window.open("https://auth.djfan.app/auth/signindj","_self")},children:"SIGN IN"})]})})}),e.jsx(d,{w:"100%",backgroundImage:"url(https://djfan.ams3.cdn.digitaloceanspaces.com/2023/07/bg-dj.jpg)",display:"flex",justifyContent:"center",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},children:e.jsx(a,{maxW:{base:"100%",md:"1024px"},alignItems:"center",children:e.jsxs(be,{w:"100%",gap:"20px",children:[e.jsx(A,{color:"white",fontSize:{base:"36px",md:"58px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Increase your income by rewarding your top fans"}),e.jsx(p,{color:"white",fontWeight:"500",fontSize:{base:"20px",md:"24px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:"We provide a membership platform for DJs where they can connect and engage with their fans and access to tools generate a consistent passive income."}),e.jsx(Z,{children:e.jsx(R,{onClick:()=>{window.open("https://auth.djfan.app/auth/signupdj","_self")},children:"CREATE ACCOUNT"})})]})})}),e.jsx(a,{w:"100%",bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(a,{maxW:{base:"100%",md:"1024px"},justifyContent:"center",alignItems:"center",children:e.jsxs(be,{w:"100%",gap:"20px",children:[e.jsxs(A,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:["The creator economy is valued at"," ",e.jsx("span",{style:{padding:"0px 5px",background:"cyan",color:"#111"},children:"$250 billion"})," ","and could double by 2027. ... will you be part of it?"]}),e.jsxs(p,{color:"white",fontWeight:"500",fontSize:{base:"14px",md:"14px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:["Source:"," ",e.jsx("a",{rel:"noreferrer",target:"_blank",href:"https://www.goldmansachs.com/intelligence/pages/the-creator-economy-could-approach-half-a-trillion-dollars-by-2027.html#:~:text=As%20the%20ecosystem%20grows%2C%20the,%24250%20billion%20today%2C%20Sheridan%20writes.",children:"Goldman Sachs"})]})]})})}),e.jsx(Xs,{}),e.jsx(a,{py:"15px",fontSize:"12px",justifyContent:"center",bg:"#111",color:"#fff",children:"© 2023 DJfan Ltd. 1 Quality Court, Chancery Lane, London, WC2A 1HR"})]})}const tn=({to:t})=>(console.log(t),e.jsx(en,{})),W=is.create({baseURL:"https://api-dj.djfan.app",withCredentials:!0}),sn=()=>W.get("/dj/me").then(t=>t.data.result),we=()=>Ee({queryKey:["userAccount"],queryFn:()=>sn()}),Mt=t=>W.post("/dj/me",t),nn=()=>W.get("/dj/me/change_email"),rn=()=>W.get("/dj/me/reset_password"),on=()=>W.delete("/dj/me/delete_account"),an=t=>{const r=()=>W.get(`/dj/me/profile_url/${t}`).then(n=>n.data.result);return Ee({queryKey:["usernameCheck"],queryFn:()=>r()})},Ot=()=>{const t=()=>{window.open("https://auth.djfan.app/api/auth/signout","_self")};return e.jsx(R,{onClick:t,children:"Sign Out"})},ln=()=>W.get("/dj/me/details").then(t=>t.data.result),Re=()=>Ee({queryKey:["user"],queryFn:()=>ln()}),ve=t=>W.post("/dj/me/details",t);function cn(){const{data:t,isLoading:r}=Re(),n=!!(t!=null&&t.profile_picture);return r?e.jsx("div",{children:"Loading..."}):(n||(window.location.href="/create-account"),e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(d,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",w:"100%",children:e.jsx(a,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",children:e.jsx(a,{w:"100%",alignItems:"center",px:{base:"10px",md:"0px"},py:"10px",justifyContent:"center",children:e.jsx(De,{id:"logo",w:"120px",src:"https://creators.djfan.app/wp-content/uploads/2023/04/djfan-email.png"})})})}),e.jsx(a,{w:"100%",flexGrow:1,bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(a,{w:"100%",justifyContent:"center",alignItems:"center",children:e.jsxs(be,{w:"100%",gap:"20px",children:[e.jsx(A,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Your profile is being reviewed"}),e.jsx(Ot,{})]})})})]}))}const Tt=s.createContext({}),Ht=({children:t})=>{const[r,n]=s.useState(""),[o,c]=s.useState(""),[x,i]=s.useState(""),[u,h]=s.useState(""),[g,b]=s.useState(""),[w,y]=s.useState(""),[E,l]=s.useState(""),[I,m]=s.useState(""),[U,F]=s.useState(""),[B,N]=s.useState(""),[V,f]=s.useState(""),[T,_]=s.useState(null),[M,P]=s.useState(null),[z,G]=s.useState(""),[k,Y]=s.useState("");return e.jsx(Tt.Provider,{value:{displayName:r,firstName:o,lastName:x,username:u,shortBio:g,location:w,country:E,countryCode:I,instagram:U,soundcloud:B,website:V,profileImage:T,coverImage:M,profilePreview:z,coverPreview:k,setDisplayName:n,setFirstName:c,setLastName:i,setUsername:h,setShortBio:b,setLocation:y,setCountry:l,setCountryCode:m,setInstagram:F,setSoundcloud:N,setWebsite:f,setProfileImage:_,setCoverImage:P,setProfilePreview:G,setCoverPreview:Y},children:t})},Le=()=>{const t=yt.useContext(Tt);if(t===void 0)throw new Error("useCreateAccountContext must be used within a CreateAccountContextProvider");return t},dn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},xn=()=>{const{displayName:t,firstName:r,lastName:n,setDisplayName:o,setFirstName:c,setLastName:x}=Le();return e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(d,{textAlign:"center",children:[e.jsx(A,{mb:"5px",fontSize:"20px",children:"Welcome to DJfan"}),e.jsx(A,{fontSize:"14px",fontWeight:"500",children:"Add your names to complete your account."})]}),e.jsx(C,{children:e.jsxs(he,{children:[e.jsx(Te,{pointerEvents:"none",children:e.jsx(St,{color:"#111"})}),e.jsx(v,{type:"text",placeholder:"Artist Name",value:t,onChange:i=>o(i.target.value)})]})}),e.jsx(C,{children:e.jsxs(he,{children:[e.jsx(Te,{pointerEvents:"none",children:e.jsx(ft,{color:"#111"})}),e.jsx(v,{type:"text",placeholder:"First Name",value:r,onChange:i=>c(i.target.value)})]})}),e.jsxs(C,{children:[e.jsxs(he,{children:[e.jsx(Te,{pointerEvents:"none",children:e.jsx(ft,{color:"#111"})}),e.jsx(v,{type:"text",placeholder:"Last Name",value:n,onChange:i=>x(i.target.value)})]}),e.jsx(p,{...dn,children:"100% Privacy. Only your DJ name will be public."})]})]})},pn=()=>{const{username:t,setUsername:r}=Le(),[n,o]=s.useState(!1),{data:c={},refetch:x}=an(t),i=s.useMemo(()=>/^[a-zA-Z0-9\-_]{3,50}$/.test(t)?!!c:!1,[t,c]),u=h=>{let g=h.target.value;const b=/[^a-z0-9\-_]/;g=g.toLowerCase(),g=g.replace(b,""),g=g.substring(0,50),r(g)};return s.useEffect(()=>{t&&t.length>2&&x()},[t]),e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(d,{textAlign:"center",children:[e.jsx(A,{mb:"5px",fontSize:"20px",children:"Choose a Username"}),e.jsx(A,{fontSize:"14px",fontWeight:"500",children:"Your username creates your profile page link"})]}),e.jsx(C,{children:e.jsxs(he,{size:"md",children:[e.jsx(He,{children:"djfan.app/artists/"}),e.jsx(v,{type:"text",id:"username",placeholder:"username",value:t,onChange:u,isInvalid:n&&!i,focusBorderColor:!n||t.length===0?"black.500":i?"green.500":"red.500",onFocus:()=>o(!0)})]})})]})},hn=()=>{const{instagram:t,soundcloud:r,website:n,setInstagram:o,setSoundcloud:c,setWebsite:x}=Le();return e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(d,{textAlign:"center",children:[e.jsx(A,{mb:"5px",fontSize:"20px",children:"Add Profile Links"}),e.jsx(A,{fontSize:"14px",fontWeight:"500",children:"Link to your website & other social profiles"})]}),e.jsxs(C,{children:[e.jsx(d,{border:"2px solid #3e0080",overflow:"hidden",borderRadius:"5px",children:e.jsxs(he,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(He,{bgGradient:"linear(to-r,#5c03bc, #e536ab)",...Je,children:e.jsx(as,{fontSize:"24px",color:"white"})}),e.jsx(v,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Instagram Username",focusBorderColor:"#ffffff00",onChange:i=>o(i.target.value)})]})}),t&&e.jsxs(ue,{href:`https://instagram.com/${t}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["instagram.com/",e.jsx("b",{children:t})]})]}),e.jsxs(C,{children:[e.jsx(d,{border:"2px solid #FF5500",overflow:"hidden",borderRadius:"5px",children:e.jsxs(he,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(He,{bg:"#FF5500",...Je,children:e.jsx(ls,{fontSize:"25px",color:"white"})}),e.jsx(v,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"SoundCloud Username",focusBorderColor:"#ffffff00",onChange:i=>c(i.target.value)})]})}),r&&e.jsxs(ue,{href:`https://soundcloud.com/${r}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["soundcloud.com/",e.jsx("b",{children:r})]})]}),e.jsxs(C,{children:[e.jsx(d,{border:"2px solid #111",overflow:"hidden",borderRadius:"5px",children:e.jsxs(he,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(He,{bg:"#fff",...Je,borderRight:"2px solid #111",children:e.jsx(cs,{fontSize:"20px",color:"#111"})}),e.jsx(v,{type:"url",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Website e.g. artistname.com",focusBorderColor:"#ffffff00",onChange:i=>x(i.target.value)})]})}),n&&e.jsxs(d,{as:"span",pt:"10px",display:"flex",pl:"10px",children:["Website: ",e.jsxs(ue,{href:`https://${n}`,target:"_blank",rel:"noopener noreferrer",_hover:{textDecoration:"underline"},children:["https://",e.jsx("b",{children:n})]})]})]})]})},Je={borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",p:"0px 2px 0px 0px",width:"40px",justifyContent:"center"},Bt=async()=>{const t=await W.get("/dj/countries"),{data:r}=t;return r??[]},un=()=>{const[t,r]=s.useState([]),{setCountry:n,shortBio:o,setShortBio:c,location:x,setLocation:i,countryCode:u,setCountryCode:h}=Le();return s.useEffect(()=>{Bt().then(g=>{r(g)})},[]),e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(d,{textAlign:"center",children:[e.jsx(A,{mb:"5px",fontSize:"20px",children:"Basic Profile Information"}),e.jsx(d,{fontSize:"14px",fontWeight:"500",children:"You can edit all of these later"})]}),e.jsxs(C,{children:[e.jsx(D,{children:"Short Bio"}),e.jsx(v,{type:"text",placeholder:"e.g. DJ & Producer",value:o,onChange:g=>c(g.target.value)}),e.jsxs(wt,{children:[e.jsx(Ct,{children:e.jsx(d,{...fn,color:"#a600ff",cursor:"pointer",textDecoration:"underline",children:"More Examples"})}),e.jsxs(vt,{_focus:{boxShadow:"none"},children:[e.jsxs(q,{p:"15px",children:[e.jsx(A,{fontSize:"15px",fontWeight:"600",children:"Make it short & sweet!"}),e.jsxs(ds,{fontSize:"13px",children:[e.jsx(Fe,{children:"Label Owner & Artist"}),e.jsx(Fe,{children:"A wild Artist from Ibiza"}),e.jsx(Fe,{children:"Electronic Musician"}),e.jsx(Fe,{children:"Label Owner & Producer"}),e.jsx(Fe,{children:"Turntablist & Sound Curator"})]})]}),e.jsx(xs,{})]})]})]}),e.jsxs(C,{children:[e.jsx(D,{children:"Main Location"}),e.jsx(v,{type:"text",placeholder:"e.g. Ibiza or London",value:x,onChange:g=>i(g.target.value)})]}),e.jsxs(C,{children:[e.jsx(D,{children:"Where are you from?"}),e.jsx(ye,{placeholder:"Select Country",value:u,onChange:g=>{const b=g.target.value,w=b?(t.find(y=>y.country_code===b)||{}).country:"";n(w??""),h(b)},children:t.map((g,b)=>e.jsx("option",{value:g.country_code,children:g.country},b))})]})]})},fn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},Vt=t=>{const r=new FormData;return r.append("image",t),W.post("/dj/me/profile_picture",r)},$t=t=>{const r=new FormData;return r.append("image",t),W.post("/dj/me/cover_photo",r)},gn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},jn=()=>{const{profileImage:t,setProfileImage:r,coverImage:n,setCoverImage:o,profilePreview:c,setProfilePreview:x,coverPreview:i,setCoverPreview:u}=Le(),h=l=>{if(!l.target.files)return;const I=l.target.files[0];if(I){r(I);const m=new FileReader;m.readAsDataURL(I),m.onloadend=()=>{x(m.result)}}},g=l=>{if(!l.target.files)return;const I=l.target.files[0];if(I){o(I);const m=new FileReader;m.readAsDataURL(I),m.onloadend=()=>{u(m.result)}}},b=()=>{r(null),x("")},w=()=>{o(null),u("")},y=async()=>{try{await Vt(t)}catch(l){console.log(l)}},E=async()=>{try{await $t(n)}catch(l){console.log(l)}};return s.useEffect(()=>{t&&y()},[t]),s.useEffect(()=>{n&&E()},[n]),e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(d,{textAlign:"center",children:[e.jsx(A,{mb:"5px",fontSize:"20px",children:"Profile & Cover Photos"}),e.jsx(A,{fontSize:"14px",fontWeight:"500",children:"Finally, let's add some photos!"})]}),e.jsxs(C,{children:[e.jsx(D,{children:"Upload Profile Avatar"}),e.jsx(Z,{position:"relative",children:e.jsxs("label",{children:[e.jsx(v,{type:"file",accept:"image/*",onChange:h,style:{display:"none"}}),e.jsx(R,{as:"span",children:"Select Image"})]})})]}),e.jsxs(C,{children:[e.jsx(D,{children:"Upload Cover Photo"}),e.jsx(Z,{position:"relative",children:e.jsxs("label",{children:[e.jsx(v,{type:"file",accept:"image/*",onChange:g,style:{display:"none"}}),e.jsx(R,{as:"span",children:"Select Image"})]})})]}),e.jsxs(d,{position:"relative",mt:"2",children:[e.jsxs(q,{py:"30px",alignItems:"center",position:"relative",bgImage:i,bgSize:"cover",bgColor:"grey",bgRepeat:"no-repeat",bgPos:"center",opacity:"0.7",children:[i&&e.jsx(d,{zIndex:"10","aria-label":"Remove image",position:"absolute",bg:"black",top:"10px",right:"10px",onClick:w,borderRadius:"100%",p:"2px",children:e.jsx(Be,{color:"white"})}),e.jsxs(be,{position:"relative",children:[c&&e.jsx(d,{"aria-label":"Remove image",position:"absolute",bg:"black",top:"-5px",right:"-15px",onClick:b,borderRadius:"100%",p:"2px",children:e.jsx(Be,{color:"white"})}),e.jsx(kt,{bg:"black",src:c,showBorder:!0,borderColor:"cyan",size:"lg"})]})]}),e.jsx(p,{...gn,children:"Begin uploading to preview your profile images."})]})]})},gt={transform:"scale(0.85) translateY(-24px)"},mn=ps({components:{Form:{variants:{floating:{container:{_focusWithin:{label:{...gt}},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label, textarea:not(:placeholder-shown) ~ label":{...gt},label:{top:0,left:25,zIndex:2,position:"absolute",backgroundColor:"white",pointerEvents:"none",mx:3,px:1,my:2,transformOrigin:"left top"}}}}}}});function Gt(){const{refetch:t}=Re(),r=Se(),n=xe(),[o,c]=s.useState(1),[x,i]=s.useState(20),u=[{title:"1",description:"Names"},{title:"2",description:"Username"},{title:"3",description:"Basics"},{title:"4",description:"Links"},{title:"5",description:"Photos"}],{displayName:h,firstName:g,lastName:b,username:w,shortBio:y,country:E,countryCode:l,location:I,instagram:m,soundcloud:U,website:F,profileImage:B,coverImage:N}=Le(),[V,f]=s.useState(!1),T=o===1&&!!h&&!!g&&!!b,_=o===2&&!!w&&w.length>2,M=o===3&&!!y&&!!E&&!!l&&!!I,P=o===4&&!!m&&!!U&&!!F,z=o===5&&!!B&&!!N,G=async()=>{switch(o){case 1:if(!T)break;f(!0);try{await Mt({first_name:g,last_name:b}),await ve({display_name:h}),c(o+1),i(x+20)}catch(k){console.log(k)}finally{f(!1)}break;case 2:if(!_)break;f(!0);try{await ve({profile_url:w}),c(o+1),i(x+20)}catch(k){console.log(k)}finally{f(!1)}break;case 3:if(!M)break;f(!0);try{await ve({title:y,location:I,country:E,country_code:l}),c(o+1),i(x+20)}catch(k){console.log(k)}finally{f(!1)}break;case 4:if(!P)break;f(!0);try{await ve({instagram:m,soundcloud:U,website:F}),c(o+1),i(x+20)}catch(k){console.log(k)}finally{f(!1)}break}};return e.jsx(It,{theme:mn,children:e.jsxs(a,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",minHeight:"100vh",flexDirection:"column",children:[e.jsxs(a,{bg:"#111",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",position:"relative",children:[e.jsx(Z,{maxW:"1000px",p:"10px",pr:"15px",bg:"#111",justifyContent:"space-between",children:e.jsx(d,{as:"a",href:"/",children:e.jsx(De,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),e.jsx(d,{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",children:e.jsx(Ot,{})})]}),e.jsxs(be,{pt:"20px",children:[e.jsx(q,{pb:"10px",children:e.jsx(hs,{size:"sm",index:o-1,children:u.map((k,Y)=>e.jsxs(us,{children:[e.jsx(fs,{children:e.jsx(gs,{complete:e.jsx(js,{})})}),e.jsx(ms,{})]},Y))})}),e.jsxs(d,{width:"100%",bg:"#fff",maxWidth:"400px",as:"form",overflow:"hidden",display:"flex",flexDirection:"column",borderRadius:"10px",border:"solid 2px cyan",children:[o===1?e.jsx(xn,{}):o===2?e.jsx(pn,{}):o===3?e.jsx(un,{}):o===4?e.jsx(hn,{}):e.jsx(jn,{}),e.jsx(d,{position:"relative",bgColor:"#111",p:"15px",borderTop:"2px solid cyan",children:e.jsxs(a,{w:"100%",bgColor:"#111",justifyContent:o===1?"flex-end":"space-between",children:[e.jsx(R,{onClick:()=>{c(o-1),i(x-20)},isDisabled:o===1,bg:"#fff",color:"#111",w:"7rem",display:o===1?"none":"block",children:"Back"}),o!==5?e.jsx(R,{w:"7rem",isDisabled:o===1&&!T||o===2&&!_||o===3&&!M||o===4&&!P,onClick:G,bg:"#fff",color:"#111",variant:"solid",opacity:"1",isLoading:V,children:"Continue"}):e.jsx(R,{w:"7rem",colorScheme:"green",variant:"solid",isDisabled:!z,onClick:async()=>{await t(),n({title:"Account created.",description:"We've created your account for you.",status:"success",duration:3e3,isClosable:!0}),r("/")},children:"FINISH"})]})})]})]})]})})}const bn=()=>{const{data:t,isLoading:r}=we(),n=(t==null?void 0:t.dj)||!1;return r?e.jsx(e.Fragment,{}):t?n==!0&&!(t!=null&&t.profile_active)?t!=null&&t.profile_done?e.jsx(cn,{}):e.jsx(Ht,{children:e.jsx(Gt,{})}):e.jsx(bt,{}):e.jsx(tn,{to:"https://auth.djfan.app/auth/signindj"})},ne=({href:t,text:r})=>e.jsx(d,{as:"a",href:t,display:"flex",fontWeight:"500",_hover:{color:"#bf0fff"},children:r}),yn=()=>{var x,i;const{data:t}=we(),r=(t==null?void 0:t.dj)||!1,n=(t==null?void 0:t.admin)||((x=t==null?void 0:t.me)==null?void 0:x.admin)||!1,o=(t==null?void 0:t.partner)||((i=t==null?void 0:t.me)==null?void 0:i.partner)||!1,c=(t==null?void 0:t.loginas)||!1;return e.jsxs(e.Fragment,{children:[c&&e.jsx(d,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:c?"pointer":"not-allowed",onClick:async()=>{await W.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"}),(o||n)&&!c&&e.jsx(d,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#345678",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:"pointer",onClick:async()=>{window.location.href="/partners"},children:"Partners"}),e.jsxs(d,{as:"a",href:"/settings",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#6b46c1",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(St,{}),"Return to Profile"]}),e.jsxs(q,{px:"20px",py:"20px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Create"}),e.jsx(ne,{href:"/create/image",text:"Image Post"}),e.jsx(ne,{href:"/create/video",text:"Video Post"}),e.jsx(ne,{href:"/create/audio",text:"Audio Post"}),e.jsx(ne,{href:"/create/event",text:"Tour Date"}),e.jsx(ne,{href:"/product",text:"Product"}),e.jsx(ne,{href:"/create/text",text:"Text Post"}),e.jsx(d,{py:"10px",children:e.jsx(pe,{borderColor:"#6b46c1"})}),e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Insights"}),e.jsx(ne,{href:"/fans",text:"Your Fans"}),e.jsx(d,{py:"10px",children:e.jsx(pe,{borderColor:"#6b46c1"})}),(!c||n)&&e.jsxs(e.Fragment,{children:[e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Income"}),e.jsx(ne,{href:"/payouts",text:"Payouts"}),e.jsx(ne,{href:"/earnings",text:"Earnings"})]}),e.jsx(ne,{href:"/invitations",text:"Invitations"}),e.jsx(d,{py:"10px",children:e.jsx(pe,{borderColor:"#6b46c1"})}),e.jsx(d,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Settings"}),e.jsx(ne,{href:"/settings",text:"Account"})]}),e.jsx(d,{fontSize:"16px",fontWeight:"500",cursor:"pointer",onClick:()=>{window.open("https://auth.djfan.app/api/auth/signout","_self")},children:"Sign Out"})]}),c&&e.jsx(d,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:c?"pointer":"not-allowed",onClick:async()=>{await W.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"})]})},X=()=>{const{data:t}=we(),{isOpen:r,onOpen:n,onClose:o}=Me();return e.jsx(d,{children:e.jsx(a,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",children:e.jsxs(a,{w:"100%",maxW:"1000px",alignItems:"center",justifyContent:"space-between",p:"10px",pr:"15px",children:[e.jsx(a,{w:"30%",justifyContent:"flex-start",display:{base:"none",md:"flex"},children:e.jsxs(a,{as:"a",href:"/",color:"#fff",lineHeight:"1em",gap:"5px",fontWeight:"600",fontSize:"18px",py:"5px",alignItems:"center",_hover:{color:"cyan"},children:[e.jsx(Pt,{fontSize:"12px"}),"View Profile"]})}),e.jsxs(a,{w:"60%",justifyContent:{base:"flex-start",md:"center"},children:[!(t!=null&&t.loginas)&&e.jsx(d,{as:"a",href:"/",children:e.jsx(De,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})}),(t==null?void 0:t.loginas)&&e.jsx(p,{fontSize:"16",color:"#FFF",paddingLeft:5,children:(t==null?void 0:t.username)&&(t==null?void 0:t.username.toString().substring(0,28))})]}),e.jsx(a,{w:"30%",justifyContent:"flex-end",children:e.jsx(d,{as:"a",onClick:n,color:"#fff",cursor:"pointer",children:e.jsx(Dt,{viewBox:"0 0 24 24",width:"30px",height:"30px",color:"white",_hover:{width:"35px",height:"35px"},transition:"all 0.3s ease-in-out",children:e.jsx("path",{fill:"currentColor",d:"M0,4c0-.55,.45-1,1-1H18c.55,0,1,.45,1,1s-.45,1-1,1H1c-.55,0-1-.45-1-1Zm18,15H1c-.55,0-1,.45-1,1s.45,1,1,1H18c.55,0,1-.45,1-1s-.45-1-1-1Zm5-8H6c-.55,0-1,.45-1,1s.45,1,1,1H23c.55,0,1-.45,1-1s-.45-1-1-1Z"})})})}),e.jsxs(bs,{isOpen:r,placement:"right",onClose:o,children:[e.jsx(Ve,{}),e.jsx(ys,{p:"0",maxW:{base:"50%",md:"220px"},id:"content",children:e.jsxs(Et,{p:"0",children:[e.jsxs(Z,{bg:"#111",p:"15px",justifyContent:"space-between",children:[e.jsx(d,{color:"#fff",fontWeight:"600",fontSize:"18px",children:"Creator Menu"}),e.jsx(d,{as:"a",href:"",onClick:o,right:"15px",top:"15px",cursor:"pointer",color:"#fff",_hover:{color:"#5c03bc"},children:e.jsx(Be,{fontSize:"18px"})})]}),e.jsx(yn,{})]})})]})]})})})},Sn=[{text:"Create Post",imageUrl:"https://files.djfan.app/images/create.webp",linkUrl:"/create"},{text:"Create Product",imageUrl:"https://files.djfan.app/images/product.webp",linkUrl:"/product"},{text:"Earnings",imageUrl:"https://files.djfan.app/images/earnings.webp",linkUrl:"/earnings"},{text:"My Fans",imageUrl:"https://files.djfan.app/images/fans.webp",linkUrl:"/fans"},{text:"Settings",imageUrl:"https://files.djfan.app/images/settings.webp",linkUrl:"/settings"},{text:"Invitations",imageUrl:"https://files.djfan.app/images/invitations.webp",linkUrl:"/invitations"},{text:"Partners",imageUrl:"https://files.djfan.app/images/partners.webp",linkUrl:"/partners"}];function wn(){var x,i;const{data:t}=we(),r=(t==null?void 0:t.dj)||!1,n=(t==null?void 0:t.admin)||((x=t==null?void 0:t.me)==null?void 0:x.admin)||!1,o=(t==null?void 0:t.partner)||((i=t==null?void 0:t.me)==null?void 0:i.partner)||!1,c=(t==null?void 0:t.loginas)||!1;return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",children:e.jsx(a,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:e.jsx(a,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:Sn.reduce(function(u,h){if(c){if(!n&&h.text=="Earnings"||h.text=="Partners")return u}else if((o||n)&&!r&&h.text!="Partners")return u;return u.push({text:h.text,imageUrl:h.imageUrl,linkUrl:h.linkUrl}),u},[]).map((u,h)=>(console.log(u,h),e.jsx(ue,{href:(u==null?void 0:u.linkUrl)??"/",w:{base:"100%",md:"30%"},children:e.jsx(d,{w:{base:"100%",md:"100%"},h:"150px",bgImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${u.imageUrl})`,bgPos:"center",bgSize:"cover",borderRadius:"10px",position:"relative",children:e.jsx(Ss,{h:"100%",children:e.jsx(p,{fontSize:"24px",color:"white",fontWeight:"600",children:u.text})})})},h)))})})})]})}const _e=async t=>{const r=await W.get(`/dj/post/token?_post_type=${t}`),{data:{data:n}}=r;return n.post_token?n.post_token:""},Pe=async(t,r,n)=>{if(!r)return;const o={onUploadProgress:n},c=new FormData;return c.append("file",t),await W.post(`/dj/post/${r}/upload`,c,o)},Cn=async(t,r,n)=>{if(!r)return;const o={onUploadProgress:n},c=new FormData;return c.append("file",t),await W.post(`/dj/post/${r}/upload/large`,c,o)},xt=async(t,r,n,o,c)=>{if(!r)return;const x=new FormData;x.append("file",t),await W.post(`/dj/post/${r}/upload/large`,x,{headers:{"Content-Type":"multipart/form-data","File-Total-Chunks":n.toString(),"File-Chunk-Number":o.toString(),"File-Name":c}})};var J=(t=>(t[t.EVERYONE=1]="EVERYONE",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(J||{}),K=(t=>(t[t.EMBED=1]="EMBED",t[t.UPLOAD=0]="UPLOAD",t))(K||{}),je=(t=>(t[t.SINGLE=1]="SINGLE",t[t.MULTIPLE=2]="MULTIPLE",t))(je||{}),Ce=(t=>(t.image="image",t.video="video",t.audio="audio",t.text="text",t.product="product",t.event="event",t))(Ce||{}),qt=(t=>(t[t.ALL=0]="ALL",t[t.FOLLOWERS=1]="FOLLOWERS",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(qt||{});const qe=async(t,r)=>await W.post(`/dj/post/${r}`,t),vn=1500*1024*1024,Ze=10*1024*1024,kn=()=>{const[t,r]=s.useState(K.UPLOAD),{getRootProps:n,getInputProps:o,isDragActive:c,acceptedFiles:x}=nt({accept:{"video/mp4":[],"video/mov":[]}}),i=Se(),u=xe(),[h,g]=s.useState(""),[b,w]=s.useState(0),[y,E]=s.useState(!1),[l,I]=s.useState(null),[m,U]=s.useState(void 0),[F,B]=s.useState(""),[N,V]=s.useState(""),[f,T]=s.useState([]),_=s.useRef(0),[M,P]=s.useState(0),[z,G]=s.useState(!1),k=j=>{const O=Math.round(j.loaded*100/(j.total||0));w(O)},Y=async()=>{const j=await _e(Ce.video);g(j)};s.useEffect(()=>{Y()},[]),s.useEffect(()=>{x.length&&h.length&&L()},[x]);const se=j=>{const O=Math.ceil(j.size/Ze),ie=[];let H=0;for(let ae=0;ae<O;ae++){const le=Math.min(H+Ze,j.size),Ae=j.slice(H,le);ie.push(Ae),H=le}T(ie),P(O)},ee=async()=>{if(E(!0),(_==null?void 0:_.current)<M){const j=f[_.current];try{await xt(j,h,M,_.current+1,(l==null?void 0:l.name)??""),_.current++,w(Math.round(_.current/M*100)),await ee()}catch(O){console.error("Error uploading chunk:",O)}}else E(!1),w(0)};s.useEffect(()=>{f.length&&(l!=null&&l.name)&&ee()},[f,l]);const L=async()=>{E(!0);try{const j=x[0];if(j.size>vn)return;I(x[0]),j.size<=Ze?await Pe(x[0],h,k):se(j)}catch(j){console.log(j)}finally{E(!1),w(0)}},Q=async()=>{const j={body:F,accesslevel_id:m};t===K.EMBED?(j.embedded=1,j.location=N):(j.embedded=0,j.files=[(l==null?void 0:l.name)??""]),G(!0);try{await qe(j,h),u({description:"Post created",status:"success",duration:3e3,isClosable:!0}),i("/")}catch(O){console.log("err",O)}finally{G(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(d,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(a,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(a,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(ws,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Video Post"})]}),e.jsxs(a,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(p,{my:"10px",children:"Select video post type"}),e.jsxs(a,{height:"min-content",mt:"1",children:[e.jsx(d,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===K.EMBED?"#a37cf0":"white",onClick:()=>r(K.EMBED),children:"Embed Video"}),e.jsx(d,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===K.UPLOAD?"#a37cf0":"white",onClick:()=>r(K.UPLOAD),children:"Upload Video"})]}),t===K.UPLOAD?e.jsxs(d,{mt:"20px",children:[e.jsxs(d,{border:c?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:c?"#f5f5f5":"white",...n(),children:[e.jsx("input",{...o()}),e.jsx(p,{p:"10px",children:"Drag and drop some files here, or click to select files"})]}),y?e.jsxs(d,{mt:"10px",children:[e.jsxs(p,{mb:"10px",children:["Uploading ",l==null?void 0:l.name]}),e.jsx(ke,{hasStripe:!0,value:b})]}):l?e.jsxs(a,{alignItems:"center",mt:"10px",children:[e.jsx(Ie,{onClick:()=>I(null)}),e.jsx(p,{ml:"10px",children:l==null?void 0:l.name})]}):null]}):e.jsx(d,{mt:"10px",children:e.jsx(v,{mt:"10px",placeholder:"Enter URL",value:N,onChange:j=>V(j.target.value)})}),e.jsx(fe,{mt:"20px",placeholder:"Write something about this post",value:F,onChange:j=>B(j.target.value)}),e.jsxs(d,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(ye,{mt:"10px",placeholder:"Select privacy option",onChange:j=>U(j.target.value),children:[e.jsx("option",{value:J.EVERYONE,children:"Everyone"}),e.jsx("option",{value:J.GOLD,children:"GOLD"}),e.jsx("option",{value:J.VIP,children:"VIP"})]})]}),m&&(t===K.UPLOAD?l:N)&&F&&!y?e.jsx(R,{isLoading:z,mt:"20px",colorScheme:"purple",onClick:Q,children:"Post"}):null]})]})}),e.jsx(d,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(a,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(a,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>i("/create"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>i("/create"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ge,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},In=t=>{const r=n=>W.get("/dj/posts",{params:{_start:(n-1)*t.pageSize,_limit:t.pageSize}}).then(o=>o.data.result);return zt({queryKey:["posts",t],queryFn:({pageParam:n=1})=>r(n),keepPreviousData:!0,getNextPageParam:(n,o)=>n.length>0&&n.length===t.pageSize?o.length+1:void 0})},Pn=(t,r)=>W.patch(`/dj/post/${t}`,r),Dn=t=>W.delete(`/dj/post/${t}`),jt=t=>{const r=Math.floor((new Date().getTime()-Date.parse(t))/1e3);let n=Math.floor(r/31536e3);return n>1?n+" years ago":(n=Math.floor(r/2592e3),n>1?n+" months ago":(n=Math.floor(r/86400),n>1?n+" days ago":(n=Math.floor(r/3600),n>1?n+" hours ago":(n=Math.floor(r/60),n>1?n+" minutes ago":r<10?"just now":Math.floor(r)+" seconds ago"))))},En=()=>e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#111",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",children:e.jsxs(a,{flexDirection:"column",gap:"25px",w:"100%",maxW:"600px",pt:"25px",px:"15px",children:[e.jsx(p,{color:"#fff",lineHeight:"1em",fontSize:"28px",fontWeight:"600",textAlign:"center",w:"100%",children:"Create a new post"}),e.jsx(a,{h:"100%",justifyContent:"space-evenly",wrap:"wrap",gap:"20px",children:zn.map((t,r)=>e.jsx(ue,{href:t.link,w:{base:"45%",md:"30%"},children:e.jsxs(be,{bg:"#fff",py:"20px",gap:"10px",borderRadius:"15px",children:[e.jsx(De,{width:"40px",src:t.imageUrl}),e.jsx(p,{fontSize:"20px",color:"#111",fontWeight:"600",children:t.name})]})},r))}),e.jsx(d,{children:e.jsx(Rn,{})})]})})]}),zn=[{id:1,name:"Image Post",imageUrl:"https://media.djfan.app/images/imagepost.png",link:"/create/image"},{id:2,name:"Video Post",imageUrl:"https://media.djfan.app/images/videopost.png",link:"/create/video"},{id:3,name:"Audio Post",imageUrl:"https://media.djfan.app/images/audiopost.png",link:"/create/audio"},{id:4,name:"Event",link:"/create/event",imageUrl:"https://media.djfan.app/images/tourdate.png"},{id:5,name:"New Product",imageUrl:"https://media.djfan.app/images/product.png",link:"/product"},{id:6,name:"Text Post",imageUrl:"https://media.djfan.app/images/textpost.png",link:"/create/text"}],Rn=()=>{const{data:t}=Re(),r=10,{data:n,fetchNextPage:o,hasNextPage:c,refetch:x}=In({pageSize:r}),[i,u]=s.useState(null),{isOpen:h,onOpen:g,onClose:b}=Me(),w=s.useRef(null),y=()=>{o()},E=async()=>{i&&(await Dn(i.post_id),await x())};return e.jsxs(e.Fragment,{children:[e.jsx(Rt,{dataLength:((n==null?void 0:n.pages.length)??0)*r,next:y,hasMore:c??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((n==null?void 0:n.pages)??[]).flat().length>0?e.jsx(p,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All posts displayed"}):null}),children:e.jsxs(a,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",pb:"50px",mt:"30px",children:[e.jsx(d,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(p,{fontWeight:"700",children:"List of posts"})}),n==null?void 0:n.pages.map((l,I)=>e.jsx(d,{w:"100%",children:l.map(m=>e.jsxs(d,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsx(d,{children:(i==null?void 0:i.post_id)===(m==null?void 0:m.id)?jt(i.created_at):jt(m.created_at)}),e.jsx(fe,{mt:"10px",onFocus:()=>{(i==null?void 0:i.post_id)!==m.post_id&&u(m)},value:(i==null?void 0:i.post_id)===(m==null?void 0:m.id)?i==null?void 0:i.body:m.body,onChange:U=>{i&&u({...i,body:U.target.value})}}),e.jsxs(ye,{mt:"10px",placeholder:"Select privacy option",onFocus:()=>{(i==null?void 0:i.post_id)!==m.post_id&&u(m)},value:(i==null?void 0:i.post_id)===(m==null?void 0:m.id)?i==null?void 0:i.accesslevel_id:m.accesslevel_id,onChange:U=>{i&&u({...i,accesslevel_id:Number(U.target.value)})},children:[e.jsx("option",{value:J.EVERYONE,children:"Everyone"}),e.jsx("option",{value:J.GOLD,children:"GOLD"}),e.jsx("option",{value:J.VIP,children:"VIP"})]}),e.jsxs(be,{children:[e.jsx(R,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{u(m),g()},children:e.jsx(p,{children:"Delete"})}),(i==null?void 0:i.post_id)===(m==null?void 0:m.id)?e.jsx(R,{mt:"10px",w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:async()=>{try{await Pn(m.post_id,{body:i.body,accesslevel_id:i.accesslevel_id}),await x()}catch(U){console.log(U)}u(null)},children:e.jsx(p,{children:"Save"})}):null,e.jsx(R,{mt:"10px",w:"100%",onClick:()=>{window.open(`https://djfan.app/artists/${t==null?void 0:t.profile_url}`,"_blank")},children:e.jsx(p,{children:"View"})})]})]},m.post_id))},I))]})}),e.jsx(Lt,{isOpen:h,leastDestructiveRef:w,onClose:b,children:e.jsx(Ve,{children:e.jsxs(_t,{children:[e.jsx(At,{fontSize:"lg",fontWeight:"bold",children:"Delete Post"}),e.jsxs(Ft,{children:[e.jsx(R,{ref:w,onClick:b,children:"Cancel"}),e.jsx(R,{colorScheme:"red",onClick:async()=>{await E(),b()},ml:3,children:"Delete"})]})]})})})]})};function Ln(){const{data:t,refetch:r}=Re(),n=xe(),[o,c]=s.useState(""),[x,i]=s.useState(""),[u,h]=s.useState(""),[g,b]=s.useState(""),[w,y]=s.useState(""),[E,l]=s.useState(""),[I,m]=s.useState(""),[U,F]=s.useState(""),[B,N]=s.useState(!1);s.useEffect(()=>{c((t==null?void 0:t.website)??""),i((t==null?void 0:t.instagram)??""),h((t==null?void 0:t.soundcloud)??""),b((t==null?void 0:t.mixcloud)??""),y((t==null?void 0:t.facebook)??""),l((t==null?void 0:t.tiktok)??""),m((t==null?void 0:t.youtube)??""),F((t==null?void 0:t.spotify)??"")},[t]);const V=async()=>{var T,_;const f={website:o,instagram:x,soundcloud:u,mixcloud:g,facebook:w,tiktok:E,youtube:I,spotify:U};N(!0);try{(_=(T=(await ve(f)).data)==null?void 0:T.result)!=null&&_.result&&(await r(),n({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(M){console.log(M)}finally{N(!1)}};return e.jsxs(q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Website"}),e.jsx(v,{type:"text",placeholder:" e.g. artistname.com",value:o,onChange:f=>c(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Instagram Username"}),e.jsx(v,{type:"text",placeholder:"Enter only username (no link)",value:x,onChange:f=>i(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Soundcloud Username"}),e.jsx(v,{type:"text",placeholder:"Enter only username (no link)",value:u,onChange:f=>h(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Mixcloud Username"}),e.jsx(v,{type:"text",placeholder:"Enter only username (no link)",value:g,onChange:f=>b(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Facebook Page Username"}),e.jsx(v,{type:"text",placeholder:"Enter only username (no link)",value:w,onChange:f=>y(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"TikTok Username"}),e.jsx(v,{type:"text",placeholder:"Enter only username (no link)",value:E,onChange:f=>l(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"YouTube Channel"}),e.jsx(v,{type:"text",placeholder:"Enter full link e.g. https://www.youtube.com/...",value:I,onChange:f=>m(f.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Spotify Artist Page"}),e.jsx(v,{type:"text",placeholder:"Enter full link e.g. https://open.spotify/artist...",value:U,onChange:f=>F(f.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:V,isLoading:B,children:["UPDATE PROFILE LINKS ",e.jsx(ze,{style:{marginLeft:"5px"}})]})]})}const _n=({profileImage:t,coverPhoto:r})=>{const[n,o]=s.useState(t),[c,x]=s.useState(r),[i,u]=s.useState(null),[h,g]=s.useState(null),b=s.useRef(null),w=s.useRef(null);s.useEffect(()=>{o(t),x(r)},[t,r]);const y=async()=>{if(i){const l=URL.createObjectURL(i);o(l);try{const I=await Vt(i);console.log(I)}catch(I){console.log(I)}}},E=async()=>{if(h){const l=URL.createObjectURL(h);x(l);try{const I=await $t(h);console.log(I)}catch(I){console.log(I)}}};return s.useEffect(()=>{y()},[i]),s.useEffect(()=>{E()},[h]),e.jsxs(a,{direction:{base:"column",md:"row"},gap:{base:"20px",md:"40px"},children:[e.jsx("input",{type:"file",ref:b,style:{display:"none"},onChange:l=>{l.target.files&&l.target.files.length>0&&u(l.target.files[0])}}),e.jsx("input",{type:"file",ref:w,style:{display:"none"},onChange:l=>{l.target.files&&l.target.files.length>0&&g(l.target.files[0])}}),e.jsxs(a,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Profile Image"}),e.jsx(kt,{size:"xl",src:n}),e.jsx(d,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{b.current&&b.current.click()},children:"UPDATE IMAGE"})]}),e.jsxs(a,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(d,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Cover Photo"}),e.jsx(De,{width:"160px",height:"96px",objectFit:"cover",src:c}),e.jsx(d,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{w.current&&w.current.click()},children:"UPDATE IMAGE"})]})]})};function An(){const[t,r]=s.useState([]),{data:n,refetch:o}=Re(),c=xe(),[x,i]=s.useState((n==null?void 0:n.display_name)??""),[u,h]=s.useState(""),[g,b]=s.useState(""),[w,y]=s.useState(""),[E,l]=s.useState(""),[I,m]=s.useState(""),[U,F]=s.useState(""),[B,N]=s.useState(""),[V,f]=s.useState(""),[T,_]=s.useState(""),[M,P]=s.useState(!1),z=async()=>{try{const k=await Bt();r(k)}catch(k){console.log(k)}};s.useEffect(()=>{z()},[]),s.useEffect(()=>{i((n==null?void 0:n.display_name)??""),h((n==null?void 0:n.title)??""),b((n==null?void 0:n.genre)??""),y((n==null?void 0:n.location)??""),l((n==null?void 0:n.country)??""),m((n==null?void 0:n.bookings)??""),F((n==null?void 0:n.management)??""),N((n==null?void 0:n.about_me)??""),f((n==null?void 0:n.cover_photo)??""),_((n==null?void 0:n.profile_picture)??"")},[n]);const G=async()=>{var Y,se;const k={display_name:x,title:u,genre:g,location:w,country:E,bookings:I,management:U,about_me:B};P(!0);try{(se=(Y=(await ve(k)).data)==null?void 0:Y.result)!=null&&se.result&&(await o(),c({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(ee){console.log(ee)}finally{P(!1)}};return e.jsxs(q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsx(_n,{profileImage:T,coverPhoto:V}),e.jsx(d,{py:"10px",children:e.jsx(pe,{borderColor:"#858585"})}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"DJ Name"}),e.jsx(v,{type:"text",placeholder:"Enter your DJ name",value:x,onChange:k=>i(k.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Title"}),e.jsx(v,{type:"text",placeholder:"e.g. DJ & Producer",value:u,onChange:k=>h(k.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Music Genre"}),e.jsx(v,{type:"text",placeholder:"e.g. Techno, Tech House",value:g,onChange:k=>b(k.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Location"}),e.jsx(v,{type:"text",placeholder:"Enter your location",value:w,onChange:k=>y(k.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Country"}),e.jsx(ye,{placeholder:"Select Country",value:E,onChange:k=>l(k.target.value),children:t==null?void 0:t.map((k,Y)=>e.jsx("option",{value:k.country,children:k.country},Y))})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Bookings Contact"}),e.jsx(v,{type:"text",placeholder:"Enter your bookings contact",value:I,onChange:k=>m(k.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Management Contact"}),e.jsx(v,{type:"text",placeholder:"Enter your management contact",value:U,onChange:k=>F(k.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"About Me"}),e.jsx(fe,{placeholder:"Write something about yourself...",value:B,onChange:k=>N(k.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:G,isLoading:M,children:["UPDATE PROFILE ",e.jsx(ze,{style:{marginLeft:"5px"}})]})]})}const Yt=t=>W.post("/dj/me/details",{paypal:t});function Fn(){const{data:t,refetch:r}=we(),{data:n}=Re(),o=t==null?void 0:t.loginas,{paypal:c}=n??{},[x,i]=s.useState(""),[u,h]=s.useState(""),{isOpen:g,onOpen:b,onClose:w}=Me(),y=xe(),E=s.useRef(null),[l,I]=s.useState(""),[m,U]=s.useState(!1),[F,B]=s.useState(!1),[N,V]=s.useState(!1);s.useEffect(()=>{i((t==null?void 0:t.first_name)??""),h((t==null?void 0:t.last_name)??"")},[t]),s.useEffect(()=>{c&&I(c)},[c]);const f=async()=>{var G;const z={first_name:x,last_name:u};V(!0);try{(G=(await Mt(z)).data)!=null&&G.result&&(await r(),y({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(k){console.log(k)}finally{V(!1)}},T=async()=>{try{await nn()}catch(z){console.log(z)}},_=async()=>{try{await rn()}catch(z){console.log(z)}},M=async function(){try{await on()}catch{return null}},P=async()=>{B(!0);try{await Yt(l),y({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0})}catch(z){console.log(z)}finally{B(!1)}};return!o&&e.jsxs(e.Fragment,{children:[e.jsxs(q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"First Name"}),e.jsx(v,{type:"text",placeholder:" First Name",value:x,onChange:z=>i(z.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Last Name"}),e.jsx(v,{type:"text",placeholder:"Last Name",value:u,onChange:z=>h(z.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:f,isLoading:N,children:["UPDATE PROFILE ",e.jsx(ze,{style:{marginLeft:"5px"}})]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(a,{flexDirection:"column",justifyContent:"center",gap:"15px",mt:"15px",height:"100%",children:[e.jsxs(C,{children:[e.jsx(D,{children:"Paypal Email"}),e.jsx(v,{type:"text",placeholder:"Enter PayPal Email",value:l,onChange:z=>I(z.target.value)})]}),e.jsxs(Z,{gap:"10px",children:[e.jsx(Wt,{checked:m,onChange:z=>U(z.target.checked)}),e.jsx(p,{children:"My email address for payouts is correct"})]}),e.jsx(R,{leftIcon:e.jsx(Ut,{}),_hover:m&&l?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!m||!l,isLoading:F,onClick:P,children:"LINK PAYPAL ACCOUNT"})]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(R,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:T,children:[e.jsx(Cs,{})," Change Email Address"]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(R,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:_,children:[e.jsx(vs,{})," Reset Password"]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(R,{w:"100%",color:"#fff",colorScheme:"red",onClick:b,children:[e.jsx(ks,{})," Delete My Account"]})]}),e.jsx(Lt,{isOpen:g,leastDestructiveRef:E,onClose:w,children:e.jsx(Ve,{children:e.jsxs(_t,{children:[e.jsx(At,{fontSize:"lg",fontWeight:"bold",children:"Delete My Account"}),e.jsx(Et,{children:"Are you sure you want to delete your account? You can't undo this action afterwards. All subscriptions will be cancelled automaticly on deletion."}),e.jsxs(Ft,{children:[e.jsx(R,{ref:E,onClick:w,children:"Cancel"}),e.jsx(R,{colorScheme:"red",onClick:()=>{M(),w()},ml:3,children:"Delete"})]})]})})})]})}const Qe={fontSize:{base:"20px",md:"16px"}},Xe={display:{base:"none",md:"unset"}};function Wn(){const{data:t}=we(),r=t==null?void 0:t.loginas;return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",flexDirection:"column",alignItems:"center",children:e.jsxs(rt,{pt:"15px",variant:"soft-rounded",colorScheme:"green",w:{base:"100%",sm:"800px"},px:{base:"10px",sm:"20px"},children:[e.jsx(d,{bg:"white",px:"10px",py:"10px",borderRadius:"10px",children:e.jsxs(ot,{children:[e.jsxs(re,{...Qe,children:["Profile",e.jsx(d,{...Xe,children:" Settings"})]}),e.jsxs(re,{...Qe,children:[e.jsx(d,{...Xe,children:"Profile "})," Links"]}),!r&&e.jsxs(re,{...Qe,children:["Account ",e.jsx(d,{...Xe,children:" Settings"})]})]})}),e.jsxs(it,{children:[e.jsx(oe,{p:"0",children:e.jsx(An,{})}),e.jsx(oe,{p:"0",children:e.jsx(Ln,{})}),!r&&e.jsx(oe,{p:"0",children:e.jsx(Fn,{})})]})]})})]})}const Un=750*1024*1024,Nn=()=>{const[t,r]=s.useState(je.SINGLE),{getRootProps:n,getInputProps:o,isDragActive:c,acceptedFiles:x}=nt({accept:{"image/*":[".png",".jpg",".jpeg"]},maxFiles:t===je.SINGLE?1:void 0}),i=Se(),u=xe(),[h,g]=s.useState(""),[b,w]=s.useState(0),[y,E]=s.useState(!1),[l,I]=s.useState([]),[m,U]=s.useState(void 0),[F,B]=s.useState(""),[N,V]=s.useState(!1),f=P=>{const z=Math.round(P.loaded*100/(P.total||0));w(z)},T=async()=>{const P=await _e(Ce.image);g(P)};s.useEffect(()=>{T()},[]),s.useEffect(()=>{x.length&&h.length&&_()},[x]);const _=async()=>{E(!0);try{const P=x[0];if(P.size>Un)return;I(x),P.size<=100*1024*1024?await Pe(x[0],h,f):await Cn(x[0],h,f)}catch(P){console.log(P)}finally{E(!1),w(0)}},M=async()=>{const P={body:F,accesslevel_id:m,files:l==null?void 0:l.map(z=>z.name)};V(!0);try{await qe(P,h),u({description:"Post created",status:"success",duration:3e3,isClosable:!0}),i("/create")}catch(z){console.log("err",z)}finally{V(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(d,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(a,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(a,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Is,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Image Post"})]}),e.jsxs(a,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(p,{my:"10px",children:"Select post type"}),e.jsxs(a,{height:"min-content",mt:"1",children:[e.jsx(d,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===je.SINGLE?"#a37cf0":"white",onClick:()=>{r(je.SINGLE),I(null)},children:"Single Image"}),e.jsx(d,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===je.MULTIPLE?"#a37cf0":"white",onClick:()=>{r(je.MULTIPLE),I(null)},children:"Multiple Images"})]}),e.jsxs(d,{mt:"20px",children:[e.jsxs(d,{border:c?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:c?"#f5f5f5":"white",...n(),children:[e.jsx("input",{...o()}),e.jsx(p,{p:"10px",children:"Drag and drop some files here, or click to select files"})]}),y?e.jsx(e.Fragment,{children:l==null?void 0:l.map((P,z)=>e.jsxs(d,{mt:"10px",children:[e.jsxs(p,{mb:"10px",children:["Uploading ",P==null?void 0:P.name]}),e.jsx(ke,{hasStripe:!0,value:b})]},z))}):l?e.jsx(e.Fragment,{children:l==null?void 0:l.map((P,z)=>e.jsxs(a,{alignItems:"center",mt:"10px",children:[e.jsx(Ie,{onClick:()=>I(null)}),e.jsx(p,{ml:"10px",children:P==null?void 0:P.name})]},z))}):null]}),e.jsx(fe,{mt:"20px",placeholder:"Write something about this post",value:F,onChange:P=>B(P.target.value)}),e.jsxs(d,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(ye,{mt:"10px",placeholder:"Select privacy option",onChange:P=>U(P.target.value),children:[e.jsx("option",{value:J.EVERYONE,children:"Everyone"}),e.jsx("option",{value:J.GOLD,children:"GOLD"}),e.jsx("option",{value:J.VIP,children:"VIP"})]})]}),m&&(l!=null&&l.length)&&F&&!y?e.jsx(R,{mt:"20px",isLoading:N,colorScheme:"purple",onClick:M,children:"Post"}):null]})]})}),e.jsx(d,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(a,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(a,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>i("/create"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>i("/create"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ge,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Mn=()=>{const t=Se(),[r,n]=s.useState(""),[o,c]=s.useState(void 0),[x,i]=s.useState(""),u=async()=>{const g=await _e(Ce.image);n(g)};s.useEffect(()=>{u()},[]);const h=async()=>{const g={body:x,accesslevel_id:o};try{const b=await qe(g,r);console.log("data",b)}catch(b){console.log("err",b)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(d,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(a,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(a,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Ps,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Text Post"})]}),e.jsxs(a,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(fe,{mt:"20px",placeholder:"Write something about this post",value:x,onChange:g=>i(g.target.value)}),e.jsxs(d,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(ye,{mt:"10px",placeholder:"Select privacy option",onChange:g=>c(g.target.value),children:[e.jsx("option",{value:J.EVERYONE,children:"Everyone"}),e.jsx("option",{value:J.GOLD,children:"GOLD"}),e.jsx("option",{value:J.VIP,children:"VIP"})]})]}),o&&x?e.jsx(R,{mt:"20px",colorScheme:"purple",onClick:h,children:"Post"}):null]})]})}),e.jsx(d,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(a,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(a,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>t("/"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ge,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},On=750*1024*1024,et=10*1024*1024,Tn=()=>{const{getRootProps:t,getInputProps:r,isDragActive:n,acceptedFiles:o}=nt({accept:{"audio/*":[".mp3",".mpeg"]}}),c=Se(),x=xe(),[i,u]=s.useState(K.UPLOAD),[h,g]=s.useState(""),[b,w]=s.useState(0),[y,E]=s.useState(!1),[l,I]=s.useState(null),[m,U]=s.useState(void 0),[F,B]=s.useState(""),[N,V]=s.useState(""),[f,T]=s.useState([]),_=s.useRef(0),[M,P]=s.useState(0),[z,G]=s.useState(!1),k=j=>{const O=Math.round(j.loaded*100/(j.total||0));w(O)},Y=async()=>{const j=await _e(Ce.audio);g(j)};s.useEffect(()=>{Y()},[]),s.useEffect(()=>{o.length&&h.length&&L()},[o]);const se=j=>{const O=Math.ceil(j.size/et),ie=[];let H=0;for(let ae=0;ae<O;ae++){const le=Math.min(H+et,j.size),Ae=j.slice(H,le);ie.push(Ae),H=le}T(ie),P(O)},ee=async()=>{if(E(!0),(_==null?void 0:_.current)<M){const j=f[_.current];try{await xt(j,h,M,_.current+1,(l==null?void 0:l.name)??""),_.current++,w(Math.round(_.current/M*100)),await ee()}catch(O){console.error("Error uploading chunk:",O)}}else E(!1),w(0)};s.useEffect(()=>{f.length&&(l!=null&&l.name)&&ee()},[f,l]);const L=async()=>{E(!0);try{const j=o[0];if(j.size>On)return;I(o[0]),j.size<=et?await Pe(o[0],h,k):se(j)}catch(j){console.log(j)}finally{E(!1),w(0)}},Q=async()=>{const j={body:F,accesslevel_id:m};i===K.EMBED?(j.embedded=1,j.location=N):(j.embedded=0,j.files=[(l==null?void 0:l.name)??""]),G(!0);try{await qe(j,h),x({description:"Post created",status:"success",duration:3e3,isClosable:!0}),c("/")}catch(O){console.log("err",O)}finally{G(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(d,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(a,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(a,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Ds,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Audio Post"})]}),e.jsxs(a,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(p,{my:"10px",children:"Select audio post type"}),e.jsxs(a,{height:"min-content",mt:"1",children:[e.jsx(d,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:i===K.EMBED?"#a37cf0":"white",onClick:()=>u(K.EMBED),children:"Embed Audio"}),e.jsx(d,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:i===K.UPLOAD?"#a37cf0":"white",onClick:()=>u(K.UPLOAD),children:"Upload Audio"})]}),i===K.UPLOAD?e.jsxs(d,{mt:"20px",children:[e.jsxs(d,{border:n?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:n?"#f5f5f5":"white",...t(),children:[e.jsx("input",{...r()}),e.jsx(p,{p:"10px",children:"Drag and drop some files here, or click to select files"})]}),y?e.jsxs(d,{mt:"10px",children:[e.jsxs(p,{mb:"10px",children:["Uploading ",l==null?void 0:l.name]}),e.jsx(ke,{hasStripe:!0,value:b})]}):l?e.jsxs(a,{alignItems:"center",mt:"10px",children:[e.jsx(Ie,{onClick:()=>I(null)}),e.jsx(p,{ml:"10px",children:l==null?void 0:l.name})]}):null]}):e.jsx(d,{mt:"10px",children:e.jsx(v,{mt:"10px",placeholder:"Enter URL",value:N,onChange:j=>V(j.target.value)})}),e.jsx(fe,{mt:"20px",placeholder:"Write something about this post",value:F,onChange:j=>B(j.target.value)}),e.jsxs(d,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(ye,{mt:"10px",placeholder:"Select privacy option",onChange:j=>U(j.target.value),children:[e.jsx("option",{value:J.EVERYONE,children:"Everyone"}),e.jsx("option",{value:J.GOLD,children:"GOLD"}),e.jsx("option",{value:J.VIP,children:"VIP"})]})]}),m&&(i===K.UPLOAD?l:N)&&F&&!y?e.jsx(R,{mt:"20px",isLoading:z,colorScheme:"purple",onClick:Q,children:"Post"}):null]})]})}),e.jsx(d,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(a,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(a,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>c("/create"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(R,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>c("/create"),children:e.jsxs(a,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ge,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})};function Hn({members:t,followers:r,monthlyIncome:n}){return e.jsxs(a,{h:"100%",wrap:"wrap",gap:"20px",justifyContent:"space-between",children:[e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#9b5de5",color:"#ffffff",alignItems:"center",lineHeight:"1em",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Total Fans"]}),e.jsx(A,{lineHeight:"1em",fontSize:"32px",children:r})]}),e.jsxs(te,{alignItems:"center",w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#ffffff",lineHeight:"1em",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",children:[e.jsx(Ue,{})," Subscribers"]}),e.jsx(A,{lineHeight:"1em",fontSize:"32px",children:t})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",alignItems:"center",lineHeight:"1em",bg:"#ffffff",children:[e.jsx(p,{fontSize:"18px",fontWeight:"600",children:"Membership Income"}),e.jsxs(Z,{align:"flex-end",gap:"5px",justifyContent:"center",children:[e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsx(p,{mb:"0px",fontSize:"14px",fontWeight:"600",color:"#9b5de5",children:"per month"})]})]})]})}function Bn({membership:t,product:r,total:n}){return e.jsxs(a,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Membership"]}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(at,{})," Online Store"]}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(p,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(30-days)"})]})]})]})}function Vn({membership:t,product:r,total:n}){return e.jsxs(a,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Membership"]}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(at,{})," Online Store"]}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(p,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(365-days)"})]})]})]})}function $n({membership:t,product:r,total:n}){return e.jsxs(a,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Membership"]}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(at,{})," Online Store"]}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(te,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(p,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(A,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(All Time)"})]})]})]})}const Gn=()=>W.get("/dj/me/statistics").then(t=>t.data.data),qn=()=>Ee({queryKey:["userStatistics"],queryFn:()=>Gn()});function Yn(){const{data:t}=qn();return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",children:e.jsxs(a,{flexDirection:"column",gap:"35px",maxW:"1000px",w:"100%",pt:"25px",px:"15px",children:[e.jsxs(a,{flexDirection:"column",gap:"20px",children:[e.jsxs(q,{gap:"10px",children:[e.jsx(A,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Statistics"}),e.jsx(p,{lineHeight:"1em",alignSelf:"flex-start",children:"Here are your statistics at a glance..."})]}),e.jsx(Hn,{members:((t==null?void 0:t.gold)??0)+((t==null?void 0:t.vip)??0),followers:(t==null?void 0:t.followers)??0,monthlyIncome:(t==null?void 0:t.monthly_income)??0})]}),e.jsxs(a,{flexDirection:"column",gap:"15px",children:[e.jsx(A,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Earnings"}),e.jsxs(rt,{variant:"soft-rounded",colorScheme:"green",w:"100%",children:[e.jsxs(ot,{children:[e.jsx(re,{p:"5px",px:"10px",children:"Last 30 Days"}),e.jsx(re,{p:"5px",px:"10px",children:"Last 365 Days"}),e.jsx(re,{p:"5px",px:"10px",children:"All Time"})]}),e.jsxs(it,{children:[e.jsx(oe,{p:"0",pt:"20px",children:e.jsx(Bn,{membership:(t==null?void 0:t.subscription_last_30_days)??0,product:(t==null?void 0:t.products_last_30_days)??0,total:(t==null?void 0:t.total_last_30_days)??0})}),e.jsx(oe,{p:"0",pt:"20px",children:e.jsx(Vn,{membership:(t==null?void 0:t.subscription_last_365_days)??0,product:(t==null?void 0:t.products_last_365_days)??0,total:(t==null?void 0:t.total_last_365_days)??0})}),e.jsx(oe,{p:"0",pt:"20px",children:e.jsx($n,{membership:(t==null?void 0:t.subscription_last_all_days)??0,product:(t==null?void 0:t.products_last_all_days)??0,total:(t==null?void 0:t.total_last_all_days)??0})})]})]})]})]})})]})}function Kn({payout:t}){return e.jsx(a,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(lt,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(ct,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Nt,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Ne,{children:[e.jsx(me,{color:"white",children:"Amount"}),e.jsx(me,{color:"white",children:"Date"}),e.jsx(me,{color:"white",children:"Method"}),e.jsx(me,{color:"white",children:"Code"})]})}),e.jsx(dt,{children:t.map(r=>e.jsxs(Ne,{children:[e.jsxs(de,{children:["$",r.amount]}),e.jsx(de,{children:Es(new Date(r.payout_date)).format("DD/MM/YYYY")}),e.jsx(de,{children:"Paypal"}),e.jsx(de,{children:r.payout_code})]},r.id))})]})})})}const Jn=()=>W.get("/dj/me/payout").then(t=>t.data.data),Zn=()=>Ee({queryKey:["payout"],queryFn:()=>Jn()});function Qn(){const{isOpen:t,onOpen:r,onClose:n}=Me(),{data:o}=Zn(),[c,x]=s.useState(""),[i,u]=s.useState(!1),[h,g]=s.useState(!1);s.useEffect(()=>{o!=null&&o.paypal&&x(o.paypal)},[o]);const b=async()=>{g(!0);try{await Yt(c)}catch(w){console.log(w)}finally{g(!1)}};return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",children:e.jsxs(a,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:{base:"15px",md:"15px"},children:[e.jsxs(q,{gap:"10px",children:[e.jsx(A,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Payouts"}),e.jsx(p,{lineHeight:"1em",alignSelf:"flex-start",children:"View and keep track of your payouts."})]}),e.jsxs(a,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:[e.jsxs(a,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",w:{base:"100%",md:"60%"},flexDir:"column",children:[e.jsx(a,{bg:"#9b5de5",px:"20px",py:"6px",children:e.jsx(p,{fontSize:"18px",fontWeight:"600",color:"white",children:"Available for Payout"})}),e.jsxs(a,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:"5px",height:"100%",p:"20px",children:[e.jsx(p,{fontWeight:"600",children:"Balance"}),e.jsxs(A,{children:["$",(o==null?void 0:o.available_payout)??"0.00"]}),e.jsx(p,{children:"This is the amount you currently have in earnings, available for your next payout."})]})]}),e.jsxs(a,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",flexDir:"column",w:{base:"100%",md:"35%"},children:[e.jsx(a,{bg:"#111111",px:"20px",py:"8px",children:e.jsx(p,{fontSize:"18px",fontWeight:"600",color:"white",children:"Payout Account"})}),e.jsxs(a,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px",height:"100%",p:"20px",children:[e.jsx(R,{leftIcon:e.jsx(zs,{}),bg:"#9b5de5",borderColor:"#9b5de5",color:"#ffffff",_hover:{bg:"#5DE59A",color:"#ffffff",borderColor:"#5DE59A"},children:"WITHDRAW EARNINGS"}),e.jsx(v,{type:"text",placeholder:"Enter PayPal Email",value:c,onChange:w=>x(w.target.value)}),e.jsxs(Z,{gap:"10px",children:[e.jsx(Wt,{checked:i,onChange:w=>u(w.target.checked)}),e.jsx(p,{children:"My email address for payouts is correct"})]}),e.jsx(R,{leftIcon:e.jsx(Ut,{}),_hover:i&&c?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!i||!c,isLoading:h,onClick:b,children:"LINK PAYPAL ACCOUNT"}),e.jsxs(Z,{color:"#111",gap:"5px",children:[e.jsx(Rs,{}),e.jsx(ue,{fontWeight:"600",onClick:r,children:"View Tutorial"})]}),e.jsxs(Ls,{onClose:n,isOpen:t,isCentered:!0,children:[e.jsx(Ve,{}),e.jsx(_s,{mx:"20px",children:e.jsxs(q,{p:"20px",gap:"15px",children:[e.jsx(d,{as:"a",position:"absolute",top:"10px",right:"10px",onClick:n,children:e.jsx(Be,{fontSize:"20px"})}),e.jsx(A,{fontSize:{base:"16px",md:"20px"},lineHeight:"1em",textAlign:"center",children:"How to connect your payout account"}),e.jsx(As,{width:"100%",height:"220px",children:e.jsx("iframe",{title:"Payout Tutorial",src:"https://www.youtube.com/embed/o3JKJlsGvFw",allowFullScreen:!0})}),e.jsxs(Z,{justifyContent:"center",zIndex:"1",children:[e.jsx(ue,{bg:"#9b5de5",href:"/",color:"#ffffff",fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",_hover:{bg:"#111111"},_focus:{boxShadow:"none"},children:"More Tutorials"}),e.jsxs(ue,{fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",display:"flex",gap:"5px",href:"/",children:["Contact Support",e.jsx(ze,{fontSize:"12px"})]})]})]})})]})]})]})]}),e.jsxs(q,{gap:"15px",children:[e.jsx(A,{fontSize:"24px",alignSelf:"flex-start",children:"Recent Payouts"}),e.jsx(Kn,{payout:(o==null?void 0:o.payouts)??[]})]})]})})]})}function Xn(){return e.jsxs(Z,{justifyContent:"space-between",mt:"15px",w:{base:"100%",sm:"500px"},children:[e.jsxs(Z,{gap:"4px",children:[e.jsx(Pt,{fontSize:"14px"}),e.jsx(d,{as:"a",href:"/create",fontWeight:"500",fontSize:"16px",lineHeight:"1em",children:"Return to Profile"})]}),e.jsxs(Fs,{children:[e.jsx(Ws,{fontWeight:"500",children:e.jsxs(Z,{gap:"6px",children:[e.jsx(d,{fontSize:"16px",lineHeight:"1em",children:"Change Post Type"}),e.jsx(Us,{fontSize:"18px",color:"#111"})]})}),e.jsxs(Ns,{children:[e.jsx(We,{as:"a",href:"/imagepost",children:"Image Post"}),e.jsx(We,{as:"a",href:"/videopost",children:"Video Post"}),e.jsx(We,{as:"a",href:"/audiopost",children:"Audio Post"}),e.jsx(We,{as:"a",href:"/tourdate",children:"Tour Date"}),e.jsx(We,{as:"a",href:"/product",children:"New Product"})]})]})]})}const er=async(t,r)=>await W.post(`/dj/event/${r}`,t),tr=()=>{const t=Se(),r=xe(),[n,o]=s.useState(""),[c,x]=s.useState(0),[i,u]=s.useState(!1),[h,g]=s.useState(""),[b,w]=s.useState(""),[y,E]=s.useState(""),[l,I]=s.useState(""),[m,U]=s.useState(""),[F,B]=s.useState(""),[N,V]=s.useState(""),[f,T]=s.useState(null),[_,M]=s.useState(""),P=s.useRef(null),[z,G]=s.useState(!1),k=L=>{const Q=Math.round(L.loaded*100/(L.total||0));x(Q)},Y=async()=>{const L=await _e(Ce.event);o(L)};s.useEffect(()=>{Y()},[]);const se=async L=>{u(!0);try{await Pe(L,n,k)}catch(Q){console.log("err",Q)}finally{u(!1),x(0)}};s.useEffect(()=>{f&&se(f)},[f]);const ee=async()=>{var Q;const L={event_name:h,event_date:y,start_time:l,end_time:m,description:b,link_buy_tickets:_,artwork:(f==null?void 0:f.name)??"",venue:F,city:N};G(!0);try{(Q=(await er(L,n)).data)!=null&&Q.result&&(G(!1),r({title:"Event created.",status:"success",duration:3e3,isClosable:!0}),t("/"))}catch(j){console.log("err",j)}};return e.jsx(e.Fragment,{children:e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",children:e.jsxs(a,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:[e.jsxs(a,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(a,{background:"#300a6e",justifyContent:"center",children:e.jsx(A,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Event Name"}),e.jsx(v,{type:"text",value:h,onChange:L=>g(L.target.value),placeholder:"Enter name of event"})]}),e.jsxs(C,{mb:4,isRequired:!0,children:[e.jsx(D,{children:"Event Description"}),e.jsx(fe,{value:b,onChange:L=>w(L.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Release Date"}),e.jsx(v,{type:"date",value:y,onChange:L=>E(L.target.value),placeholder:"Select a date"})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Start Time"}),e.jsx(v,{type:"time",value:l,onChange:L=>I(L.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"End Time"}),e.jsx(v,{type:"time",value:m,onChange:L=>U(L.target.value)})]}),e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Venue"}),e.jsx(v,{type:"text",placeholder:"e.g. Pacha",value:F,onChange:L=>B(L.target.value)})]}),e.jsxs(C,{mb:4,isRequired:!0,children:[e.jsx(D,{children:"City / Location"}),e.jsx(v,{type:"text",placeholder:"e.g. London or Ibiza",value:N,onChange:L=>V(L.target.value)})]}),e.jsxs(C,{isRequired:!0,children:[e.jsx(D,{children:"Event Artwork"}),e.jsx(v,{ref:L=>P.current=L,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:L=>{L.target.files&&T(L.target.files[0])}})]}),i?e.jsxs(d,{mb:4,children:[e.jsxs(p,{children:["Uploading ",f==null?void 0:f.name]}),e.jsx(ke,{hasStripe:!0,value:c})]}):f?e.jsx(e.Fragment,{children:e.jsxs(a,{alignItems:"center",mb:4,children:[e.jsx(Ie,{cursor:"pointer",onClick:()=>{T(null),P.current&&(P.current.value="")}}),e.jsx(p,{ml:"10px",children:f==null?void 0:f.name})]})}):null,e.jsxs(C,{mb:4,isRequired:!0,children:[e.jsx(D,{children:"Link to book or buy tickets"}),e.jsx(v,{type:"url",placeholder:"https://",value:_,onChange:L=>M(L.target.value)})]}),e.jsxs(R,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:z,onClick:ee,isDisabled:!h||!b||!y||!F||!N||!f||!_,children:["CREATE EVENT"," ",e.jsx(ze,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]}),e.jsx(Xn,{})]})})]})})},sr=({fan:t})=>e.jsxs(Ne,{children:[e.jsx(de,{children:t.name}),e.jsx(de,{children:t.username}),e.jsx(de,{children:t.date})]}),st=({children:t})=>e.jsx(lt,{children:e.jsxs(ct,{variant:"simple",children:[e.jsx(Nt,{children:e.jsxs(Ne,{children:[e.jsx(me,{children:"Name"}),e.jsx(me,{children:"Username"}),e.jsx(me,{children:"Joined"})]})}),e.jsx(dt,{children:t})]})});st.Row=sr;const nr=t=>{const r=n=>W.get("/dj/me/fans",{params:{_start:(n-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(o=>o.data);return zt({queryKey:["fans",t],queryFn:({pageParam:n=1})=>r(n),keepPreviousData:!0,getNextPageParam:(n,o)=>n.length>0&&n.length===t.pageSize?o.length+1:void 0})};function rr(){const[r,n]=s.useState(qt.ALL),{data:o,fetchNextPage:c,hasNextPage:x,isLoading:i}=nr({pageSize:15,type:r}),u=()=>e.jsx(d,{height:"5rem",display:"flex",justifyContent:"center",p:2,children:e.jsx(Ms,{isIndeterminate:!0})}),h=()=>e.jsx(Rt,{dataLength:((o==null?void 0:o.pages.length)??0)*15,next:c,hasMore:x??!1,loader:e.jsx(u,{}),children:i?e.jsx(u,{}):e.jsx(st,{children:o==null?void 0:o.pages.map(g=>g.map(b=>e.jsx(st.Row,{fan:b},b.username)))})});return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",flexDirection:"column",children:e.jsxs(a,{direction:"column",maxW:"1000px",px:{base:"15px",md:"25px"},w:"100%",alignSelf:"center",gap:"15px",pt:"15px",children:[e.jsx(p,{fontSize:"28px",fontWeight:"bold",children:"Your Fans"}),e.jsxs(rt,{variant:"unstyled",bg:"white",borderRadius:"5px",overflow:"hidden",onChange:g=>{n(g)},children:[e.jsxs(ot,{bg:"#111",color:"#fff",children:[e.jsx(re,{...Oe,children:"All"}),e.jsx(re,{...Oe,children:"Followers"}),e.jsx(re,{...Oe,children:"Gold"}),e.jsx(re,{...Oe,children:"VIP"})]}),e.jsxs(it,{children:[e.jsx(oe,{p:"0",children:h()}),e.jsx(oe,{p:"0",children:h()}),e.jsx(oe,{p:"0",children:h()}),e.jsx(oe,{p:"0",children:h()})]})]})]})})]})}const Oe={fontSize:"20px",fontWeight:"600",_selected:{color:"white",background:"#8338ec"}},or=({fileType:t,tooltipDescription:r})=>e.jsx(Os,{label:r,children:e.jsx(d,{color:"#fff",bg:"#9b5de5",borderRadius:"5px",px:"5px",py:"3px",fontSize:"12px",lineHeight:"1em",children:t})}),ir=()=>{const t=[{type:"mp3",description:"MP3 audio format"},{type:"flac",description:"Free Lossless Audio Codec"},{type:"aiff",description:"Audio Interchange File Format"},{type:"aifc",description:"Compressed Audio Interchange File"},{type:"wav",description:"Waveform Audio File Format"}];return e.jsxs(q,{children:[e.jsxs(Z,{children:[e.jsxs(d,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Allowed file types"}),":"]}),t.map(r=>e.jsx(or,{fileType:r.type,tooltipDescription:r.description},r.type))]}),e.jsxs(d,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Maximum file size"}),": 1Gb"]})]})},ar=async(t,r)=>await W.post(`/dj/product/audio/${r}`,t),mt=1*1024*1024*1024,tt=10*1024*1024;function lr(){const t=Se(),r=xe(),[n,o]=s.useState(""),[c,x]=s.useState(""),[i,u]=s.useState(""),[h,g]=s.useState(null),[b,w]=s.useState(""),[y,E]=s.useState(""),[l,I]=s.useState(""),[m,U]=s.useState(""),[F,B]=s.useState(""),[N,V]=s.useState(""),[f,T]=s.useState(null),_=s.useRef(null),M=s.useRef(null),[P,z]=s.useState(!1),[G,k]=s.useState(0),[Y,se]=s.useState(!1),[ee,L]=s.useState(0),[Q,j]=s.useState(!1),[O,ie]=s.useState(null),[H,ae]=s.useState(null),[le,Ae]=s.useState([]),ge=s.useRef(0),[Ye,Kt]=s.useState(0),Jt=S=>{const $=Math.round(S.loaded*100/(S.total||0));k($)},Zt=S=>{const $=Math.round(S.loaded*100/(S.total||0));L($)},Qt=async()=>{const S=await _e(Ce.product);o(S)};s.useEffect(()=>{Qt()},[]);const Xt=S=>{const $=Math.ceil(S.size/tt),ce=[];let Ke=0;for(let ht=0;ht<$;ht++){const ut=Math.min(Ke+tt,S.size),ns=S.slice(Ke,ut);ce.push(ns),Ke=ut}Ae(ce),Kt($)};s.useEffect(()=>{le.length&&(H!=null&&H.name)&&pt()},[le,H]);const pt=async()=>{if(j(!0),(ge==null?void 0:ge.current)<Ye){const S=le[ge.current];try{await xt(S,n,Ye,ge.current+1,(H==null?void 0:H.name)??""),ge.current++,L(Math.round(ge.current/Ye*100)),await pt()}catch($){console.error("Error uploading chunk:",$)}}else j(!1),L(0)},es=async S=>{j(!0);try{if(!S||S.size>mt)return;ae(S),S.size<=tt?await Pe(S,n,Zt):Xt(S)}catch($){console.error("Error uploading audio:",$)}finally{j(!1),L(0)}};s.useEffect(()=>{f&&es(f)},[f]);const ts=async S=>{se(!0);try{if(!S)return;ie(S),await Pe(S,n,Jt)}catch($){console.error("Error uploading artwork:",$)}finally{se(!1),k(0)}};s.useEffect(()=>{h&&ts(h)},[h]);const ss=async()=>{var $;z(!0);const S={name:c,description:i,artwork:(h==null?void 0:h.name)??"",price:b.toString(),genre:y,release_date:l,label:m,artist:F,filename:N,download:(f==null?void 0:f.name)??""};try{($=(await ar(S,n)).data)!=null&&$.result&&(r({description:"Product created",status:"success",duration:3e3,isClosable:!0}),t("/create"))}catch(ce){console.error("Error creating product:",ce)}finally{z(!1)}};return e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",justifyContent:"center",children:e.jsx(a,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(a,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(a,{background:"#300a6e",justifyContent:"center",children:e.jsx(A,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Release Name"}),e.jsx(v,{type:"text",value:c,placeholder:"Name of Release / Track",onChange:S=>x(S.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Description"}),e.jsx(fe,{value:i,placeholder:"Write something about this release",onChange:S=>u(S.target.value)})]}),e.jsxs(C,{isRequired:!0,children:[e.jsx(D,{children:"Release Artwork"}),e.jsx(v,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:S=>_.current=S,onChange:S=>{if(S.target.files){const $=S.target.files[0];g($)}else g(null),ie(null)}})]}),Y?e.jsxs(d,{children:[e.jsxs(p,{mb:"10px",children:["Uploading ",O==null?void 0:O.name]}),e.jsx(ke,{hasStripe:!0,value:G})]}):O?e.jsxs(a,{alignItems:"center",children:[e.jsx(Ie,{onClick:()=>{ie(null),_.current&&(_.current.value="")}}),e.jsx(p,{ml:"10px",children:O==null?void 0:O.name})]}):null,e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Price ($ USD)"}),e.jsx(Ts,{value:b,onChange:S=>w(S),precision:2,children:e.jsx(Hs,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Genre"}),e.jsx(v,{type:"text",value:y,onChange:S=>E(S.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Release Date"}),e.jsx(v,{type:"date",value:l,placeholder:"Select a date",onChange:S=>I(S.target.value)})]}),e.jsxs(C,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Record Label"}),e.jsx(v,{type:"text",placeholder:"Name of Record Label",value:m,onChange:S=>U(S.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Featured Artists"}),e.jsx(v,{type:"text",placeholder:"All Featured Artists",value:F,onChange:S=>B(S.target.value)})]}),e.jsxs(C,{mb:4,children:[e.jsx(D,{children:"Downloadable File Name"}),e.jsx(v,{type:"text",placeholder:"e.g. song-name.wav",value:N,onChange:S=>V(S.target.value)})]}),e.jsxs(C,{isRequired:!0,children:[e.jsx(D,{children:"Downloadable Track File"}),e.jsx(v,{type:"file",accept:".mp3",border:"0px",p:"2px",ref:S=>M.current=S,onChange:S=>{var $;if(S.target.files){const ce=($=S.target.files)==null?void 0:$[0];if(!ce)return;if(ce.size>mt){S.target.value="";return}T(ce)}else T(null),ae(null)}})]}),Q?e.jsxs(d,{children:[e.jsxs(p,{mb:"10px",children:["Uploading ",H==null?void 0:H.name]}),e.jsx(ke,{hasStripe:!0,value:ee})]}):H?e.jsxs(a,{alignItems:"center",children:[e.jsx(Ie,{onClick:()=>{ae(null),M.current&&(M.current.value="")}}),e.jsx(p,{ml:"10px",children:H==null?void 0:H.name})]}):null,e.jsx(ir,{}),e.jsxs(R,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:P,onClick:ss,isDisabled:!c||!h||!b||!y||!l||!m||!f||Y||Q,children:["CREATE PRODUCT"," ",e.jsx(ze,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})}const cr=async()=>{const t=await W.get("/dj/partner_artist"),{data:r}=t;return r??[]},dr=()=>Ee({queryKey:["partner-artists"],queryFn:()=>cr()}),xr=(t,r=300)=>{const[n,o]=s.useState(t);return s.useEffect(()=>{const c=setTimeout(()=>{o(t)},r);return()=>clearTimeout(c)},[t]),n},pr=async t=>{var n;return((n=(await W.get(`/dj/search?query=${t}`)).data)==null?void 0:n.result)??[]};function hr(){const[t,r]=s.useState(""),[n,o]=s.useState([]),c=xr(t),{isOpen:x,onToggle:i,onClose:u}=Me(),h=s.useRef(null),g=y=>{r(y)};s.useEffect(()=>{c.length>2?pr(c).then(y=>{o(y)}):o([])},[c]),s.useEffect(()=>{x&&setTimeout(()=>{var y;(y=h.current)==null||y.focus()},50)},[x]);const b=y=>{y.key==="Enter"&&u()},w=async y=>{try{const E=await W.get(`/dj/loginas/${y.user_key}`),{data:l}=E;l.result&&(u(),window.location.href="/")}catch(E){console.log(E)}};return e.jsx(a,{gap:5,children:e.jsxs(wt,{isOpen:x,onClose:u,children:[e.jsx(Ct,{children:e.jsxs(he,{w:{base:"100%",sm:"200px",md:"250px"},onClick:i,children:[e.jsx(Te,{pointerEvents:"none",children:e.jsx(Dt,{as:Bs,color:"on-accent",boxSize:"6"})}),e.jsx(v,{ref:h,placeholder:"Search",variant:"filled",value:t,onChange:y=>g(y.target.value),onKeyDown:b,style:{backgroundColor:"white"}})]})}),e.jsx(vt,{w:{base:"100%",sm:"20px",md:"250px"},display:t.length?"block":"none",children:e.jsx(Vs,{children:e.jsx(a,{direction:"column",children:n&&(n==null?void 0:n.map((y,E)=>e.jsx(p,{cursor:"pointer",_hover:{backgroundColor:"gray.200"},onClick:async()=>await w(y),children:y.display_name},E)))})})})]})})}const ur=()=>{var c;const{data:t}=dr(),{data:r}=we(),n=(r==null?void 0:r.admin)||((c=r==null?void 0:r.me)==null?void 0:c.admin)||!1,o=Object.values(t||{});return s.useEffect(()=>{o&&console.log("parsedArtists",o)}),e.jsxs(a,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(a,{w:"100%",h:"100%",justifyContent:"center",children:n&&e.jsx(d,{mt:"15px",children:e.jsx(hr,{})})}),e.jsx(a,{w:"100%",h:"100%",justifyContent:"center",children:t&&e.jsx(lt,{children:e.jsx(ct,{variant:"simple",children:e.jsx(dt,{children:o.map(x=>e.jsxs(Ne,{children:[e.jsx(de,{children:e.jsx($s,{src:`https://files.djfan.app/${(x==null?void 0:x.profile_picture)??""}`,h:"full",w:"100%",maxH:"100px",objectFit:"cover",borderRadius:5})}),e.jsxs(de,{children:[e.jsx("div",{style:{paddingBottom:"10px"},children:x.display_name}),e.jsx(R,{colorScheme:"purple",size:"sm",onClick:async()=>{const i=await W.get(`/dj/loginas/${x.user_id}`),{data:u}=i;window.location.href="/",u.result?console.log(u.result):console.log(u.message)},children:"Login as"})]})]},x.id))})})})})]})},fr=Gs([{path:"/",element:e.jsx(Zs,{}),errorElement:e.jsx(Qs,{}),children:[{element:e.jsx(bn,{}),path:"",children:[{path:"/",element:e.jsx(wn,{})},{path:"/partners",element:e.jsx(ur,{})},{path:"/create",children:[{path:"",element:e.jsx(En,{})},{path:"/create/video",element:e.jsx(kn,{})},{path:"/create/image",element:e.jsx(Nn,{})},{path:"/create/audio",element:e.jsx(Tn,{})},{path:"/create/text",element:e.jsx(Mn,{})},{path:"/create/event",element:e.jsx(tr,{})}]},{path:"/product",element:e.jsx(lr,{})},{path:"/settings",element:e.jsx(Wn,{})},{path:"/earnings",element:e.jsx(Yn,{})},{path:"/payouts",element:e.jsx(Qn,{})},{path:"/fans",element:e.jsx(rr,{})}]},{path:"/create-account",element:e.jsx(Ht,{children:e.jsx(Gt,{})})}]}]),gr=new qs({defaultOptions:{queries:{retry:3,cacheTime:3e5,staleTime:20*1e3}}});function jr(){return e.jsx(Ys,{client:gr,children:e.jsx(It,{children:e.jsx(Ks,{router:fr})})})}Js.createRoot(document.getElementById("root")).render(e.jsx(yt.StrictMode,{children:e.jsx(jr,{})}));
