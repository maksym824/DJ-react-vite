import{j as e,O as mt,u as qt,B as l,H as _,T as p,i as Yt,F as o,I as Ie,a as L,V as Ce,b as J,c as Kt,d as Pe,r as s,R as bt,S as q,e as m,f as me,g as qe,h as yt,k as S,l as ft,m as Me,n as Jt,L as he,o as Zt,p as Qt,q as k,P as Xt,s as es,t as ts,U as ss,v as _e,w as ns,x as Ee,y as He,A as St,z as rs,C as ue,D as xe,E as Ct,G as os,J as is,K as as,M as ls,N as cs,Q as ds,W as pe,X as tt,Y as vt,Z as xs,_ as ps,$ as st,a0 as hs,a1 as wt,a2 as us,a3 as nt,a4 as fs,a5 as ve,a6 as we,a7 as be,a8 as Oe,a9 as Be,aa as gs,ab as js,ac as ms,ad as Re,ae as kt,af as It,ag as bs,ah as ys,ai as Ss,aj as Cs,ak as vs,al as ws,am as ks,an as rt,ao as ot,ap as re,aq as it,ar as oe,as as Is,at as Ps,au as Es,av as se,aw as We,ax as at,ay as lt,az as ct,aA as Pt,aB as Ue,aC as je,aD as dt,aE as de,aF as Rs,aG as Ds,aH as zs,aI as Ls,aJ as As,aK as _s,aL as Fs,aM as Ws,aN as Us,aO as Ns,aP as Fe,aQ as Ts,aR as Ms,aS as Hs,aT as Os,aU as Bs,aV as Vs,aW as Gs,aX as $s,aY as qs,aZ as Ys,a_ as Ks,a$ as Js}from"./vendor-9fa0c80d.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&i(x)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();const Zs=()=>e.jsx(e.Fragment,{children:e.jsx(mt,{})}),Qs=()=>{const t=qt();return e.jsxs(l,{display:"flex",flexDir:"column",alignItems:"center",children:[e.jsx(_,{as:"h1",size:"md",children:"Oops..."}),e.jsx(p,{fontSize:"sm",children:Yt(t)?"Invalid page.":"Sorry, an unexpected error has occurred."})]})};function Xs(){return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(l,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(Ie,{id:"logo",w:"120px",src:"https://creators.djfan.app/wp-content/uploads/2023/04/djfan-email.png"}),e.jsx(L,{onClick:()=>{window.open("https://dev-signin.djfan.app/auth/signindj","_self")},children:"SIGN IN"})]})})}),e.jsx(l,{w:"100%",backgroundImage:"url(https://djfan.ams3.cdn.digitaloceanspaces.com/2023/07/bg-dj.jpg)",display:"flex",justifyContent:"center",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},children:e.jsx(o,{maxW:{base:"100%",md:"1024px"},alignItems:"center",children:e.jsxs(Ce,{w:"100%",gap:"20px",children:[e.jsx(_,{color:"white",fontSize:{base:"36px",md:"58px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Increase your income by rewarding your top fans"}),e.jsx(p,{color:"white",fontWeight:"500",fontSize:{base:"20px",md:"24px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:"We provide a membership platform for DJs where they can connect and engage with their fans and access to tools generate a consistent passive income."}),e.jsx(J,{children:e.jsx(L,{onClick:()=>{window.open("https://dev-signin.djfan.app/auth/signupdj","_self")},children:"CREATE ACCOUNT"})})]})})}),e.jsx(o,{w:"100%",bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(o,{maxW:{base:"100%",md:"1024px"},justifyContent:"center",alignItems:"center",children:e.jsxs(Ce,{w:"100%",gap:"20px",children:[e.jsxs(_,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:["The creator economy is valued at"," ",e.jsx("span",{style:{padding:"0px 5px",background:"cyan",color:"#111"},children:"$250 billion"})," ","and could double by 2027. ... will you be part of it?"]}),e.jsxs(p,{color:"white",fontWeight:"500",fontSize:{base:"14px",md:"14px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:["Source:"," ",e.jsx("a",{rel:"noreferrer",target:"_blank",href:"https://www.goldmansachs.com/intelligence/pages/the-creator-economy-could-approach-half-a-trillion-dollars-by-2027.html#:~:text=As%20the%20ecosystem%20grows%2C%20the,%24250%20billion%20today%2C%20Sheridan%20writes.",children:"Goldman Sachs"})]})]})})}),e.jsx(o,{py:"15px",fontSize:"12px",justifyContent:"center",bg:"#111",color:"#fff",children:"Â© 2023 DJfan Ltd. 1 Quality Court, Chancery Lane, London, WC2A 1HR"})]})}const en=({to:t})=>(console.log(t),e.jsx(Xs,{})),T=Kt.create({baseURL:"https://stage-apidj.djfan.app",withCredentials:!0}),tn=()=>T.get("/dj/me").then(t=>t.data.result),De=()=>Pe({queryKey:["userAccount"],queryFn:()=>tn()}),Et=t=>T.post("/dj/me",t),sn=()=>T.get("/dj/me/change_email"),nn=()=>T.get("/dj/me/reset_password"),rn=()=>T.delete("/dj/me/delete_account"),on=t=>{const r=()=>T.get(`/dj/me/profile_url/${t}`).then(n=>n.data.result);return Pe({queryKey:["usernameCheck"],queryFn:()=>r()})},Rt=()=>{const t=()=>{window.open("https://dev-signin.djfan.app/api/auth/signout","_self")};return e.jsx(L,{onClick:t,children:"Sign Out"})},an=()=>T.get("/dj/me/details").then(t=>t.data.result),Ne=()=>Pe({queryKey:["user"],queryFn:()=>an()}),Se=t=>T.post("/dj/me/details",t);function ln(){const{data:t,isLoading:r}=Ne(),n=!!(t!=null&&t.profile_picture);return r?e.jsx("div",{children:"Loading..."}):(n||(window.location.href="/create-account"),e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(l,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",w:"100%",children:e.jsx(o,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",children:e.jsx(o,{w:"100%",alignItems:"center",px:{base:"10px",md:"0px"},py:"10px",justifyContent:"center",children:e.jsx(Ie,{id:"logo",w:"120px",src:"https://creators.djfan.app/wp-content/uploads/2023/04/djfan-email.png"})})})}),e.jsx(o,{w:"100%",flexGrow:1,bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(o,{w:"100%",justifyContent:"center",alignItems:"center",children:e.jsxs(Ce,{w:"100%",gap:"20px",children:[e.jsx(_,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Your profile is being reviewed"}),e.jsx(Rt,{})]})})})]}))}const Dt=s.createContext({}),zt=({children:t})=>{const[r,n]=s.useState(""),[i,c]=s.useState(""),[d,x]=s.useState(""),[P,f]=s.useState(""),[g,b]=s.useState(""),[C,z]=s.useState(""),[A,a]=s.useState(""),[v,E]=s.useState(""),[H,F]=s.useState(""),[B,W]=s.useState(""),[V,h]=s.useState(""),[M,D]=s.useState(null),[U,w]=s.useState(null),[I,$]=s.useState(""),[y,Y]=s.useState("");return e.jsx(Dt.Provider,{value:{displayName:r,firstName:i,lastName:d,username:P,shortBio:g,location:C,country:A,countryCode:v,instagram:H,soundcloud:B,website:V,profileImage:M,coverImage:U,profilePreview:I,coverPreview:y,setDisplayName:n,setFirstName:c,setLastName:x,setUsername:f,setShortBio:b,setLocation:z,setCountry:a,setCountryCode:E,setInstagram:F,setSoundcloud:W,setWebsite:h,setProfileImage:D,setCoverImage:w,setProfilePreview:$,setCoverPreview:Y},children:t})},ze=()=>{const t=bt.useContext(Dt);if(t===void 0)throw new Error("useCreateAccountContext must be used within a CreateAccountContextProvider");return t},cn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},dn=()=>{const{displayName:t,firstName:r,lastName:n,setDisplayName:i,setFirstName:c,setLastName:d}=ze();return e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(_,{mb:"5px",fontSize:"20px",children:"Welcome to DJfan"}),e.jsx(_,{fontSize:"14px",fontWeight:"500",children:"Add your names to complete your account."})]}),e.jsx(m,{children:e.jsxs(me,{children:[e.jsx(qe,{pointerEvents:"none",children:e.jsx(yt,{color:"#111"})}),e.jsx(S,{type:"text",placeholder:"Artist Name",value:t,onChange:x=>i(x.target.value)})]})}),e.jsx(m,{children:e.jsxs(me,{children:[e.jsx(qe,{pointerEvents:"none",children:e.jsx(ft,{color:"#111"})}),e.jsx(S,{type:"text",placeholder:"First Name",value:r,onChange:x=>c(x.target.value)})]})}),e.jsxs(m,{children:[e.jsxs(me,{children:[e.jsx(qe,{pointerEvents:"none",children:e.jsx(ft,{color:"#111"})}),e.jsx(S,{type:"text",placeholder:"Last Name",value:n,onChange:x=>d(x.target.value)})]}),e.jsx(p,{...cn,children:"100% Privacy. Only your DJ name will be public."})]})]})},xn=()=>{const{username:t,setUsername:r}=ze(),[n,i]=s.useState(!1),{data:c={},refetch:d}=on(t),x=s.useMemo(()=>/^[a-zA-Z0-9\-_]{3,50}$/.test(t)?!!c:!1,[t,c]),P=f=>{let g=f.target.value;const b=/[^a-z0-9\-_]/;g=g.toLowerCase(),g=g.replace(b,""),g=g.substring(0,50),r(g)};return s.useEffect(()=>{t&&t.length>2&&d()},[t]),e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(_,{mb:"5px",fontSize:"20px",children:"Choose a Username"}),e.jsx(_,{fontSize:"14px",fontWeight:"500",children:"Your username creates your profile page link"})]}),e.jsx(m,{children:e.jsxs(me,{size:"md",children:[e.jsx(Me,{children:"djfan.app/artists/"}),e.jsx(S,{type:"text",id:"username",placeholder:"username",value:t,onChange:P,isInvalid:n&&!x,focusBorderColor:!n||t.length===0?"black.500":x?"green.500":"red.500",onFocus:()=>i(!0)})]})})]})},pn=()=>{const{instagram:t,soundcloud:r,website:n,setInstagram:i,setSoundcloud:c,setWebsite:d}=ze();return e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(_,{mb:"5px",fontSize:"20px",children:"Add Profile Links"}),e.jsx(_,{fontSize:"14px",fontWeight:"500",children:"Link to your website & other social profiles"})]}),e.jsxs(m,{children:[e.jsx(l,{border:"2px solid #3e0080",overflow:"hidden",borderRadius:"5px",children:e.jsxs(me,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(Me,{bgGradient:"linear(to-r,#5c03bc, #e536ab)",...Ye,children:e.jsx(Jt,{fontSize:"24px",color:"white"})}),e.jsx(S,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Instagram Username",focusBorderColor:"#ffffff00",onChange:x=>i(x.target.value)})]})}),t&&e.jsxs(he,{href:`https://instagram.com/${t}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["instagram.com/",e.jsx("b",{children:t})]})]}),e.jsxs(m,{children:[e.jsx(l,{border:"2px solid #FF5500",overflow:"hidden",borderRadius:"5px",children:e.jsxs(me,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(Me,{bg:"#FF5500",...Ye,children:e.jsx(Zt,{fontSize:"25px",color:"white"})}),e.jsx(S,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"SoundCloud Username",focusBorderColor:"#ffffff00",onChange:x=>c(x.target.value)})]})}),r&&e.jsxs(he,{href:`https://soundcloud.com/${r}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["soundcloud.com/",e.jsx("b",{children:r})]})]}),e.jsxs(m,{children:[e.jsx(l,{border:"2px solid #111",overflow:"hidden",borderRadius:"5px",children:e.jsxs(me,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(Me,{bg:"#fff",...Ye,borderRight:"2px solid #111",children:e.jsx(Qt,{fontSize:"20px",color:"#111"})}),e.jsx(S,{type:"url",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Website e.g. artistname.com",focusBorderColor:"#ffffff00",onChange:x=>d(x.target.value)})]})}),n&&e.jsxs(l,{as:"span",pt:"10px",display:"flex",pl:"10px",children:["Website:Â ",e.jsxs(he,{href:`https://${n}`,target:"_blank",rel:"noopener noreferrer",_hover:{textDecoration:"underline"},children:["https://",e.jsx("b",{children:n})]})]})]})]})},Ye={borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",p:"0px 2px 0px 0px",width:"40px",justifyContent:"center"},Lt=async()=>{const t=await T.get("/dj/countries"),{data:r}=t;return r??[]},hn=()=>{const[t,r]=s.useState([]),{setCountry:n,shortBio:i,setShortBio:c,location:d,setLocation:x,countryCode:P,setCountryCode:f}=ze();return s.useEffect(()=>{Lt().then(g=>{r(g)})},[]),e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(_,{mb:"5px",fontSize:"20px",children:"Basic Profile Information"}),e.jsx(l,{fontSize:"14px",fontWeight:"500",children:"You can edit all of these later"})]}),e.jsxs(m,{children:[e.jsx(k,{children:"Short Bio"}),e.jsx(S,{type:"text",placeholder:"e.g. DJ & Producer",value:i,onChange:g=>c(g.target.value)}),e.jsxs(Xt,{children:[e.jsx(es,{children:e.jsx(l,{...un,color:"#a600ff",cursor:"pointer",textDecoration:"underline",children:"More Examples"})}),e.jsxs(ts,{_focus:{boxShadow:"none"},children:[e.jsxs(q,{p:"15px",children:[e.jsx(_,{fontSize:"15px",fontWeight:"600",children:"Make it short & sweet!"}),e.jsxs(ss,{fontSize:"13px",children:[e.jsx(_e,{children:"Label Owner & Artist"}),e.jsx(_e,{children:"A wild Artist from Ibiza"}),e.jsx(_e,{children:"Electronic Musician"}),e.jsx(_e,{children:"Label Owner & Producer"}),e.jsx(_e,{children:"Turntablist & Sound Curator"})]})]}),e.jsx(ns,{})]})]})]}),e.jsxs(m,{children:[e.jsx(k,{children:"Main Location"}),e.jsx(S,{type:"text",placeholder:"e.g. Ibiza or London",value:d,onChange:g=>x(g.target.value)})]}),e.jsxs(m,{children:[e.jsx(k,{children:"Where are you from?"}),e.jsx(Ee,{placeholder:"Select Country",value:P,onChange:g=>{const b=g.target.value,C=b?(t.find(z=>z.country_code===b)||{}).country:"";n(C??""),f(b)},children:t.map((g,b)=>e.jsx("option",{value:g.country_code,children:g.country},b))})]})]})},un={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},At=t=>{const r=new FormData;return r.append("image",t),T.post("/dj/me/profile_picture",r)},_t=t=>{const r=new FormData;return r.append("image",t),T.post("/dj/me/cover_photo",r)},fn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},gn=()=>{const{profileImage:t,setProfileImage:r,coverImage:n,setCoverImage:i,profilePreview:c,setProfilePreview:d,coverPreview:x,setCoverPreview:P}=ze(),f=a=>{if(!a.target.files)return;const v=a.target.files[0];if(v){r(v);const E=new FileReader;E.readAsDataURL(v),E.onloadend=()=>{d(E.result)}}},g=a=>{if(!a.target.files)return;const v=a.target.files[0];if(v){i(v);const E=new FileReader;E.readAsDataURL(v),E.onloadend=()=>{P(E.result)}}},b=()=>{r(null),d("")},C=()=>{i(null),P("")},z=async()=>{try{await At(t)}catch(a){console.log(a)}},A=async()=>{try{await _t(n)}catch(a){console.log(a)}};return s.useEffect(()=>{t&&z()},[t]),s.useEffect(()=>{n&&A()},[n]),e.jsxs(q,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(_,{mb:"5px",fontSize:"20px",children:"Profile & Cover Photos"}),e.jsx(_,{fontSize:"14px",fontWeight:"500",children:"Finally, let's add some photos!"})]}),e.jsxs(m,{children:[e.jsx(k,{children:"Upload Profile Avatar"}),e.jsx(J,{position:"relative",children:e.jsxs("label",{children:[e.jsx(S,{type:"file",accept:"image/*",onChange:f,style:{display:"none"}}),e.jsx(L,{as:"span",children:"Select Image"})]})})]}),e.jsxs(m,{children:[e.jsx(k,{children:"Upload Cover Photo"}),e.jsx(J,{position:"relative",children:e.jsxs("label",{children:[e.jsx(S,{type:"file",accept:"image/*",onChange:g,style:{display:"none"}}),e.jsx(L,{as:"span",children:"Select Image"})]})})]}),e.jsxs(l,{position:"relative",mt:"2",children:[e.jsxs(q,{py:"30px",alignItems:"center",position:"relative",bgImage:x,bgSize:"cover",bgColor:"grey",bgRepeat:"no-repeat",bgPos:"center",opacity:"0.7",children:[x&&e.jsx(l,{zIndex:"10","aria-label":"Remove image",position:"absolute",bg:"black",top:"10px",right:"10px",onClick:C,borderRadius:"100%",p:"2px",children:e.jsx(He,{color:"white"})}),e.jsxs(Ce,{position:"relative",children:[c&&e.jsx(l,{"aria-label":"Remove image",position:"absolute",bg:"black",top:"-5px",right:"-15px",onClick:b,borderRadius:"100%",p:"2px",children:e.jsx(He,{color:"white"})}),e.jsx(St,{bg:"black",src:c,showBorder:!0,borderColor:"cyan",size:"lg"})]})]}),e.jsx(p,{...fn,children:"Begin uploading to preview your profile images."})]})]})},gt={transform:"scale(0.85) translateY(-24px)"},jn=rs({components:{Form:{variants:{floating:{container:{_focusWithin:{label:{...gt}},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label, textarea:not(:placeholder-shown) ~ label":{...gt},label:{top:0,left:25,zIndex:2,position:"absolute",backgroundColor:"white",pointerEvents:"none",mx:3,px:1,my:2,transformOrigin:"left top"}}}}}}});function Ft(){const{refetch:t}=Ne(),r=ue(),n=xe(),[i,c]=s.useState(1),[d,x]=s.useState(20),P=[{title:"1",description:"Names"},{title:"2",description:"Username"},{title:"3",description:"Basics"},{title:"4",description:"Links"},{title:"5",description:"Photos"}],{displayName:f,firstName:g,lastName:b,username:C,shortBio:z,country:A,countryCode:a,location:v,instagram:E,soundcloud:H,website:F,profileImage:B,coverImage:W}=ze(),[V,h]=s.useState(!1),M=i===1&&!!f&&!!g&&!!b,D=i===2&&!!C&&C.length>2,U=i===3&&!!z&&!!A&&!!a&&!!v,w=i===4&&!!E&&!!H&&!!F,I=i===5&&!!B&&!!W,$=async()=>{switch(i){case 1:if(!M)break;h(!0);try{await Et({first_name:g,last_name:b}),await Se({display_name:f}),c(i+1),x(d+20)}catch(y){console.log(y)}finally{h(!1)}break;case 2:if(!D)break;h(!0);try{await Se({profile_url:C}),c(i+1),x(d+20)}catch(y){console.log(y)}finally{h(!1)}break;case 3:if(!U)break;h(!0);try{await Se({title:z,location:v,country:A,country_code:a}),c(i+1),x(d+20)}catch(y){console.log(y)}finally{h(!1)}break;case 4:if(!w)break;h(!0);try{await Se({instagram:E,soundcloud:H,website:F}),c(i+1),x(d+20)}catch(y){console.log(y)}finally{h(!1)}break}};return e.jsx(Ct,{theme:jn,children:e.jsxs(o,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",minHeight:"100vh",flexDirection:"column",children:[e.jsxs(o,{bg:"#111",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",position:"relative",children:[e.jsx(J,{maxW:"1000px",p:"10px",pr:"15px",bg:"#111",justifyContent:"space-between",children:e.jsx(l,{as:"a",href:"/",children:e.jsx(Ie,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),e.jsx(l,{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",children:e.jsx(Rt,{})})]}),e.jsxs(Ce,{pt:"20px",children:[e.jsx(q,{pb:"10px",children:e.jsx(os,{size:"sm",index:i-1,children:P.map((y,Y)=>e.jsxs(is,{children:[e.jsx(as,{children:e.jsx(ls,{complete:e.jsx(cs,{})})}),e.jsx(ds,{})]},Y))})}),e.jsxs(l,{width:"100%",bg:"#fff",maxWidth:"400px",as:"form",overflow:"hidden",display:"flex",flexDirection:"column",borderRadius:"10px",border:"solid 2px cyan",children:[i===1?e.jsx(dn,{}):i===2?e.jsx(xn,{}):i===3?e.jsx(hn,{}):i===4?e.jsx(pn,{}):e.jsx(gn,{}),e.jsx(l,{position:"relative",bgColor:"#111",p:"15px",borderTop:"2px solid cyan",children:e.jsxs(o,{w:"100%",bgColor:"#111",justifyContent:i===1?"flex-end":"space-between",children:[e.jsx(L,{onClick:()=>{c(i-1),x(d-20)},isDisabled:i===1,bg:"#fff",color:"#111",w:"7rem",display:i===1?"none":"block",children:"Back"}),i!==5?e.jsx(L,{w:"7rem",isDisabled:i===1&&!M||i===2&&!D||i===3&&!U||i===4&&!w,onClick:$,bg:"#fff",color:"#111",variant:"solid",opacity:"1",isLoading:V,children:"Continue"}):e.jsx(L,{w:"7rem",colorScheme:"green",variant:"solid",isDisabled:!I,onClick:async()=>{await t(),n({title:"Account created.",description:"We've created your account for you.",status:"success",duration:3e3,isClosable:!0}),r("/")},children:"FINISH"})]})})]})]})]})})}const mn=()=>{const{data:t,isLoading:r}=De();return r?e.jsx(e.Fragment,{}):t?(t==null?void 0:t.profile_active)==0?(t==null?void 0:t.profile_done)==1?e.jsx(ln,{}):e.jsx(zt,{children:e.jsx(Ft,{})}):e.jsx(mt,{}):e.jsx(en,{to:"https://dev-signin.djfan.app/auth/signindj"})},te=({href:t,text:r})=>e.jsx(l,{as:"a",href:t,display:"flex",fontWeight:"500",_hover:{color:"#bf0fff"},children:r}),bn=()=>{var i;const{data:t}=De(),r=t==null?void 0:t.loginas,n=(i=t==null?void 0:t.roles)==null?void 0:i.includes("ROLE_PARTNER");return e.jsxs(e.Fragment,{children:[r&&e.jsx(l,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:r?"pointer":"not-allowed",onClick:async()=>{await T.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"}),e.jsxs(l,{as:"a",href:"/settings",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#6b46c1",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(yt,{}),"Return to Profile"]}),e.jsxs(q,{px:"20px",py:"20px",children:[n&&e.jsx(te,{href:"/partners",text:"My Artists"}),!n&&e.jsxs(e.Fragment,{children:[e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Create"}),e.jsx(te,{href:"/create/image",text:"Image Post"}),e.jsx(te,{href:"/create/video",text:"Video Post"}),e.jsx(te,{href:"/create/audio",text:"Audio Post"}),e.jsx(te,{href:"/create/event",text:"Tour Date"}),e.jsx(te,{href:"/product",text:"Product"}),e.jsx(te,{href:"/create/text",text:"Text Post"}),e.jsx(l,{py:"10px",children:e.jsx(pe,{borderColor:"#6b46c1"})}),e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Insights"}),e.jsx(te,{href:"/fans",text:"Your Fans"}),e.jsx(l,{py:"10px",children:e.jsx(pe,{borderColor:"#6b46c1"})}),!r&&e.jsxs(e.Fragment,{children:[e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Income"}),e.jsx(te,{href:"/payouts",text:"Payouts"}),e.jsx(te,{href:"/earnings",text:"Earnings"})]}),e.jsx(te,{href:"/invitations",text:"Invitations"}),e.jsx(l,{py:"10px",children:e.jsx(pe,{borderColor:"#6b46c1"})}),e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Settings"}),e.jsx(te,{href:"/settings",text:"Account"})]}),e.jsx(l,{fontSize:"16px",fontWeight:"500",cursor:"pointer",onClick:()=>{window.open("https://dev-signin.djfan.app/api/auth/signout","_self")},children:"Sign Out"})]})]})},X=()=>{const{data:t}=De(),{isOpen:r,onOpen:n,onClose:i}=tt();return e.jsx(l,{children:e.jsx(o,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",children:e.jsxs(o,{w:"100%",maxW:"1000px",alignItems:"center",justifyContent:"space-between",p:"10px",pr:"15px",children:[e.jsx(o,{w:"30%",justifyContent:"flex-start",display:{base:"none",md:"flex"},children:e.jsxs(o,{as:"a",href:"/",color:"#fff",lineHeight:"1em",gap:"5px",fontWeight:"600",fontSize:"18px",py:"5px",alignItems:"center",_hover:{color:"cyan"},children:[e.jsx(vt,{fontSize:"12px"}),"View Profile"]})}),e.jsxs(o,{w:"60%",justifyContent:{base:"flex-start",md:"center"},children:[!(t!=null&&t.loginas)&&e.jsx(l,{as:"a",href:"/",children:e.jsx(Ie,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})}),(t==null?void 0:t.loginas)&&e.jsx(p,{fontSize:"16",color:"#FFF",paddingLeft:5,children:(t==null?void 0:t.username)&&(t==null?void 0:t.username.toString().substring(0,28))})]}),e.jsx(o,{w:"30%",justifyContent:"flex-end",children:e.jsx(l,{as:"a",onClick:n,color:"#fff",cursor:"pointer",children:e.jsx(xs,{viewBox:"0 0 24 24",width:"30px",height:"30px",color:"white",_hover:{width:"35px",height:"35px"},transition:"all 0.3s ease-in-out",children:e.jsx("path",{fill:"currentColor",d:"M0,4c0-.55,.45-1,1-1H18c.55,0,1,.45,1,1s-.45,1-1,1H1c-.55,0-1-.45-1-1Zm18,15H1c-.55,0-1,.45-1,1s.45,1,1,1H18c.55,0,1-.45,1-1s-.45-1-1-1Zm5-8H6c-.55,0-1,.45-1,1s.45,1,1,1H23c.55,0,1-.45,1-1s-.45-1-1-1Z"})})})}),e.jsxs(ps,{isOpen:r,placement:"right",onClose:i,children:[e.jsx(st,{}),e.jsx(hs,{p:"0",maxW:{base:"50%",md:"220px"},id:"content",children:e.jsxs(wt,{p:"0",children:[e.jsxs(J,{bg:"#111",p:"15px",justifyContent:"space-between",children:[e.jsx(l,{color:"#fff",fontWeight:"600",fontSize:"18px",children:"Creator Menu"}),e.jsx(l,{as:"a",href:"",onClick:i,right:"15px",top:"15px",cursor:"pointer",color:"#fff",_hover:{color:"#5c03bc"},children:e.jsx(He,{fontSize:"18px"})})]}),e.jsx(bn,{})]})})]})]})})})},yn=[{text:"Create Post",imageUrl:"https://media.djfan.app/images/create.jpg",linkUrl:"/create"},{text:"Create Product",imageUrl:"https://media.djfan.app/images/product.jpg",linkUrl:"/product"},{text:"Earnings",imageUrl:"https://media.djfan.app/images/earnings.jpg",linkUrl:"/earnings"},{text:"My Fans",imageUrl:"https://media.djfan.app/images/fans.jpg",linkUrl:"/fans"},{text:"Settings",imageUrl:"https://media.djfan.app/images/settings.jpg",linkUrl:"/settings"},{text:"Invitations",imageUrl:"https://media.djfan.app/images/invitations.jpg"}];function Sn(){var c;const{data:t}=De(),r=(c=t==null?void 0:t.roles)==null?void 0:c.includes("ROLE_PARTNER"),n=t==null?void 0:t.loginas,i=ue();return s.useEffect(()=>{r&&i("/partners")}),e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:!r&&e.jsx(o,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:yn.map((d,x)=>n&&d.text=="Earnings"?e.jsx(e.Fragment,{}):e.jsx(he,{href:(d==null?void 0:d.linkUrl)??"/",w:{base:"100%",md:"30%"},children:e.jsx(l,{w:{base:"100%",md:"100%"},h:"150px",bgImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${d.imageUrl})`,bgPos:"center",bgSize:"cover",borderRadius:"10px",position:"relative",children:e.jsx(us,{h:"100%",children:e.jsx(p,{fontSize:"24px",color:"white",fontWeight:"600",children:d.text})})})},x))})})})]})}const Le=async t=>{const r=await T.get(`/dj/post/token?_post_type=${t}`),{data:{data:n}}=r;return n.post_token?n.post_token:""},ke=async(t,r,n)=>{if(!r)return;const i={onUploadProgress:n},c=new FormData;return c.append("file",t),await T.post(`/dj/post/${r}/upload`,c,i)},Cn=async(t,r,n)=>{if(!r)return;const i={onUploadProgress:n},c=new FormData;return c.append("file",t),await T.post(`/dj/post/${r}/upload/large`,c,i)},xt=async(t,r,n,i,c)=>{if(!r)return;const d=new FormData;d.append("file",t),await T.post(`/dj/post/${r}/upload/large`,d,{headers:{"Content-Type":"multipart/form-data","File-Total-Chunks":n.toString(),"File-Chunk-Number":i.toString(),"File-Name":c}})};var Q=(t=>(t[t.EVERYONE=1]="EVERYONE",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(Q||{}),K=(t=>(t[t.EMBED=1]="EMBED",t[t.UPLOAD=0]="UPLOAD",t))(K||{}),ge=(t=>(t[t.SINGLE=1]="SINGLE",t[t.MULTIPLE=2]="MULTIPLE",t))(ge||{}),ye=(t=>(t.image="image",t.video="video",t.audio="audio",t.text="text",t.product="product",t.event="event",t))(ye||{}),Wt=(t=>(t[t.ALL=0]="ALL",t[t.FOLLOWERS=1]="FOLLOWERS",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(Wt||{});const Ve=async(t,r)=>await T.post(`/dj/post/${r}`,t),vn=1500*1024*1024,Ke=10*1024*1024,wn=()=>{const[t,r]=s.useState(K.UPLOAD),{getRootProps:n,getInputProps:i,isDragActive:c,acceptedFiles:d}=nt({accept:{"video/mp4":[],"video/mov":[]}}),x=ue(),P=xe(),[f,g]=s.useState(""),[b,C]=s.useState(0),[z,A]=s.useState(!1),[a,v]=s.useState(null),[E,H]=s.useState(void 0),[F,B]=s.useState(""),[W,V]=s.useState(""),[h,M]=s.useState([]),D=s.useRef(0),[U,w]=s.useState(0),[I,$]=s.useState(!1),y=u=>{const N=Math.round(u.loaded*100/(u.total||0));C(N)},Y=async()=>{const u=await Le(ye.video);g(u)};s.useEffect(()=>{Y()},[]),s.useEffect(()=>{d.length&&f.length&&R()},[d]);const ne=u=>{const N=Math.ceil(u.size/Ke),ie=[];let O=0;for(let ae=0;ae<N;ae++){const le=Math.min(O+Ke,u.size),Ae=u.slice(O,le);ie.push(Ae),O=le}M(ie),w(N)},ee=async()=>{if(A(!0),(D==null?void 0:D.current)<U){const u=h[D.current];try{await xt(u,f,U,D.current+1,(a==null?void 0:a.name)??""),D.current++,C(Math.round(D.current/U*100)),await ee()}catch(N){console.error("Error uploading chunk:",N)}}else A(!1),C(0)};s.useEffect(()=>{h.length&&(a!=null&&a.name)&&ee()},[h,a]);const R=async()=>{A(!0);try{const u=d[0];if(u.size>vn)return;v(d[0]),u.size<=Ke?await ke(d[0],f,y):ne(u)}catch(u){console.log(u)}finally{A(!1),C(0)}},Z=async()=>{const u={body:F,accesslevel_id:E};t===K.EMBED?(u.embedded=1,u.location=W):(u.embedded=0,u.files=[(a==null?void 0:a.name)??""]),$(!0);try{await Ve(u,f),P({description:"Post created",status:"success",duration:3e3,isClosable:!0}),x("/")}catch(N){console.log("err",N)}finally{$(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(fs,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Video Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(p,{my:"10px",children:"Select video post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===K.EMBED?"#a37cf0":"white",onClick:()=>r(K.EMBED),children:"Embed Video"}),e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===K.UPLOAD?"#a37cf0":"white",onClick:()=>r(K.UPLOAD),children:"Upload Video"})]}),t===K.UPLOAD?e.jsxs(l,{mt:"20px",children:[e.jsxs(l,{border:c?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:c?"#f5f5f5":"white",...n(),children:[e.jsx("input",{...i()}),e.jsx(p,{p:"10px",children:"Drag and drop some files here, or click to select files"})]}),z?e.jsxs(l,{mt:"10px",children:[e.jsxs(p,{mb:"10px",children:["Uploading ",a==null?void 0:a.name]}),e.jsx(ve,{hasStripe:!0,value:b})]}):a?e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(we,{onClick:()=>v(null)}),e.jsx(p,{ml:"10px",children:a==null?void 0:a.name})]}):null]}):e.jsx(l,{mt:"10px",children:e.jsx(S,{mt:"10px",placeholder:"Enter URL",value:W,onChange:u=>V(u.target.value)})}),e.jsx(be,{mt:"20px",placeholder:"Write something about this post",value:F,onChange:u=>B(u.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(Ee,{mt:"10px",placeholder:"Select privacy option",onChange:u=>H(u.target.value),children:[e.jsx("option",{value:Q.EVERYONE,children:"Everyone"}),e.jsx("option",{value:Q.GOLD,children:"GOLD"}),e.jsx("option",{value:Q.VIP,children:"VIP"})]})]}),E&&(t===K.UPLOAD?a:W)&&F&&!z?e.jsx(L,{isLoading:I,mt:"20px",colorScheme:"purple",onClick:Z,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>x("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Oe,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>x("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Be,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},kn=()=>{const{scrollY:t}=gs(),[r,n]=s.useState(!1),i=js("sm","sm-dark");return s.useEffect(()=>t.on("change",()=>n(t.get()>16)),[t]),{rootProps:{shadow:r?i:"none",transition:"box-shadow 0.2s"}}};function In(){const{rootProps:t}=kn();return e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",...t,children:e.jsx(o,{bg:"black",borderTop:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",children:e.jsx(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"center",px:{base:"10px",md:"0px"},py:"10px",children:e.jsx(J,{gap:"15px",justifyContent:"center",alignItems:"center",children:e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",onClick:()=>{window.open("https://creators.djfan.app","_self")},height:"35px",children:e.jsx(l,{fontSize:"32px",children:e.jsx(ms,{})})})})})})})}const Pn=({children:t})=>e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx("div",{style:{height:"calc(100vh - 64px - 53px)"},children:t}),e.jsx(In,{})]}),En=()=>e.jsx(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#111",pb:"50px",children:e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"25px",w:"100%",maxW:"600px",pt:"25px",px:"15px",children:[e.jsx(p,{color:"#fff",lineHeight:"1em",fontSize:"28px",fontWeight:"600",textAlign:"center",w:"100%",children:"Create a new post"}),e.jsx(o,{h:"100%",justifyContent:"space-evenly",wrap:"wrap",gap:"20px",children:Rn.map((t,r)=>e.jsx(he,{href:t.link,w:{base:"45%",md:"30%"},children:e.jsxs(Ce,{bg:"#fff",py:"20px",gap:"10px",borderRadius:"15px",children:[e.jsx(Ie,{width:"40px",src:t.imageUrl}),e.jsx(p,{fontSize:"20px",color:"#111",fontWeight:"600",children:t.name})]})},r))})]})})}),Rn=[{id:1,name:"Image Post",imageUrl:"https://media.djfan.app/images/imagepost.png",link:"/create/image"},{id:2,name:"Video Post",imageUrl:"https://media.djfan.app/images/videopost.png",link:"/create/video"},{id:3,name:"Audio Post",imageUrl:"https://media.djfan.app/images/audiopost.png",link:"/create/audio"},{id:4,name:"Event",link:"/create/event",imageUrl:"https://media.djfan.app/images/tourdate.png"},{id:5,name:"New Product",imageUrl:"https://media.djfan.app/images/product.png",link:"/product"},{id:6,name:"Text Post",imageUrl:"https://media.djfan.app/images/textpost.png",link:"/create/text"}];function Dn(){const{data:t,refetch:r}=Ne(),n=xe(),[i,c]=s.useState(""),[d,x]=s.useState(""),[P,f]=s.useState(""),[g,b]=s.useState(""),[C,z]=s.useState(""),[A,a]=s.useState(""),[v,E]=s.useState(""),[H,F]=s.useState(""),[B,W]=s.useState(!1);s.useEffect(()=>{c((t==null?void 0:t.website)??""),x((t==null?void 0:t.instagram)??""),f((t==null?void 0:t.soundcloud)??""),b((t==null?void 0:t.mixcloud)??""),z((t==null?void 0:t.facebook)??""),a((t==null?void 0:t.tiktok)??""),E((t==null?void 0:t.youtube)??""),F((t==null?void 0:t.spotify)??"")},[t]);const V=async()=>{var M,D;const h={website:i,instagram:d,soundcloud:P,mixcloud:g,facebook:C,tiktok:A,youtube:v,spotify:H};W(!0);try{(D=(M=(await Se(h)).data)==null?void 0:M.result)!=null&&D.result&&(await r(),n({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(U){console.log(U)}finally{W(!1)}};return e.jsxs(q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Website"}),e.jsx(S,{type:"text",placeholder:" e.g. artistname.com",value:i,onChange:h=>c(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Instagram Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:d,onChange:h=>x(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Soundcloud Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:P,onChange:h=>f(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Mixcloud Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:g,onChange:h=>b(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Facebook Page Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:C,onChange:h=>z(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"TikTok Username"}),e.jsx(S,{type:"text",placeholder:"Enter only username (no link)",value:A,onChange:h=>a(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"YouTube Channel"}),e.jsx(S,{type:"text",placeholder:"Enter full link e.g. https://www.youtube.com/...",value:v,onChange:h=>E(h.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Spotify Artist Page"}),e.jsx(S,{type:"text",placeholder:"Enter full link e.g. https://open.spotify/artist...",value:H,onChange:h=>F(h.target.value)})]}),e.jsxs(L,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:V,isLoading:B,children:["UPDATE PROFILE LINKS ",e.jsx(Re,{style:{marginLeft:"5px"}})]})]})}const zn=({profileImage:t,coverPhoto:r})=>{const[n,i]=s.useState(t),[c,d]=s.useState(r),[x,P]=s.useState(null),[f,g]=s.useState(null),b=s.useRef(null),C=s.useRef(null);s.useEffect(()=>{i(t),d(r)},[t,r]);const z=async()=>{if(x){const a=URL.createObjectURL(x);i(a);try{const v=await At(x);console.log(v)}catch(v){console.log(v)}}},A=async()=>{if(f){const a=URL.createObjectURL(f);d(a);try{const v=await _t(f);console.log(v)}catch(v){console.log(v)}}};return s.useEffect(()=>{z()},[x]),s.useEffect(()=>{A()},[f]),e.jsxs(o,{direction:{base:"column",md:"row"},gap:{base:"20px",md:"40px"},children:[e.jsx("input",{type:"file",ref:b,style:{display:"none"},onChange:a=>{a.target.files&&a.target.files.length>0&&P(a.target.files[0])}}),e.jsx("input",{type:"file",ref:C,style:{display:"none"},onChange:a=>{a.target.files&&a.target.files.length>0&&g(a.target.files[0])}}),e.jsxs(o,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(l,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Profile Image"}),e.jsx(St,{size:"xl",src:n}),e.jsx(l,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{b.current&&b.current.click()},children:"UPDATE IMAGE"})]}),e.jsxs(o,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(l,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Cover Photo"}),e.jsx(Ie,{width:"160px",height:"96px",objectFit:"cover",src:c}),e.jsx(l,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{C.current&&C.current.click()},children:"UPDATE IMAGE"})]})]})};function Ln(){const[t,r]=s.useState([]),{data:n,refetch:i}=Ne(),c=xe(),[d,x]=s.useState((n==null?void 0:n.display_name)??""),[P,f]=s.useState(""),[g,b]=s.useState(""),[C,z]=s.useState(""),[A,a]=s.useState(""),[v,E]=s.useState(""),[H,F]=s.useState(""),[B,W]=s.useState(""),[V,h]=s.useState(""),[M,D]=s.useState(""),[U,w]=s.useState(!1),I=async()=>{try{const y=await Lt();r(y)}catch(y){console.log(y)}};s.useEffect(()=>{I()},[]),s.useEffect(()=>{x((n==null?void 0:n.display_name)??""),f((n==null?void 0:n.title)??""),b((n==null?void 0:n.genre)??""),z((n==null?void 0:n.location)??""),a((n==null?void 0:n.country)??""),E((n==null?void 0:n.bookings)??""),F((n==null?void 0:n.management)??""),W((n==null?void 0:n.about_me)??""),h((n==null?void 0:n.cover_photo)??""),D((n==null?void 0:n.profile_picture)??"")},[n]);const $=async()=>{var Y,ne;const y={display_name:d,title:P,genre:g,location:C,country:A,bookings:v,management:H,about_me:B};w(!0);try{(ne=(Y=(await Se(y)).data)==null?void 0:Y.result)!=null&&ne.result&&(await i(),c({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(ee){console.log(ee)}finally{w(!1)}};return e.jsxs(q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsx(zn,{profileImage:M,coverPhoto:V}),e.jsx(l,{py:"10px",children:e.jsx(pe,{borderColor:"#858585"})}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"DJ Name"}),e.jsx(S,{type:"text",placeholder:"Enter your DJ name",value:d,onChange:y=>x(y.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Title"}),e.jsx(S,{type:"text",placeholder:"e.g. DJ & Producer",value:P,onChange:y=>f(y.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Music Genre"}),e.jsx(S,{type:"text",placeholder:"e.g. Techno, Tech House",value:g,onChange:y=>b(y.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Location"}),e.jsx(S,{type:"text",placeholder:"Enter your location",value:C,onChange:y=>z(y.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Country"}),e.jsx(Ee,{placeholder:"Select Country",value:A,onChange:y=>a(y.target.value),children:t==null?void 0:t.map((y,Y)=>e.jsx("option",{value:y.country,children:y.country},Y))})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Bookings Contact"}),e.jsx(S,{type:"text",placeholder:"Enter your bookings contact",value:v,onChange:y=>E(y.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Management Contact"}),e.jsx(S,{type:"text",placeholder:"Enter your management contact",value:H,onChange:y=>F(y.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"About Me"}),e.jsx(be,{placeholder:"Write something about yourself...",value:B,onChange:y=>W(y.target.value)})]}),e.jsxs(L,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:$,isLoading:U,children:["UPDATE PROFILE ",e.jsx(Re,{style:{marginLeft:"5px"}})]})]})}const Ut=t=>T.post("/dj/me/details",{paypal:t});function An(){const{data:t,refetch:r}=De(),{data:n}=Ne(),i=t==null?void 0:t.loginas,{paypal:c}=n??{},[d,x]=s.useState(""),[P,f]=s.useState(""),{isOpen:g,onOpen:b,onClose:C}=tt(),z=xe(),A=s.useRef(null),[a,v]=s.useState(""),[E,H]=s.useState(!1),[F,B]=s.useState(!1),[W,V]=s.useState(!1);s.useEffect(()=>{x((t==null?void 0:t.first_name)??""),f((t==null?void 0:t.last_name)??"")},[t]),s.useEffect(()=>{c&&v(c)},[c]);const h=async()=>{var $;const I={first_name:d,last_name:P};V(!0);try{($=(await Et(I)).data)!=null&&$.result&&(await r(),z({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(y){console.log(y)}finally{V(!1)}},M=async()=>{try{await sn()}catch(I){console.log(I)}},D=async()=>{try{await nn()}catch(I){console.log(I)}},U=async function(){try{await rn()}catch{return null}},w=async()=>{B(!0);try{await Ut(a),z({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0})}catch(I){console.log(I)}finally{B(!1)}};return!i&&e.jsxs(e.Fragment,{children:[e.jsxs(q,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"First Name"}),e.jsx(S,{type:"text",placeholder:" First Name",value:d,onChange:I=>x(I.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Last Name"}),e.jsx(S,{type:"text",placeholder:"Last Name",value:P,onChange:I=>f(I.target.value)})]}),e.jsxs(L,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:h,isLoading:W,children:["UPDATE PROFILE ",e.jsx(Re,{style:{marginLeft:"5px"}})]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(o,{flexDirection:"column",justifyContent:"center",gap:"15px",mt:"15px",height:"100%",children:[e.jsxs(m,{children:[e.jsx(k,{children:"Paypal Email"}),e.jsx(S,{type:"text",placeholder:"Enter PayPal Email",value:a,onChange:I=>v(I.target.value)})]}),e.jsxs(J,{gap:"10px",children:[e.jsx(kt,{checked:E,onChange:I=>H(I.target.checked)}),e.jsx(p,{children:"My email address for payouts is correct"})]}),e.jsx(L,{leftIcon:e.jsx(It,{}),_hover:E&&a?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!E||!a,isLoading:F,onClick:w,children:"LINK PAYPAL ACCOUNT"})]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(L,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:M,children:[e.jsx(bs,{})," Change Email Address"]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(L,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:D,children:[e.jsx(ys,{})," Reset Password"]}),e.jsx(pe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(L,{w:"100%",color:"#fff",colorScheme:"red",onClick:b,children:[e.jsx(Ss,{})," Delete My Account"]})]}),e.jsx(Cs,{isOpen:g,leastDestructiveRef:A,onClose:C,children:e.jsx(st,{children:e.jsxs(vs,{children:[e.jsx(ws,{fontSize:"lg",fontWeight:"bold",children:"Delete My Account"}),e.jsx(wt,{children:"Are you sure you want to delete your account? You can't undo this action afterwards. All subscriptions will be cancelled automaticly on deletion."}),e.jsxs(ks,{children:[e.jsx(L,{ref:A,onClick:C,children:"Cancel"}),e.jsx(L,{colorScheme:"red",onClick:()=>{U(),C()},ml:3,children:"Delete"})]})]})})})]})}const Je={fontSize:{base:"20px",md:"16px"}},Ze={display:{base:"none",md:"unset"}};function _n(){const{data:t}=De(),r=t==null?void 0:t.loginas;return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",flexDirection:"column",alignItems:"center",children:e.jsxs(rt,{pt:"15px",variant:"soft-rounded",colorScheme:"green",w:{base:"100%",sm:"800px"},px:{base:"10px",sm:"20px"},children:[e.jsx(l,{bg:"white",px:"10px",py:"10px",borderRadius:"10px",children:e.jsxs(ot,{children:[e.jsxs(re,{...Je,children:["Profile",e.jsx(l,{...Ze,children:"Â Settings"})]}),e.jsxs(re,{...Je,children:[e.jsx(l,{...Ze,children:"ProfileÂ "})," Links"]}),!r&&e.jsxs(re,{...Je,children:["Account ",e.jsx(l,{...Ze,children:"Â Settings"})]})]})}),e.jsxs(it,{children:[e.jsx(oe,{p:"0",children:e.jsx(Ln,{})}),e.jsx(oe,{p:"0",children:e.jsx(Dn,{})}),!r&&e.jsx(oe,{p:"0",children:e.jsx(An,{})})]})]})})]})}const Fn=750*1024*1024,Wn=()=>{const[t,r]=s.useState(ge.SINGLE),{getRootProps:n,getInputProps:i,isDragActive:c,acceptedFiles:d}=nt({accept:{"image/*":[".png",".jpg",".jpeg"]},maxFiles:t===ge.SINGLE?1:void 0}),x=ue(),P=xe(),[f,g]=s.useState(""),[b,C]=s.useState(0),[z,A]=s.useState(!1),[a,v]=s.useState([]),[E,H]=s.useState(void 0),[F,B]=s.useState(""),[W,V]=s.useState(!1),h=w=>{const I=Math.round(w.loaded*100/(w.total||0));C(I)},M=async()=>{const w=await Le(ye.image);g(w)};s.useEffect(()=>{M()},[]),s.useEffect(()=>{d.length&&f.length&&D()},[d]);const D=async()=>{A(!0);try{const w=d[0];if(w.size>Fn)return;v(d),w.size<=100*1024*1024?await ke(d[0],f,h):await Cn(d[0],f,h)}catch(w){console.log(w)}finally{A(!1),C(0)}},U=async()=>{const w={body:F,accesslevel_id:E,files:a==null?void 0:a.map(I=>I.name)};V(!0);try{await Ve(w,f),P({description:"Post created",status:"success",duration:3e3,isClosable:!0}),x("/create")}catch(I){console.log("err",I)}finally{V(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Is,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Image Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(p,{my:"10px",children:"Select post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===ge.SINGLE?"#a37cf0":"white",onClick:()=>{r(ge.SINGLE),v(null)},children:"Single Image"}),e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===ge.MULTIPLE?"#a37cf0":"white",onClick:()=>{r(ge.MULTIPLE),v(null)},children:"Multiple Images"})]}),e.jsxs(l,{mt:"20px",children:[e.jsxs(l,{border:c?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:c?"#f5f5f5":"white",...n(),children:[e.jsx("input",{...i()}),e.jsx(p,{p:"10px",children:"Drag and drop some files here, or click to select files"})]}),z?e.jsx(e.Fragment,{children:a==null?void 0:a.map((w,I)=>e.jsxs(l,{mt:"10px",children:[e.jsxs(p,{mb:"10px",children:["Uploading ",w==null?void 0:w.name]}),e.jsx(ve,{hasStripe:!0,value:b})]},I))}):a?e.jsx(e.Fragment,{children:a==null?void 0:a.map((w,I)=>e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(we,{onClick:()=>v(null)}),e.jsx(p,{ml:"10px",children:w==null?void 0:w.name})]},I))}):null]}),e.jsx(be,{mt:"20px",placeholder:"Write something about this post",value:F,onChange:w=>B(w.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(Ee,{mt:"10px",placeholder:"Select privacy option",onChange:w=>H(w.target.value),children:[e.jsx("option",{value:Q.EVERYONE,children:"Everyone"}),e.jsx("option",{value:Q.GOLD,children:"GOLD"}),e.jsx("option",{value:Q.VIP,children:"VIP"})]})]}),E&&(a!=null&&a.length)&&F&&!z?e.jsx(L,{mt:"20px",isLoading:W,colorScheme:"purple",onClick:U,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>x("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Oe,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>x("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Be,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Un=()=>{const t=ue(),[r,n]=s.useState(""),[i,c]=s.useState(void 0),[d,x]=s.useState(""),P=async()=>{const g=await Le(ye.image);n(g)};s.useEffect(()=>{P()},[]);const f=async()=>{const g={body:d,accesslevel_id:i};try{const b=await Ve(g,r);console.log("data",b)}catch(b){console.log("err",b)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Ps,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Text Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(be,{mt:"20px",placeholder:"Write something about this post",value:d,onChange:g=>x(g.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(Ee,{mt:"10px",placeholder:"Select privacy option",onChange:g=>c(g.target.value),children:[e.jsx("option",{value:Q.EVERYONE,children:"Everyone"}),e.jsx("option",{value:Q.GOLD,children:"GOLD"}),e.jsx("option",{value:Q.VIP,children:"VIP"})]})]}),i&&d?e.jsx(L,{mt:"20px",colorScheme:"purple",onClick:f,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Oe,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>t("/"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Be,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Nn=750*1024*1024,Qe=10*1024*1024,Tn=()=>{const{getRootProps:t,getInputProps:r,isDragActive:n,acceptedFiles:i}=nt({accept:{"audio/*":[".mp3",".mpeg"]}}),c=ue(),d=xe(),[x,P]=s.useState(K.UPLOAD),[f,g]=s.useState(""),[b,C]=s.useState(0),[z,A]=s.useState(!1),[a,v]=s.useState(null),[E,H]=s.useState(void 0),[F,B]=s.useState(""),[W,V]=s.useState(""),[h,M]=s.useState([]),D=s.useRef(0),[U,w]=s.useState(0),[I,$]=s.useState(!1),y=u=>{const N=Math.round(u.loaded*100/(u.total||0));C(N)},Y=async()=>{const u=await Le(ye.audio);g(u)};s.useEffect(()=>{Y()},[]),s.useEffect(()=>{i.length&&f.length&&R()},[i]);const ne=u=>{const N=Math.ceil(u.size/Qe),ie=[];let O=0;for(let ae=0;ae<N;ae++){const le=Math.min(O+Qe,u.size),Ae=u.slice(O,le);ie.push(Ae),O=le}M(ie),w(N)},ee=async()=>{if(A(!0),(D==null?void 0:D.current)<U){const u=h[D.current];try{await xt(u,f,U,D.current+1,(a==null?void 0:a.name)??""),D.current++,C(Math.round(D.current/U*100)),await ee()}catch(N){console.error("Error uploading chunk:",N)}}else A(!1),C(0)};s.useEffect(()=>{h.length&&(a!=null&&a.name)&&ee()},[h,a]);const R=async()=>{A(!0);try{const u=i[0];if(u.size>Nn)return;v(i[0]),u.size<=Qe?await ke(i[0],f,y):ne(u)}catch(u){console.log(u)}finally{A(!1),C(0)}},Z=async()=>{const u={body:F,accesslevel_id:E};x===K.EMBED?(u.embedded=1,u.location=W):(u.embedded=0,u.files=[(a==null?void 0:a.name)??""]),$(!0);try{await Ve(u,f),d({description:"Post created",status:"success",duration:3e3,isClosable:!0}),c("/")}catch(N){console.log("err",N)}finally{$(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Es,{}),e.jsx(p,{fontWeight:"bold",ml:2,children:"Create Audio Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(p,{my:"10px",children:"Select audio post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:x===K.EMBED?"#a37cf0":"white",onClick:()=>P(K.EMBED),children:"Embed Audio"}),e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:x===K.UPLOAD?"#a37cf0":"white",onClick:()=>P(K.UPLOAD),children:"Upload Audio"})]}),x===K.UPLOAD?e.jsxs(l,{mt:"20px",children:[e.jsxs(l,{border:n?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:n?"#f5f5f5":"white",...t(),children:[e.jsx("input",{...r()}),e.jsx(p,{p:"10px",children:"Drag and drop some files here, or click to select files"})]}),z?e.jsxs(l,{mt:"10px",children:[e.jsxs(p,{mb:"10px",children:["Uploading ",a==null?void 0:a.name]}),e.jsx(ve,{hasStripe:!0,value:b})]}):a?e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(we,{onClick:()=>v(null)}),e.jsx(p,{ml:"10px",children:a==null?void 0:a.name})]}):null]}):e.jsx(l,{mt:"10px",children:e.jsx(S,{mt:"10px",placeholder:"Enter URL",value:W,onChange:u=>V(u.target.value)})}),e.jsx(be,{mt:"20px",placeholder:"Write something about this post",value:F,onChange:u=>B(u.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(p,{children:"Who can view this post?"}),e.jsxs(Ee,{mt:"10px",placeholder:"Select privacy option",onChange:u=>H(u.target.value),children:[e.jsx("option",{value:Q.EVERYONE,children:"Everyone"}),e.jsx("option",{value:Q.GOLD,children:"GOLD"}),e.jsx("option",{value:Q.VIP,children:"VIP"})]})]}),E&&(x===K.UPLOAD?a:W)&&F&&!z?e.jsx(L,{mt:"20px",isLoading:I,colorScheme:"purple",onClick:Z,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>c("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Oe,{}),e.jsx(p,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(L,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>c("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Be,{}),e.jsx(p,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})};function Mn({members:t,followers:r,monthlyIncome:n}){return e.jsxs(o,{h:"100%",wrap:"wrap",gap:"20px",justifyContent:"space-between",children:[e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#9b5de5",color:"#ffffff",alignItems:"center",lineHeight:"1em",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(We,{})," Total Fans"]}),e.jsx(_,{lineHeight:"1em",fontSize:"32px",children:r})]}),e.jsxs(se,{alignItems:"center",w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#ffffff",lineHeight:"1em",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",children:[e.jsx(We,{})," Subscribers"]}),e.jsx(_,{lineHeight:"1em",fontSize:"32px",children:t})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",alignItems:"center",lineHeight:"1em",bg:"#ffffff",children:[e.jsx(p,{fontSize:"18px",fontWeight:"600",children:"Membership Income"}),e.jsxs(J,{align:"flex-end",gap:"5px",justifyContent:"center",children:[e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsx(p,{mb:"0px",fontSize:"14px",fontWeight:"600",color:"#9b5de5",children:"per month"})]})]})]})}function Hn({membership:t,product:r,total:n}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(We,{})," Membership"]}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(at,{})," Online Store"]}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(p,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(30-days)"})]})]})]})}function On({membership:t,product:r,total:n}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(We,{})," Membership"]}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(at,{})," Online Store"]}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(p,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(365-days)"})]})]})]})}function Bn({membership:t,product:r,total:n}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(We,{})," Membership"]}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(p,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(at,{})," Online Store"]}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(se,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(p,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(_,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(p,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(All Time)"})]})]})]})}const Vn=()=>T.get("/dj/me/statistics").then(t=>t.data.data),Gn=()=>Pe({queryKey:["userStatistics"],queryFn:()=>Vn()});function $n(){const{data:t}=Gn();return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",maxW:"1000px",w:"100%",pt:"25px",px:"15px",children:[e.jsxs(o,{flexDirection:"column",gap:"20px",children:[e.jsxs(q,{gap:"10px",children:[e.jsx(_,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Statistics"}),e.jsx(p,{lineHeight:"1em",alignSelf:"flex-start",children:"Here are your statistics at a glance..."})]}),e.jsx(Mn,{members:((t==null?void 0:t.gold)??0)+((t==null?void 0:t.vip)??0),followers:(t==null?void 0:t.followers)??0,monthlyIncome:(t==null?void 0:t.monthly_income)??0})]}),e.jsxs(o,{flexDirection:"column",gap:"15px",children:[e.jsx(_,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Earnings"}),e.jsxs(rt,{variant:"soft-rounded",colorScheme:"green",w:"100%",children:[e.jsxs(ot,{children:[e.jsx(re,{p:"5px",px:"10px",children:"Last 30 Days"}),e.jsx(re,{p:"5px",px:"10px",children:"Last 365 Days"}),e.jsx(re,{p:"5px",px:"10px",children:"All Time"})]}),e.jsxs(it,{children:[e.jsx(oe,{p:"0",pt:"20px",children:e.jsx(Hn,{membership:(t==null?void 0:t.subscription_last_30_days)??0,product:(t==null?void 0:t.products_last_30_days)??0,total:(t==null?void 0:t.total_last_30_days)??0})}),e.jsx(oe,{p:"0",pt:"20px",children:e.jsx(On,{membership:(t==null?void 0:t.subscription_last_365_days)??0,product:(t==null?void 0:t.products_last_365_days)??0,total:(t==null?void 0:t.total_last_365_days)??0})}),e.jsx(oe,{p:"0",pt:"20px",children:e.jsx(Bn,{membership:(t==null?void 0:t.subscription_last_all_days)??0,product:(t==null?void 0:t.products_last_all_days)??0,total:(t==null?void 0:t.total_last_all_days)??0})})]})]})]})]})})]})}function qn({payout:t}){return e.jsx(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(lt,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(ct,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Pt,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Ue,{children:[e.jsx(je,{color:"white",children:"Amount"}),e.jsx(je,{color:"white",children:"Date"}),e.jsx(je,{color:"white",children:"Method"}),e.jsx(je,{color:"white",children:"Code"})]})}),e.jsx(dt,{children:t.map(r=>e.jsxs(Ue,{children:[e.jsxs(de,{children:["$",r.amount]}),e.jsx(de,{children:Rs(new Date(r.payout_date)).format("DD/MM/YYYY")}),e.jsx(de,{children:"Paypal"}),e.jsx(de,{children:r.payout_code})]},r.id))})]})})})}const Yn=()=>T.get("/dj/me/payout").then(t=>t.data.data),Kn=()=>Pe({queryKey:["payout"],queryFn:()=>Yn()});function Jn(){const{isOpen:t,onOpen:r,onClose:n}=tt(),{data:i}=Kn(),[c,d]=s.useState(""),[x,P]=s.useState(!1),[f,g]=s.useState(!1);s.useEffect(()=>{i!=null&&i.paypal&&d(i.paypal)},[i]);const b=async()=>{g(!0);try{await Ut(c)}catch(C){console.log(C)}finally{g(!1)}};return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:{base:"15px",md:"15px"},children:[e.jsxs(q,{gap:"10px",children:[e.jsx(_,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Payouts"}),e.jsx(p,{lineHeight:"1em",alignSelf:"flex-start",children:"View and keep track of your payouts."})]}),e.jsxs(o,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:[e.jsxs(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",w:{base:"100%",md:"60%"},flexDir:"column",children:[e.jsx(o,{bg:"#9b5de5",px:"20px",py:"6px",children:e.jsx(p,{fontSize:"18px",fontWeight:"600",color:"white",children:"Available for Payout"})}),e.jsxs(o,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:"5px",height:"100%",p:"20px",children:[e.jsx(p,{fontWeight:"600",children:"Balance"}),e.jsxs(_,{children:["$",(i==null?void 0:i.available_payout)??"0.00"]}),e.jsx(p,{children:"This is the amount you currently have in earnings, available for your next payout."})]})]}),e.jsxs(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",flexDir:"column",w:{base:"100%",md:"35%"},children:[e.jsx(o,{bg:"#111111",px:"20px",py:"8px",children:e.jsx(p,{fontSize:"18px",fontWeight:"600",color:"white",children:"Payout Account"})}),e.jsxs(o,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px",height:"100%",p:"20px",children:[e.jsx(L,{leftIcon:e.jsx(Ds,{}),bg:"#9b5de5",borderColor:"#9b5de5",color:"#ffffff",_hover:{bg:"#5DE59A",color:"#ffffff",borderColor:"#5DE59A"},children:"WITHDRAW EARNINGS"}),e.jsx(S,{type:"text",placeholder:"Enter PayPal Email",value:c,onChange:C=>d(C.target.value)}),e.jsxs(J,{gap:"10px",children:[e.jsx(kt,{checked:x,onChange:C=>P(C.target.checked)}),e.jsx(p,{children:"My email address for payouts is correct"})]}),e.jsx(L,{leftIcon:e.jsx(It,{}),_hover:x&&c?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!x||!c,isLoading:f,onClick:b,children:"LINK PAYPAL ACCOUNT"}),e.jsxs(J,{color:"#111",gap:"5px",children:[e.jsx(zs,{}),e.jsx(he,{fontWeight:"600",onClick:r,children:"View Tutorial"})]}),e.jsxs(Ls,{onClose:n,isOpen:t,isCentered:!0,children:[e.jsx(st,{}),e.jsx(As,{mx:"20px",children:e.jsxs(q,{p:"20px",gap:"15px",children:[e.jsx(l,{as:"a",position:"absolute",top:"10px",right:"10px",onClick:n,children:e.jsx(He,{fontSize:"20px"})}),e.jsx(_,{fontSize:{base:"16px",md:"20px"},lineHeight:"1em",textAlign:"center",children:"How to connect your payout account"}),e.jsx(_s,{width:"100%",height:"220px",children:e.jsx("iframe",{title:"Payout Tutorial",src:"https://www.youtube.com/embed/o3JKJlsGvFw",allowFullScreen:!0})}),e.jsxs(J,{justifyContent:"center",zIndex:"1",children:[e.jsx(he,{bg:"#9b5de5",href:"/",color:"#ffffff",fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",_hover:{bg:"#111111"},_focus:{boxShadow:"none"},children:"More Tutorials"}),e.jsxs(he,{fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",display:"flex",gap:"5px",href:"/",children:["Contact Support",e.jsx(Re,{fontSize:"12px"})]})]})]})})]})]})]})]}),e.jsxs(q,{gap:"15px",children:[e.jsx(_,{fontSize:"24px",alignSelf:"flex-start",children:"Recent Payouts"}),e.jsx(qn,{payout:(i==null?void 0:i.payouts)??[]})]})]})})]})}function Zn(){return e.jsxs(J,{justifyContent:"space-between",mt:"15px",w:{base:"100%",sm:"500px"},children:[e.jsxs(J,{gap:"4px",children:[e.jsx(vt,{fontSize:"14px"}),e.jsx(l,{as:"a",href:"/create",fontWeight:"500",fontSize:"16px",lineHeight:"1em",children:"Return to Profile"})]}),e.jsxs(Fs,{children:[e.jsx(Ws,{fontWeight:"500",children:e.jsxs(J,{gap:"6px",children:[e.jsx(l,{fontSize:"16px",lineHeight:"1em",children:"Change Post Type"}),e.jsx(Us,{fontSize:"18px",color:"#111"})]})}),e.jsxs(Ns,{children:[e.jsx(Fe,{as:"a",href:"/imagepost",children:"Image Post"}),e.jsx(Fe,{as:"a",href:"/videopost",children:"Video Post"}),e.jsx(Fe,{as:"a",href:"/audiopost",children:"Audio Post"}),e.jsx(Fe,{as:"a",href:"/tourdate",children:"Tour Date"}),e.jsx(Fe,{as:"a",href:"/product",children:"New Product"})]})]})]})}const Qn=async(t,r)=>await T.post(`/dj/event/${r}`,t),Xn=()=>{const t=ue(),r=xe(),[n,i]=s.useState(""),[c,d]=s.useState(0),[x,P]=s.useState(!1),[f,g]=s.useState(""),[b,C]=s.useState(""),[z,A]=s.useState(""),[a,v]=s.useState(""),[E,H]=s.useState(""),[F,B]=s.useState(""),[W,V]=s.useState(""),[h,M]=s.useState(null),[D,U]=s.useState(""),w=s.useRef(null),[I,$]=s.useState(!1),y=R=>{const Z=Math.round(R.loaded*100/(R.total||0));d(Z)},Y=async()=>{const R=await Le(ye.event);i(R)};s.useEffect(()=>{Y()},[]);const ne=async R=>{P(!0);try{await ke(R,n,y)}catch(Z){console.log("err",Z)}finally{P(!1),d(0)}};s.useEffect(()=>{h&&ne(h)},[h]);const ee=async()=>{var Z;const R={event_name:f,event_date:z,start_time:a,end_time:E,description:b,link_buy_tickets:D,artwork:(h==null?void 0:h.name)??"",venue:F,city:W};$(!0);try{(Z=(await Qn(R,n)).data)!=null&&Z.result&&($(!1),r({title:"Event created.",status:"success",duration:3e3,isClosable:!0}),t("/"))}catch(u){console.log("err",u)}};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:[e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(_,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Event Name"}),e.jsx(S,{type:"text",value:f,onChange:R=>g(R.target.value),placeholder:"Enter name of event"})]}),e.jsxs(m,{mb:4,isRequired:!0,children:[e.jsx(k,{children:"Event Description"}),e.jsx(be,{value:b,onChange:R=>C(R.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Release Date"}),e.jsx(S,{type:"date",value:z,onChange:R=>A(R.target.value),placeholder:"Select a date"})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Start Time"}),e.jsx(S,{type:"time",value:a,onChange:R=>v(R.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"End Time"}),e.jsx(S,{type:"time",value:E,onChange:R=>H(R.target.value)})]}),e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Venue"}),e.jsx(S,{type:"text",placeholder:"e.g. Pacha",value:F,onChange:R=>B(R.target.value)})]}),e.jsxs(m,{mb:4,isRequired:!0,children:[e.jsx(k,{children:"City / Location"}),e.jsx(S,{type:"text",placeholder:"e.g. London or Ibiza",value:W,onChange:R=>V(R.target.value)})]}),e.jsxs(m,{isRequired:!0,children:[e.jsx(k,{children:"Event Artwork"}),e.jsx(S,{ref:R=>w.current=R,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:R=>{R.target.files&&M(R.target.files[0])}})]}),x?e.jsxs(l,{mb:4,children:[e.jsxs(p,{children:["Uploading ",h==null?void 0:h.name]}),e.jsx(ve,{hasStripe:!0,value:c})]}):h?e.jsx(e.Fragment,{children:e.jsxs(o,{alignItems:"center",mb:4,children:[e.jsx(we,{cursor:"pointer",onClick:()=>{M(null),w.current&&(w.current.value="")}}),e.jsx(p,{ml:"10px",children:h==null?void 0:h.name})]})}):null,e.jsxs(m,{mb:4,isRequired:!0,children:[e.jsx(k,{children:"Link to book or buy tickets"}),e.jsx(S,{type:"url",placeholder:"https://",value:D,onChange:R=>U(R.target.value)})]}),e.jsxs(L,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:I,onClick:ee,isDisabled:!f||!b||!z||!F||!W||!h||!D,children:["CREATE EVENT"," ",e.jsx(Re,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]}),e.jsx(Zn,{})]})})]})})},er=({fan:t})=>e.jsxs(Ue,{children:[e.jsx(de,{children:t.name}),e.jsx(de,{children:t.username}),e.jsx(de,{children:t.date})]}),et=({children:t})=>e.jsx(lt,{children:e.jsxs(ct,{variant:"simple",children:[e.jsx(Pt,{children:e.jsxs(Ue,{children:[e.jsx(je,{children:"Name"}),e.jsx(je,{children:"Username"}),e.jsx(je,{children:"Joined"})]})}),e.jsx(dt,{children:t})]})});et.Row=er;const tr=t=>{const r=n=>T.get("/dj/me/fans",{params:{_start:(n-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(i=>i.data);return Ts({queryKey:["fans",t],queryFn:({pageParam:n=1})=>r(n),keepPreviousData:!0,getNextPageParam:(n,i)=>n.length>0&&n.length===t.pageSize?i.length+1:void 0})};function sr(){const[r,n]=s.useState(Wt.ALL),{data:i,fetchNextPage:c,hasNextPage:d,isLoading:x}=tr({pageSize:15,type:r}),P=()=>e.jsx(l,{height:"5rem",display:"flex",justifyContent:"center",p:2,children:e.jsx(Hs,{isIndeterminate:!0})}),f=()=>e.jsx(Ms,{dataLength:((i==null?void 0:i.pages.length)??0)*15,next:c,hasMore:d??!1,loader:e.jsx(P,{}),children:x?e.jsx(P,{}):e.jsx(et,{children:i==null?void 0:i.pages.map(g=>g.map(b=>e.jsx(et.Row,{fan:b},b.username)))})});return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",flexDirection:"column",children:e.jsxs(o,{direction:"column",maxW:"1000px",px:{base:"15px",md:"25px"},w:"100%",alignSelf:"center",gap:"15px",pt:"15px",children:[e.jsx(p,{fontSize:"28px",fontWeight:"bold",children:"Your Fans"}),e.jsxs(rt,{variant:"unstyled",bg:"white",borderRadius:"5px",overflow:"hidden",onChange:g=>{n(g)},children:[e.jsxs(ot,{bg:"#111",color:"#fff",children:[e.jsx(re,{...Te,children:"All"}),e.jsx(re,{...Te,children:"Followers"}),e.jsx(re,{...Te,children:"Gold"}),e.jsx(re,{...Te,children:"VIP"})]}),e.jsxs(it,{children:[e.jsx(oe,{p:"0",children:f()}),e.jsx(oe,{p:"0",children:f()}),e.jsx(oe,{p:"0",children:f()}),e.jsx(oe,{p:"0",children:f()})]})]})]})})]})}const Te={fontSize:"20px",fontWeight:"600",_selected:{color:"white",background:"#8338ec"}},nr=({fileType:t,tooltipDescription:r})=>e.jsx(Os,{label:r,children:e.jsx(l,{color:"#fff",bg:"#9b5de5",borderRadius:"5px",px:"5px",py:"3px",fontSize:"12px",lineHeight:"1em",children:t})}),rr=()=>{const t=[{type:"mp3",description:"MP3 audio format"},{type:"flac",description:"Free Lossless Audio Codec"},{type:"aiff",description:"Audio Interchange File Format"},{type:"aifc",description:"Compressed Audio Interchange File"},{type:"wav",description:"Waveform Audio File Format"}];return e.jsxs(q,{children:[e.jsxs(J,{children:[e.jsxs(l,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Allowed file types"}),":"]}),t.map(r=>e.jsx(nr,{fileType:r.type,tooltipDescription:r.description},r.type))]}),e.jsxs(l,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Maximum file size"}),": 1Gb"]})]})},or=async(t,r)=>await T.post(`/dj/product/audio/${r}`,t),jt=1*1024*1024*1024,Xe=10*1024*1024;function ir(){const t=ue(),r=xe(),[n,i]=s.useState(""),[c,d]=s.useState(""),[x,P]=s.useState(""),[f,g]=s.useState(null),[b,C]=s.useState(""),[z,A]=s.useState(""),[a,v]=s.useState(""),[E,H]=s.useState(""),[F,B]=s.useState(""),[W,V]=s.useState(""),[h,M]=s.useState(null),D=s.useRef(null),U=s.useRef(null),[w,I]=s.useState(!1),[$,y]=s.useState(0),[Y,ne]=s.useState(!1),[ee,R]=s.useState(0),[Z,u]=s.useState(!1),[N,ie]=s.useState(null),[O,ae]=s.useState(null),[le,Ae]=s.useState([]),fe=s.useRef(0),[Ge,Nt]=s.useState(0),Tt=j=>{const G=Math.round(j.loaded*100/(j.total||0));y(G)},Mt=j=>{const G=Math.round(j.loaded*100/(j.total||0));R(G)},Ht=async()=>{const j=await Le(ye.product);i(j)};s.useEffect(()=>{Ht()},[]);const Ot=j=>{const G=Math.ceil(j.size/Xe),ce=[];let $e=0;for(let ht=0;ht<G;ht++){const ut=Math.min($e+Xe,j.size),$t=j.slice($e,ut);ce.push($t),$e=ut}Ae(ce),Nt(G)};s.useEffect(()=>{le.length&&(O!=null&&O.name)&&pt()},[le,O]);const pt=async()=>{if(u(!0),(fe==null?void 0:fe.current)<Ge){const j=le[fe.current];try{await xt(j,n,Ge,fe.current+1,(O==null?void 0:O.name)??""),fe.current++,R(Math.round(fe.current/Ge*100)),await pt()}catch(G){console.error("Error uploading chunk:",G)}}else u(!1),R(0)},Bt=async j=>{u(!0);try{if(!j||j.size>jt)return;ae(j),j.size<=Xe?await ke(j,n,Mt):Ot(j)}catch(G){console.error("Error uploading audio:",G)}finally{u(!1),R(0)}};s.useEffect(()=>{h&&Bt(h)},[h]);const Vt=async j=>{ne(!0);try{if(!j)return;ie(j),await ke(j,n,Tt)}catch(G){console.error("Error uploading artwork:",G)}finally{ne(!1),y(0)}};s.useEffect(()=>{f&&Vt(f)},[f]);const Gt=async()=>{var G;I(!0);const j={name:c,description:x,artwork:(f==null?void 0:f.name)??"",price:b.toString(),genre:z,release_date:a,label:E,artist:F,filename:W,download:(h==null?void 0:h.name)??""};try{(G=(await or(j,n)).data)!=null&&G.result&&(r({description:"Product created",status:"success",duration:3e3,isClosable:!0}),t("/create"))}catch(ce){console.error("Error creating product:",ce)}finally{I(!1)}};return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(_,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(q,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Release Name"}),e.jsx(S,{type:"text",value:c,placeholder:"Name of Release / Track",onChange:j=>d(j.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Description"}),e.jsx(be,{value:x,placeholder:"Write something about this release",onChange:j=>P(j.target.value)})]}),e.jsxs(m,{isRequired:!0,children:[e.jsx(k,{children:"Release Artwork"}),e.jsx(S,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:j=>D.current=j,onChange:j=>{if(j.target.files){const G=j.target.files[0];g(G)}else g(null),ie(null)}})]}),Y?e.jsxs(l,{children:[e.jsxs(p,{mb:"10px",children:["Uploading ",N==null?void 0:N.name]}),e.jsx(ve,{hasStripe:!0,value:$})]}):N?e.jsxs(o,{alignItems:"center",children:[e.jsx(we,{onClick:()=>{ie(null),D.current&&(D.current.value="")}}),e.jsx(p,{ml:"10px",children:N==null?void 0:N.name})]}):null,e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Price ($ USD)"}),e.jsx(Bs,{value:b,onChange:j=>C(j),precision:2,children:e.jsx(Vs,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Genre"}),e.jsx(S,{type:"text",value:z,onChange:j=>A(j.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Release Date"}),e.jsx(S,{type:"date",value:a,placeholder:"Select a date",onChange:j=>v(j.target.value)})]}),e.jsxs(m,{isRequired:!0,mb:4,children:[e.jsx(k,{children:"Record Label"}),e.jsx(S,{type:"text",placeholder:"Name of Record Label",value:E,onChange:j=>H(j.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Featured Artists"}),e.jsx(S,{type:"text",placeholder:"All Featured Artists",value:F,onChange:j=>B(j.target.value)})]}),e.jsxs(m,{mb:4,children:[e.jsx(k,{children:"Downloadable File Name"}),e.jsx(S,{type:"text",placeholder:"e.g. song-name.wav",value:W,onChange:j=>V(j.target.value)})]}),e.jsxs(m,{isRequired:!0,children:[e.jsx(k,{children:"Downloadable Track File"}),e.jsx(S,{type:"file",accept:".mp3",border:"0px",p:"2px",ref:j=>U.current=j,onChange:j=>{var G;if(j.target.files){const ce=(G=j.target.files)==null?void 0:G[0];if(!ce)return;if(ce.size>jt){j.target.value="";return}M(ce)}else M(null),ae(null)}})]}),Z?e.jsxs(l,{children:[e.jsxs(p,{mb:"10px",children:["Uploading ",O==null?void 0:O.name]}),e.jsx(ve,{hasStripe:!0,value:ee})]}):O?e.jsxs(o,{alignItems:"center",children:[e.jsx(we,{onClick:()=>{ae(null),U.current&&(U.current.value="")}}),e.jsx(p,{ml:"10px",children:O==null?void 0:O.name})]}):null,e.jsx(rr,{}),e.jsxs(L,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:w,onClick:Gt,isDisabled:!c||!f||!b||!z||!a||!E||!h||Y||Z,children:["CREATE PRODUCT"," ",e.jsx(Re,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})}const ar=async()=>{const t=await T.get("/dj/partner_artist"),{data:r}=t;return r??[]},lr=()=>Pe({queryKey:["partner-artists"],queryFn:()=>ar()}),cr=()=>{const{data:t}=lr(),r=Object.values(t||{});return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(X,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:t&&e.jsx(lt,{children:e.jsx(ct,{variant:"simple",children:e.jsx(dt,{children:r.map(n=>e.jsxs(Ue,{children:[e.jsx(de,{children:e.jsx(Gs,{src:`https://files.djfan.app/${(n==null?void 0:n.profile_picture)??""}`,h:"full",w:"100%",maxH:"100px",objectFit:"cover",borderRadius:5})}),e.jsxs(de,{children:[e.jsx("div",{style:{paddingBottom:"10px"},children:n.display_name}),e.jsx(L,{colorScheme:"purple",size:"sm",onClick:async()=>{const i=await T.get(`/dj/loginas/${n.user_id}`),{data:c}=i;window.location.href="/",c.result?console.log(c.result):console.log(c.message)},children:"Login as"})]})]},n.id))})})})})]})},dr=$s([{path:"/",element:e.jsx(Zs,{}),errorElement:e.jsx(Qs,{}),children:[{element:e.jsx(mn,{}),path:"",children:[{path:"/",element:e.jsx(Sn,{})},{path:"/partners",element:e.jsx(cr,{})},{path:"/create",children:[{path:"",element:e.jsx(Pn,{children:e.jsx(En,{})})},{path:"/create/video",element:e.jsx(wn,{})},{path:"/create/image",element:e.jsx(Wn,{})},{path:"/create/audio",element:e.jsx(Tn,{})},{path:"/create/text",element:e.jsx(Un,{})},{path:"/create/event",element:e.jsx(Xn,{})}]},{path:"/product",element:e.jsx(ir,{})},{path:"/settings",element:e.jsx(_n,{})},{path:"/earnings",element:e.jsx($n,{})},{path:"/payouts",element:e.jsx(Jn,{})},{path:"/fans",element:e.jsx(sr,{})}]},{path:"/create-account",element:e.jsx(zt,{children:e.jsx(Ft,{})})}]}]),xr=new qs({defaultOptions:{queries:{retry:3,cacheTime:3e5,staleTime:20*1e3}}});function pr(){return e.jsx(Ys,{client:xr,children:e.jsx(Ct,{children:e.jsx(Ks,{router:dr})})})}Js.createRoot(document.getElementById("root")).render(e.jsx(bt.StrictMode,{children:e.jsx(pr,{})}));
