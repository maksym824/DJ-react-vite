import{j as e,O as yt,u as is,B as l,H as R,T as x,i as as,F as o,a as A,V as ie,I as ue,C as ne,b as se,r as s,c as ls,d as wt,e as cs,S as ds,f as ps,g as xs,h as hs,k as us,l as Ee,R as St,m as K,n as v,o as ge,p as Oe,q as Ct,s as P,t as gt,v as Be,L as me,w as fs,x as gs,y as D,P as vt,z as kt,A as Pt,U as ms,D as Fe,E as js,G as we,J as Ge,K as It,M as bs,N as Se,Q as ce,W as Dt,X as ys,Y as ws,Z as Ss,_ as Cs,$ as vs,a0 as ks,a1 as fe,a2 as Ne,a3 as Et,a4 as zt,a5 as Ps,a6 as Ve,a7 as Is,a8 as Rt,a9 as Ds,aa as rt,ab as Es,ac as He,ad as Pe,ae as Ie,af as je,ag as $e,ah as Ye,ai as At,aj as Lt,ak as _t,al as Ft,am as Wt,an as Ut,ao as ze,ap as Mt,aq as Nt,ar as zs,as as Rs,at as As,au as ot,av as it,aw as ae,ax as at,ay as le,az as Ls,aA as _s,aB as Fs,aC as Ue,aD as lt,aE as ct,aF as dt,aG as Ht,aH as Me,aI as ye,aJ as pt,aK as he,aL as Ws,aM as Us,aN as Ms,aO as Ns,aP as Hs,aQ as Ts,aR as Os,aS as Bs,aT as Gs,aU as Vs,aV as We,aW as $s,aX as Ys,aY as qs,aZ as Ks,a_ as Js,a$ as Zs,b0 as Qs,b1 as Xs,b2 as en,b3 as tn,b4 as sn,b5 as nn}from"./vendor-a46c2686.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();const rn=()=>e.jsx(e.Fragment,{children:e.jsx(yt,{})}),on=()=>{const t=is();return e.jsxs(l,{display:"flex",flexDir:"column",alignItems:"center",children:[e.jsx(R,{as:"h1",size:"md",children:"Oops..."}),e.jsx(x,{fontSize:"sm",children:as(t)?"Invalid page.":"Sorry, an unexpected error has occurred."})]})};function an(){return e.jsxs(o,{flexDirection:"column",align:"center",justify:"center",px:"20px",py:"40px",color:"#fff",gap:"15px",position:"relative",children:[e.jsx(o,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",bg:"rgba(0, 0, 0, 0.7)",zIndex:"-1"}),e.jsx(o,{bgImage:"url('https://djfan.ams3.cdn.digitaloceanspaces.com/2023/10/dj-home-cta.jpg')",bgSize:"cover",bgRepeat:"no-repeat",bgPos:"center center",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"-2"}),e.jsx(R,{fontSize:"42px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"Convert faceless followers into loyal supporters"}),e.jsx(x,{fontSize:{base:"24px",md:"28px"},lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",maxW:"900px",children:"Use paid memberships to increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."}),e.jsx(A,{mt:"10px",bg:"#fff",size:"lg",fontWeight:"700",as:"a",href:"/",children:"START FOR FREE"})]})}const ln=[{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9370782.png",name:"Text Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/imagetext.png",name:"Image Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9975051.png",name:"Private Content"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/9094095.png",name:"Gallery Posts"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/soundcloud.png",name:"Embed Audio"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/youtube-play.png",name:"Embed Video"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/2753339.png",name:"Tour Dates"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/music-file.png",name:"Upload Audio"},{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/2631012.png",name:"Sell Audio Files"}];function cn(){return e.jsx(o,{w:"100%",bg:"#111",py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:{base:"25px",md:"35px"},maxW:{base:"100%",md:"1100px"},justifyContent:"center",alignItems:"center",children:[e.jsx(R,{fontSize:{base:"24px",md:"32px"},lineHeight:"1.2em",color:"#fff",textAlign:"center",px:"35px",children:"What content can you display on your creator feed?"}),e.jsx(o,{w:{base:"90%",md:"1500px"},flexWrap:"wrap",color:"#fff",gap:"25px",align:"center",justifyContent:{base:"space-around",md:"space-between"},children:ln.map(t=>e.jsxs(ie,{w:{base:"45%",md:"unset"},gap:"20px",children:[e.jsx(ue,{src:t.src,w:{base:"60px",md:"60px"}}),e.jsx(x,{fontSize:"20px",fontWeight:"600",children:t.name})]},t.name))})]})})}const dn=[{src:"https://images.unsplash.com/flagged/photo-1569521739482-5443615d3725?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Monetise Your Audience",description:"Offer monthly memberships with exclusive content, updates, guest-list chances, playlists + more."},{src:"https://plus.unsplash.com/premium_photo-1661776849166-3d27b91449bb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80",title:"Engage Your Fanbase",description:"Nurture, reward, and grow your audience. Communicate directly and get to know your most dedicated fans."},{src:"https://images.unsplash.com/photo-1586156938613-769b0353c8fc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Create Consistency",description:"Establish a recurring revenue stream and say goodbye to inconsistent, seasonal income and stress."},{src:"https://images.unsplash.com/photo-1661966522340-a51f578e4017?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Done-For-You Setup",description:"Sit-back while we launch your fully-featured membership solution + provide ongoing support."},{src:"https://plus.unsplash.com/premium_photo-1683133991632-41cb80c0eab6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Your Fans, Your Data",description:"Maintain 100% ownership and control over customer info, audience analytics, and payment gateways."},{src:"https://images.unsplash.com/photo-1550614806-51d8db524675?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:"Flexible Payouts",description:"Unlike slow-paying venues you can pay yourself whenever you want, or receive scheduled auto payments."}];function pn(){return e.jsx(o,{flexDir:"column",alignItems:"center",py:{base:"30px",md:"50px"},children:e.jsxs(o,{flexWrap:"wrap",gap:"20px",flexDir:"row",maxW:"1100px",justifyContent:{base:"center",md:"space-between"},children:[e.jsxs(o,{bg:"linear-gradient(75deg,#8553F4, #811E86)",direction:"column",justifyContent:"center",w:{base:"90%",md:"100%"},maxW:"1100px",align:"center",py:"30px",px:{base:"20px",md:"30px"},borderRadius:"10px",color:"white",gap:{base:"0px",md:"10px"},children:[e.jsx(R,{fontSize:{base:"28px",md:"36px"},children:"Why join DJfan?"}),e.jsx(x,{textAlign:"center",pt:"6px",fontSize:{base:"18px",md:"22px"},children:"Earn monthly passive income by offering paid memberships directly to eager fans. Increase fan engagement while gaining the freedom and financial stability to focus on doing your best work."})]}),dn.map(t=>e.jsxs(ne,{borderRadius:"10px",w:{base:"90%",md:"32%"},overflow:"hidden",textAlign:"center",border:"2px solid #111",children:[e.jsx(ue,{maxH:"200px",objectFit:"cover",src:t.src}),e.jsxs(ie,{gap:"5px",px:"15px",py:{base:"15px",md:"20px"},children:[e.jsx(R,{fontSize:"20px",fontWeight:"700",children:t.title}),e.jsx(x,{w:"100%",fontSize:"16px",fontWeight:"500",children:t.description})]})]},t.title))]})})}const xn=()=>e.jsx(l,{w:"100%",backgroundImage:"url(https://djfan.ams3.cdn.digitaloceanspaces.com/2023/07/bg-dj.jpg)",display:"flex",justifyContent:"center",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},children:e.jsx(o,{maxW:{base:"100%",md:"1024px"},alignItems:"center",children:e.jsxs(ie,{w:"100%",gap:"20px",children:[e.jsx(R,{color:"white",fontSize:{base:"36px",md:"58px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Increase your income by rewarding your top fans"}),e.jsx(x,{color:"white",fontWeight:"500",fontSize:{base:"20px",md:"24px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:"We provide a membership platform for DJs where they can connect and engage with their fans and access to tools generate a consistent passive income."}),e.jsx(se,{children:e.jsx(A,{onClick:()=>{window.open("https://auth.djfan.app/auth/signupdj","_self")},children:"CREATE ACCOUNT"})})]})})}),hn=()=>e.jsx(o,{w:"100%",bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(o,{maxW:{base:"100%",md:"1024px"},justifyContent:"center",alignItems:"center",children:e.jsxs(ie,{w:"100%",gap:"20px",children:[e.jsxs(R,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:["The creator economy is valued at"," ",e.jsx("span",{style:{padding:"0px 5px",background:"cyan",color:"#111"},children:"$250 billion"})," ","and could double by 2027. ... will you be part of it?"]}),e.jsxs(x,{color:"white",fontWeight:"500",fontSize:{base:"14px",md:"14px"},maxW:{base:"100%",md:"90%"},textAlign:"center",children:["Source:"," ",e.jsx("a",{rel:"noreferrer",target:"_blank",href:"https://www.goldmansachs.com/intelligence/pages/the-creator-economy-could-approach-half-a-trillion-dollars-by-2027.html#:~:text=As%20the%20ecosystem%20grows%2C%20the,%24250%20billion%20today%2C%20Sheridan%20writes.",children:"Goldman Sachs"})]})]})})}),un=()=>{const[t,r]=s.useState(5e4),n=Math.round(.05*t*7.5);return e.jsxs(ie,{py:"30px",bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",children:[e.jsx(ue,{src:"https://djfan.ams3.cdn.digitaloceanspaces.com/2023/06/exchange-rate-1.png",width:{base:"55px",md:"75px"}}),e.jsx(R,{color:"#fff",py:"10px",fontSize:{base:"20px",md:"28px"},lineHeight:{base:"1em",md:"1em"},textAlign:"center",children:"Calculate Potential Creator Earnings"}),e.jsxs(ie,{bg:"#111",borderRadius:"lg",boxShadow:"xl",py:"20px",w:{base:"90%",md:"500px"},overflow:"hidden",border:"2px solid cyan",children:[e.jsx(R,{color:"#fff",fontSize:{base:"18px",md:"20px"},mb:"10px",lineHeight:{base:"1.2em",md:"1em"},textAlign:"center",children:"How many followers do you have?"}),e.jsxs(se,{color:"white",justifyContent:"flex-start",w:"100%",maxW:"80%",children:[e.jsx(ls,{}),e.jsx(wt,{}),e.jsx(cs,{})," ",e.jsx(R,{size:"26px",color:"white",children:t})]}),e.jsxs(ds,{maxW:"80%","aria-label":"Number of Users",value:t,min:1e4,max:2e5,onChange:i=>r(i),defaultValue:5e4,children:[e.jsx(ps,{children:e.jsx(xs,{})}),e.jsx(hs,{boxSize:4,borderColor:"gray.400",borderWidth:1})]}),e.jsx(o,{children:e.jsxs(l,{color:"white",fontSize:"20px",children:["Earn an extra"," ",e.jsxs("span",{style:{color:"cyan",fontWeight:"600"},children:["$",n]})," ","per month"]})})]})]})};function fn(){return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(l,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(ue,{id:"logo",w:"120px",src:"https://creators.djfan.app/wp-content/uploads/2023/04/djfan-email.png"}),e.jsx(A,{onClick:()=>{window.open("https://auth.djfan.app/auth/signindj","_self")},children:"SIGN IN"})]})})}),e.jsx(xn,{}),e.jsx(un,{}),e.jsx(pn,{}),e.jsx(cn,{}),e.jsx(hn,{}),e.jsx(an,{}),e.jsx(o,{py:"15px",fontSize:"12px",justifyContent:"center",bg:"#111",color:"#fff",children:"© 2023 DJfan Ltd. 1 Quality Court, Chancery Lane, London, WC2A 1HR"})]})}const gn=({to:t})=>(console.log(t),e.jsx(fn,{})),W=us.create({baseURL:"https://api-dj.djfan.app",withCredentials:!0}),mn=()=>W.get("/dj/me").then(t=>t.data.result),Ce=()=>Ee({queryKey:["userAccount"],queryFn:()=>mn()}),Tt=t=>W.post("/dj/me",t),jn=()=>W.get("/dj/me/change_email"),bn=()=>W.get("/dj/me/reset_password"),yn=()=>W.delete("/dj/me/delete_account"),wn=t=>{const r=()=>W.get(`/dj/me/profile_url/${t}`).then(n=>n.data.result);return Ee({queryKey:["usernameCheck"],queryFn:()=>r()})},Ot=()=>{const t=()=>{window.open("https://auth.djfan.app/auth/signout","_self")};return e.jsx(A,{onClick:t,children:"Sign Out"})},Sn=()=>W.get("/dj/me/details").then(t=>t.data.result),Re=()=>Ee({queryKey:["user"],queryFn:()=>Sn()}),ke=t=>W.post("/dj/me/details",t);function Cn(){const{data:t,isLoading:r}=Re(),n=!!(t!=null&&t.profile_picture);return r?e.jsx("div",{children:"Loading..."}):(n||(window.location.href="/create-account"),e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",children:[e.jsx(l,{as:"nav",role:"navigation",position:"sticky",top:"0",zIndex:"docked",bg:"bg-accent",w:"100%",children:e.jsx(o,{bg:"black",borderBottom:"1px solid #ffffff",w:"100%",display:"flex",children:e.jsx(o,{w:"100%",alignItems:"center",px:{base:"10px",md:"0px"},py:"10px",justifyContent:"center",children:e.jsx(ue,{id:"logo",w:"120px",src:"https://creators.djfan.app/wp-content/uploads/2023/04/djfan-email.png"})})})}),e.jsx(o,{w:"100%",flexGrow:1,bg:"purple.600",px:{base:"15px",md:"10px"},py:{base:"30px",md:"50px"},justifyContent:"center",children:e.jsx(o,{w:"100%",justifyContent:"center",alignItems:"center",children:e.jsxs(ie,{w:"100%",gap:"20px",children:[e.jsx(R,{color:"white",fontSize:{base:"36px",md:"32px"},lineHeight:"1.2em",maxW:{base:"100%",md:"90%"},textAlign:"center",children:"Your profile is being reviewed"}),e.jsx(Ot,{})]})})})]}))}const Bt=s.createContext({}),Gt=({children:t})=>{const[r,n]=s.useState(""),[i,c]=s.useState(""),[d,a]=s.useState(""),[u,h]=s.useState(""),[b,y]=s.useState(""),[C,w]=s.useState(""),[I,p]=s.useState(""),[k,m]=s.useState(""),[U,M]=s.useState(""),[B,H]=s.useState(""),[q,g]=s.useState(""),[F,E]=s.useState(null),[T,$]=s.useState(null),[L,Y]=s.useState(""),[f,_]=s.useState("");return e.jsx(Bt.Provider,{value:{displayName:r,firstName:i,lastName:d,username:u,shortBio:b,location:C,country:I,countryCode:k,instagram:U,soundcloud:B,website:q,profileImage:F,coverImage:T,profilePreview:L,coverPreview:f,setDisplayName:n,setFirstName:c,setLastName:a,setUsername:h,setShortBio:y,setLocation:w,setCountry:p,setCountryCode:m,setInstagram:M,setSoundcloud:H,setWebsite:g,setProfileImage:E,setCoverImage:$,setProfilePreview:Y,setCoverPreview:_},children:t})},Ae=()=>{const t=St.useContext(Bt);if(t===void 0)throw new Error("useCreateAccountContext must be used within a CreateAccountContextProvider");return t},vn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},kn=()=>{const{displayName:t,firstName:r,lastName:n,setDisplayName:i,setFirstName:c,setLastName:d}=Ae();return e.jsxs(K,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(R,{mb:"5px",fontSize:"20px",children:"Welcome to DJfan"}),e.jsx(R,{fontSize:"14px",fontWeight:"500",children:"Add your names to complete your account."})]}),e.jsx(v,{children:e.jsxs(ge,{children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(Ct,{color:"#111"})}),e.jsx(P,{type:"text",placeholder:"Artist Name",value:t,onChange:a=>i(a.target.value)})]})}),e.jsx(v,{children:e.jsxs(ge,{children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(gt,{color:"#111"})}),e.jsx(P,{type:"text",placeholder:"First Name",value:r,onChange:a=>c(a.target.value)})]})}),e.jsxs(v,{children:[e.jsxs(ge,{children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(gt,{color:"#111"})}),e.jsx(P,{type:"text",placeholder:"Last Name",value:n,onChange:a=>d(a.target.value)})]}),e.jsx(x,{...vn,children:"100% Privacy. Only your DJ name will be public."})]})]})},Pn=()=>{const{username:t,setUsername:r}=Ae(),[n,i]=s.useState(!1),{data:c={},refetch:d}=wn(t),a=s.useMemo(()=>/^[a-zA-Z0-9\-_]{3,50}$/.test(t)?!!c:!1,[t,c]),u=h=>{let b=h.target.value;const y=/[^a-z0-9\-_]/;b=b.toLowerCase(),b=b.replace(y,""),b=b.substring(0,50),r(b)};return s.useEffect(()=>{t&&t.length>2&&d()},[t]),e.jsxs(K,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(R,{mb:"5px",fontSize:"20px",children:"Choose a Username"}),e.jsx(R,{fontSize:"14px",fontWeight:"500",children:"Your username creates your profile page link"})]}),e.jsx(v,{children:e.jsxs(ge,{size:"md",children:[e.jsx(Be,{children:"djfan.app/artists/"}),e.jsx(P,{type:"text",id:"username",placeholder:"username",value:t,onChange:u,isInvalid:n&&!a,focusBorderColor:!n||t.length===0?"black.500":a?"green.500":"red.500",onFocus:()=>i(!0)})]})})]})},In=()=>{const{instagram:t,soundcloud:r,website:n,setInstagram:i,setSoundcloud:c,setWebsite:d}=Ae();return e.jsxs(K,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(R,{mb:"5px",fontSize:"20px",children:"Add Profile Links"}),e.jsx(R,{fontSize:"14px",fontWeight:"500",children:"Link to your website & other social profiles"})]}),e.jsxs(v,{children:[e.jsx(l,{border:"2px solid #3e0080",overflow:"hidden",borderRadius:"5px",children:e.jsxs(ge,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(Be,{bgGradient:"linear(to-r,#5c03bc, #e536ab)",...Ze,children:e.jsx(wt,{fontSize:"24px",color:"white"})}),e.jsx(P,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Instagram Username",focusBorderColor:"#ffffff00",onChange:a=>i(a.target.value)})]})}),t&&e.jsxs(me,{href:`https://instagram.com/${t}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["instagram.com/",e.jsx("b",{children:t})]})]}),e.jsxs(v,{children:[e.jsx(l,{border:"2px solid #FF5500",overflow:"hidden",borderRadius:"5px",children:e.jsxs(ge,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(Be,{bg:"#FF5500",...Ze,children:e.jsx(fs,{fontSize:"25px",color:"white"})}),e.jsx(P,{type:"text",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"SoundCloud Username",focusBorderColor:"#ffffff00",onChange:a=>c(a.target.value)})]})}),r&&e.jsxs(me,{href:`https://soundcloud.com/${r}`,target:"_blank",rel:"noopener noreferrer",pt:"10px",display:"flex",pl:"10px",children:["soundcloud.com/",e.jsx("b",{children:r})]})]}),e.jsxs(v,{children:[e.jsx(l,{border:"2px solid #111",overflow:"hidden",borderRadius:"5px",children:e.jsxs(ge,{overflow:"hidden",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",children:[e.jsx(Be,{bg:"#fff",...Ze,borderRight:"2px solid #111",children:e.jsx(gs,{fontSize:"20px",color:"#111"})}),e.jsx(P,{type:"url",borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",placeholder:"Website e.g. artistname.com",focusBorderColor:"#ffffff00",onChange:a=>d(a.target.value)})]})}),n&&e.jsxs(l,{as:"span",pt:"10px",display:"flex",pl:"10px",children:["Website: ",e.jsxs(me,{href:`https://${n}`,target:"_blank",rel:"noopener noreferrer",_hover:{textDecoration:"underline"},children:["https://",e.jsx("b",{children:n})]})]})]})]})},Ze={borderRadius:"0px",borderWidth:"0",borderColor:"#ffffff00",p:"0px 2px 0px 0px",width:"40px",justifyContent:"center"},Vt=async()=>{const t=await W.get("/dj/countries"),{data:r}=t;return r??[]},Dn=()=>{const[t,r]=s.useState([]),{setCountry:n,shortBio:i,setShortBio:c,location:d,setLocation:a,countryCode:u,setCountryCode:h}=Ae();return s.useEffect(()=>{Vt().then(b=>{r(b)})},[]),e.jsxs(K,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(R,{mb:"5px",fontSize:"20px",children:"Basic Profile Information"}),e.jsx(l,{fontSize:"14px",fontWeight:"500",children:"You can edit all of these later"})]}),e.jsxs(v,{children:[e.jsx(D,{children:"Short Bio"}),e.jsx(P,{type:"text",placeholder:"e.g. DJ & Producer",value:i,onChange:b=>c(b.target.value)}),e.jsxs(vt,{children:[e.jsx(kt,{children:e.jsx(l,{...En,color:"#a600ff",cursor:"pointer",textDecoration:"underline",children:"More Examples"})}),e.jsxs(Pt,{_focus:{boxShadow:"none"},children:[e.jsxs(K,{p:"15px",children:[e.jsx(R,{fontSize:"15px",fontWeight:"600",children:"Make it short & sweet!"}),e.jsxs(ms,{fontSize:"13px",children:[e.jsx(Fe,{children:"Label Owner & Artist"}),e.jsx(Fe,{children:"A wild Artist from Ibiza"}),e.jsx(Fe,{children:"Electronic Musician"}),e.jsx(Fe,{children:"Label Owner & Producer"}),e.jsx(Fe,{children:"Turntablist & Sound Curator"})]})]}),e.jsx(js,{})]})]})]}),e.jsxs(v,{children:[e.jsx(D,{children:"Main Location"}),e.jsx(P,{type:"text",placeholder:"e.g. Ibiza or London",value:d,onChange:b=>a(b.target.value)})]}),e.jsxs(v,{children:[e.jsx(D,{children:"Where are you from?"}),e.jsx(we,{placeholder:"Select Country",value:u,onChange:b=>{const y=b.target.value,C=y?(t.find(w=>w.country_code===y)||{}).country:"";n(C??""),h(y)},children:t.map((b,y)=>e.jsx("option",{value:b.country_code,children:b.country},y))})]})]})},En={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},$t=t=>{const r=new FormData;return r.append("image",t),W.post("/dj/me/profile_picture",r)},Yt=t=>{const r=new FormData;return r.append("image",t),W.post("/dj/me/cover_photo",r)},zn={fontSize:"12px",lineHeight:"1em",pt:"10px",pl:"10px"},Rn=()=>{const{profileImage:t,setProfileImage:r,coverImage:n,setCoverImage:i,profilePreview:c,setProfilePreview:d,coverPreview:a,setCoverPreview:u}=Ae(),h=p=>{if(!p.target.files)return;const k=p.target.files[0];if(k){r(k);const m=new FileReader;m.readAsDataURL(k),m.onloadend=()=>{d(m.result)}}},b=p=>{if(!p.target.files)return;const k=p.target.files[0];if(k){i(k);const m=new FileReader;m.readAsDataURL(k),m.onloadend=()=>{u(m.result)}}},y=()=>{r(null),d("")},C=()=>{i(null),u("")},w=async()=>{try{await $t(t)}catch(p){console.log(p)}},I=async()=>{try{await Yt(n)}catch(p){console.log(p)}};return s.useEffect(()=>{t&&w()},[t]),s.useEffect(()=>{n&&I()},[n]),e.jsxs(K,{bg:"#fff",pt:"20px",pb:"20px",px:"20px",gap:"15px",children:[e.jsxs(l,{textAlign:"center",children:[e.jsx(R,{mb:"5px",fontSize:"20px",children:"Profile & Cover Photos"}),e.jsx(R,{fontSize:"14px",fontWeight:"500",children:"Finally, let's add some photos!"})]}),e.jsxs(v,{children:[e.jsx(D,{children:"Upload Profile Avatar"}),e.jsx(se,{position:"relative",children:e.jsxs("label",{children:[e.jsx(P,{type:"file",accept:"image/*",onChange:h,style:{display:"none"}}),e.jsx(A,{as:"span",children:"Select Image"})]})})]}),e.jsxs(v,{children:[e.jsx(D,{children:"Upload Cover Photo"}),e.jsx(se,{position:"relative",children:e.jsxs("label",{children:[e.jsx(P,{type:"file",accept:"image/*",onChange:b,style:{display:"none"}}),e.jsx(A,{as:"span",children:"Select Image"})]})})]}),e.jsxs(l,{position:"relative",mt:"2",children:[e.jsxs(K,{py:"30px",alignItems:"center",position:"relative",bgImage:a,bgSize:"cover",bgColor:"grey",bgRepeat:"no-repeat",bgPos:"center",opacity:"0.7",children:[a&&e.jsx(l,{zIndex:"10","aria-label":"Remove image",position:"absolute",bg:"black",top:"10px",right:"10px",onClick:C,borderRadius:"100%",p:"2px",children:e.jsx(Ge,{color:"white"})}),e.jsxs(ie,{position:"relative",children:[c&&e.jsx(l,{"aria-label":"Remove image",position:"absolute",bg:"black",top:"-5px",right:"-15px",onClick:y,borderRadius:"100%",p:"2px",children:e.jsx(Ge,{color:"white"})}),e.jsx(It,{bg:"black",src:c,showBorder:!0,borderColor:"cyan",size:"lg"})]})]}),e.jsx(x,{...zn,children:"Begin uploading to preview your profile images."})]})]})},mt={transform:"scale(0.85) translateY(-24px)"},An=bs({components:{Form:{variants:{floating:{container:{_focusWithin:{label:{...mt}},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label, textarea:not(:placeholder-shown) ~ label":{...mt},label:{top:0,left:25,zIndex:2,position:"absolute",backgroundColor:"white",pointerEvents:"none",mx:3,px:1,my:2,transformOrigin:"left top"}}}}}}});function qt(){const{refetch:t}=Re(),r=Se(),n=ce(),[i,c]=s.useState(1),[d,a]=s.useState(20),u=[{title:"1",description:"Names"},{title:"2",description:"Username"},{title:"3",description:"Basics"},{title:"4",description:"Links"},{title:"5",description:"Photos"}],{displayName:h,firstName:b,lastName:y,username:C,shortBio:w,country:I,countryCode:p,location:k,instagram:m,soundcloud:U,website:M,profileImage:B,coverImage:H}=Ae(),[q,g]=s.useState(!1),F=i===1&&!!h&&!!b&&!!y,E=i===2&&!!C&&C.length>2,T=i===3&&!!w&&!!I&&!!p&&!!k,$=i===4&&!!m&&!!U&&!!M,L=i===5&&!!B&&!!H,Y=async()=>{switch(i){case 1:if(!F)break;g(!0);try{await Tt({first_name:b,last_name:y}),await ke({display_name:h}),c(i+1),a(d+20)}catch(f){console.log(f)}finally{g(!1)}break;case 2:if(!E)break;g(!0);try{await ke({profile_url:C}),c(i+1),a(d+20)}catch(f){console.log(f)}finally{g(!1)}break;case 3:if(!T)break;g(!0);try{await ke({title:w,location:k,country:I,country_code:p}),c(i+1),a(d+20)}catch(f){console.log(f)}finally{g(!1)}break;case 4:if(!$)break;g(!0);try{await ke({instagram:m,soundcloud:U,website:M}),c(i+1),a(d+20)}catch(f){console.log(f)}finally{g(!1)}break}};return e.jsx(Dt,{theme:An,children:e.jsxs(o,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",minHeight:"100vh",flexDirection:"column",children:[e.jsxs(o,{bg:"#111",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",position:"relative",children:[e.jsx(se,{maxW:"1000px",p:"10px",pr:"15px",bg:"#111",justifyContent:"space-between",children:e.jsx(l,{as:"a",href:"/",children:e.jsx(ue,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})})}),e.jsx(l,{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",children:e.jsx(Ot,{})})]}),e.jsxs(ie,{pt:"20px",children:[e.jsx(K,{pb:"10px",children:e.jsx(ys,{size:"sm",index:i-1,children:u.map((f,_)=>e.jsxs(ws,{children:[e.jsx(Ss,{children:e.jsx(Cs,{complete:e.jsx(vs,{})})}),e.jsx(ks,{})]},_))})}),e.jsxs(l,{width:"100%",bg:"#fff",maxWidth:"400px",as:"form",overflow:"hidden",display:"flex",flexDirection:"column",borderRadius:"10px",border:"solid 2px cyan",children:[i===1?e.jsx(kn,{}):i===2?e.jsx(Pn,{}):i===3?e.jsx(Dn,{}):i===4?e.jsx(In,{}):e.jsx(Rn,{}),e.jsx(l,{position:"relative",bgColor:"#111",p:"15px",borderTop:"2px solid cyan",children:e.jsxs(o,{w:"100%",bgColor:"#111",justifyContent:i===1?"flex-end":"space-between",children:[e.jsx(A,{onClick:()=>{c(i-1),a(d-20)},isDisabled:i===1,bg:"#fff",color:"#111",w:"7rem",display:i===1?"none":"block",children:"Back"}),i!==5?e.jsx(A,{w:"7rem",isDisabled:i===1&&!F||i===2&&!E||i===3&&!T||i===4&&!$,onClick:Y,bg:"#fff",color:"#111",variant:"solid",opacity:"1",isLoading:q,children:"Continue"}):e.jsx(A,{w:"7rem",colorScheme:"green",variant:"solid",isDisabled:!L,onClick:async()=>{await t(),n({title:"Account created.",description:"We've created your account for you.",status:"success",duration:3e3,isClosable:!0}),r("/")},children:"FINISH"})]})})]})]})]})})}const Ln=()=>{const{data:t,isLoading:r}=Ce(),n=(t==null?void 0:t.dj)||!1;return r?e.jsx(e.Fragment,{}):t?n==!0&&!(t!=null&&t.profile_active)?t!=null&&t.profile_done?e.jsx(Cn,{}):e.jsx(Gt,{children:e.jsx(qt,{})}):e.jsx(yt,{}):e.jsx(gn,{to:"https://auth.djfan.app/auth/signindj"})},oe=({href:t,text:r})=>e.jsx(l,{as:"a",href:t,display:"flex",fontWeight:"500",_hover:{color:"#bf0fff"},children:r}),_n=()=>{var d,a;const{data:t}=Ce(),r=(t==null?void 0:t.dj)||!1,n=(t==null?void 0:t.admin)||((d=t==null?void 0:t.me)==null?void 0:d.admin)||!1,i=(t==null?void 0:t.partner)||((a=t==null?void 0:t.me)==null?void 0:a.partner)||!1,c=(t==null?void 0:t.loginas)||!1;return e.jsxs(e.Fragment,{children:[c&&e.jsx(l,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:c?"pointer":"not-allowed",onClick:async()=>{await W.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"}),(i||n)&&!c&&e.jsx(l,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#345678",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:"pointer",onClick:async()=>{window.location.href="/partners"},children:"Partners"}),e.jsxs(l,{as:"a",href:"/settings",display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#6b46c1",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},children:[e.jsx(Ct,{}),"Return to Profile"]}),e.jsxs(K,{px:"20px",py:"20px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Create"}),e.jsx(oe,{href:"/create/image",text:"Image Post"}),e.jsx(oe,{href:"/create/video",text:"Video Post"}),e.jsx(oe,{href:"/create/audio",text:"Audio Post"}),e.jsx(oe,{href:"/create/event",text:"Tour Date"}),e.jsx(oe,{href:"/product",text:"Product"}),e.jsx(oe,{href:"/create/text",text:"Text Post"}),e.jsx(l,{py:"10px",children:e.jsx(fe,{borderColor:"#6b46c1"})}),e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Insights"}),e.jsx(oe,{href:"/fans",text:"Your Fans"}),e.jsx(l,{py:"10px",children:e.jsx(fe,{borderColor:"#6b46c1"})}),(!c||n)&&e.jsxs(e.Fragment,{children:[e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Income"}),e.jsx(oe,{href:"/payouts",text:"Payouts"}),e.jsx(oe,{href:"/earnings",text:"Earnings"})]}),e.jsx(oe,{href:"/invitations",text:"Invitations"}),e.jsx(l,{py:"10px",children:e.jsx(fe,{borderColor:"#6b46c1"})}),e.jsx(l,{fontSize:"18px",fontWeight:"600",color:"#6b46c1",children:"Settings"}),e.jsx(oe,{href:"/settings",text:"Account"})]}),e.jsx(l,{fontSize:"16px",fontWeight:"500",cursor:"pointer",onClick:()=>{window.open("https://auth.djfan.app/auth/signout","_self")},children:"Sign Out"})]}),c&&e.jsx(l,{display:"flex",alignItems:"center",gap:"5px",fontWeight:"500",boxShadow:"unset",_hover:{bg:"#bf0fff"},bg:"#123456",color:"#fff",py:"10px",justifyContent:"center",_focus:{boxShadow:"unset"},fontSize:"16px",cursor:c?"pointer":"not-allowed",onClick:async()=>{await W.get("/dj/logoutas"),window.location.href="/"},children:"Sign Out As"})]})},re=()=>{const{data:t}=Ce(),{isOpen:r,onOpen:n,onClose:i}=Ne();return e.jsx(l,{children:e.jsx(o,{bgGradient:"linear(to-r, #0e0725, #5c03bc, #e536ab)",borderBottom:"1px solid #ffffff",w:"100%",justifyContent:"center",py:"5px",children:e.jsxs(o,{w:"100%",maxW:"1000px",alignItems:"center",justifyContent:"space-between",p:"10px",pr:"15px",children:[e.jsx(o,{w:"30%",justifyContent:"flex-start",display:{base:"none",md:"flex"},children:e.jsxs(o,{as:"a",href:"/",color:"#fff",lineHeight:"1em",gap:"5px",fontWeight:"600",fontSize:"18px",py:"5px",alignItems:"center",_hover:{color:"cyan"},children:[e.jsx(Et,{fontSize:"12px"}),"View Profile"]})}),e.jsxs(o,{w:"60%",justifyContent:{base:"flex-start",md:"center"},children:[!(t!=null&&t.loginas)&&e.jsx(l,{as:"a",href:"/",children:e.jsx(ue,{id:"logo",w:"120px",src:"https://media.djfan.app/images/djfan-logo-beta.png"})}),(t==null?void 0:t.loginas)&&e.jsx(x,{fontSize:"16",color:"#FFF",paddingLeft:5,children:(t==null?void 0:t.username)&&(t==null?void 0:t.username.toString().substring(0,28))})]}),e.jsx(o,{w:"30%",justifyContent:"flex-end",children:e.jsx(l,{as:"a",onClick:n,color:"#fff",cursor:"pointer",children:e.jsx(zt,{viewBox:"0 0 24 24",width:"30px",height:"30px",color:"white",_hover:{width:"35px",height:"35px"},transition:"all 0.3s ease-in-out",children:e.jsx("path",{fill:"currentColor",d:"M0,4c0-.55,.45-1,1-1H18c.55,0,1,.45,1,1s-.45,1-1,1H1c-.55,0-1-.45-1-1Zm18,15H1c-.55,0-1,.45-1,1s.45,1,1,1H18c.55,0,1-.45,1-1s-.45-1-1-1Zm5-8H6c-.55,0-1,.45-1,1s.45,1,1,1H23c.55,0,1-.45,1-1s-.45-1-1-1Z"})})})}),e.jsxs(Ps,{isOpen:r,placement:"right",onClose:i,children:[e.jsx(Ve,{}),e.jsx(Is,{p:"0",maxW:{base:"50%",md:"220px"},id:"content",children:e.jsxs(Rt,{p:"0",children:[e.jsxs(se,{bg:"#111",p:"15px",justifyContent:"space-between",children:[e.jsx(l,{color:"#fff",fontWeight:"600",fontSize:"18px",children:"Creator Menu"}),e.jsx(l,{as:"a",href:"",onClick:i,right:"15px",top:"15px",cursor:"pointer",color:"#fff",_hover:{color:"#5c03bc"},children:e.jsx(Ge,{fontSize:"18px"})})]}),e.jsx(_n,{})]})})]})]})})})},Fn=[{text:"Create Post",imageUrl:"https://files.djfan.app/images/create.webp",linkUrl:"/create"},{text:"Create Product",imageUrl:"https://files.djfan.app/images/product.webp",linkUrl:"/product"},{text:"Earnings",imageUrl:"https://files.djfan.app/images/earnings.webp",linkUrl:"/earnings"},{text:"My Fans",imageUrl:"https://files.djfan.app/images/fans.webp",linkUrl:"/fans"},{text:"Settings",imageUrl:"https://files.djfan.app/images/settings.webp",linkUrl:"/settings"},{text:"Invitations",imageUrl:"https://files.djfan.app/images/invitations.webp",linkUrl:"/invitations"},{text:"Partners",imageUrl:"https://files.djfan.app/images/partners.webp",linkUrl:"/partners"}];function Wn(){var d,a;const{data:t}=Ce(),r=(t==null?void 0:t.dj)||!1,n=(t==null?void 0:t.admin)||((d=t==null?void 0:t.me)==null?void 0:d.admin)||!1,i=(t==null?void 0:t.partner)||((a=t==null?void 0:t.me)==null?void 0:a.partner)||!1,c=(t==null?void 0:t.loginas)||!1;return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",children:e.jsx(o,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:Fn.reduce(function(u,h){if(c){if(!n&&h.text=="Earnings"||h.text=="Partners")return u}else if((i||n)&&!r&&h.text!="Partners")return u;return u.push({text:h.text,imageUrl:h.imageUrl,linkUrl:h.linkUrl}),u},[]).map((u,h)=>e.jsx(me,{href:(u==null?void 0:u.linkUrl)??"/",w:{base:"100%",md:"30%"},children:e.jsx(l,{w:{base:"100%",md:"100%"},h:"150px",bgImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${u.imageUrl})`,bgPos:"center",bgSize:"cover",borderRadius:"10px",position:"relative",children:e.jsx(Ds,{h:"100%",children:e.jsx(x,{fontSize:"24px",color:"white",fontWeight:"600",children:u.text})})})},h))})})})]})}const Le=async t=>{const r=await W.get(`/dj/post/token?_post_type=${t}`),{data:{data:n}}=r;return n.post_token?n.post_token:""},De=async(t,r,n)=>{const i={onUploadProgress:n},c=new FormData;return c.append("file",t),await W.post(`/dj/post/${r}/upload`,c,i)},xt=async(t,r,n,i,c)=>{if(!r)return;const d=new FormData;d.append("file",t),await W.post(`/dj/post/${r}/upload/large`,d,{headers:{"Content-Type":"multipart/form-data","File-Total-Chunks":n.toString(),"File-Chunk-Number":i.toString(),"File-Name":c}})};var X=(t=>(t[t.EVERYONE=1]="EVERYONE",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(X||{}),J=(t=>(t[t.EMBED=1]="EMBED",t[t.UPLOAD=0]="UPLOAD",t))(J||{}),xe=(t=>(t[t.SINGLE=1]="SINGLE",t[t.MULTIPLE=2]="MULTIPLE",t))(xe||{}),ve=(t=>(t.image="image",t.video="video",t.audio="audio",t.text="text",t.product="product",t.event="event",t))(ve||{}),Kt=(t=>(t[t.ALL=0]="ALL",t[t.FOLLOWERS=1]="FOLLOWERS",t[t.GOLD=2]="GOLD",t[t.VIP=3]="VIP",t))(Kt||{});const qe=async(t,r)=>await W.post(`/dj/post/${r}`,t),Un=1024*1024*1024,Qe=10*1024*1024,Mn=()=>{const[t,r]=s.useState(J.UPLOAD),{getRootProps:n,getInputProps:i,isDragActive:c,acceptedFiles:d}=rt({accept:{"video/*":[".mkv",".3gpp",".webm",".avi",".mp4",".mov"]}}),a=Se(),u=ce(),[h,b]=s.useState(""),[y,C]=s.useState(0),[w,I]=s.useState(!1),[p,k]=s.useState(null),[m,U]=s.useState(void 0),[M,B]=s.useState(""),[H,q]=s.useState(""),[g,F]=s.useState([]),E=s.useRef(0),[T,$]=s.useState(0),[L,Y]=s.useState(!1),f=j=>{const N=Math.round(j.loaded*100/(j.total||0));C(N)},_=async()=>{const j=await Le(ve.video);b(j)};s.useEffect(()=>{_()},[]),s.useEffect(()=>{d.length&&h.length&&z()},[d]);const G=j=>{const N=Math.ceil(j.size/Qe),Q=[];let V=0;for(let de=0;de<N;de++){const pe=Math.min(V+Qe,j.size),_e=j.slice(V,pe);Q.push(_e),V=pe}F(Q),$(N)},Z=async()=>{if(I(!0),(E==null?void 0:E.current)<T){const j=g[E.current];try{await xt(j,h,T,E.current+1,(p==null?void 0:p.name)??""),E.current++,C(Math.round(E.current/T*100)),await Z()}catch(N){console.error("Error uploading chunk:",N)}}else I(!1),C(0),F([]),E.current=0};s.useEffect(()=>{g.length&&(p!=null&&p.name)&&Z()},[g,p]);const z=async()=>{I(!0);try{const j=d[0];if(j.size>Un)return;if(k(d[0]),j.size<=Qe){const N=await De(d[0],h,f),{data:Q}=N;console.log("data",Q),Q.result||u({description:Q.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else G(j)}catch(j){console.log(j)}finally{I(!1),C(0)}},ee=async()=>{const j={body:M,accesslevel_id:m};t===J.EMBED?(j.embedded=1,j.location=H):(j.embedded=0,j.files=[(p==null?void 0:p.name)??""]),Y(!0);try{await qe(j,h),u({description:"Post created",status:"success",duration:3e3,isClosable:!0}),a("/")}catch(N){console.log("err",N)}finally{Y(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Es,{}),e.jsx(x,{fontWeight:"bold",ml:2,children:"Create Video Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(x,{my:"10px",children:"Select video post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===J.EMBED?"#a37cf0":"white",onClick:()=>r(J.EMBED),children:"Embed Video"}),e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===J.UPLOAD?"#a37cf0":"white",onClick:()=>r(J.UPLOAD),children:"Upload Video"}),w&&e.jsx(l,{padding:4,children:e.jsx(He,{})})]}),t===J.UPLOAD?e.jsxs(l,{mt:"20px",children:[e.jsxs(l,{border:c?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:c?"#f5f5f5":"white",...n(),children:[e.jsx("input",{...i()}),e.jsx(x,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are avi, mp4, mov. Max file size 1Gb."})]}),w?e.jsxs(l,{mt:"10px",children:[e.jsxs(x,{mb:"10px",children:["Uploading ",p==null?void 0:p.name]}),e.jsx(Pe,{hasStripe:!0,value:y})]}):p?e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(Ie,{onClick:()=>k(null)}),e.jsx(x,{ml:"10px",children:p==null?void 0:p.name})]}):null]}):e.jsx(l,{mt:"10px",children:e.jsx(P,{mt:"10px",placeholder:"Enter URL",value:H,onChange:j=>q(j.target.value)})}),e.jsx(je,{mt:"20px",placeholder:"Write something about this post",value:M,onChange:j=>B(j.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(x,{children:"Who can view this post?"}),e.jsxs(we,{mt:"10px",placeholder:"Select privacy option",onChange:j=>U(j.target.value),children:[e.jsx("option",{value:X.EVERYONE,children:"Everyone"}),e.jsx("option",{value:X.GOLD,children:"GOLD"}),e.jsx("option",{value:X.VIP,children:"VIP"})]})]}),e.jsx(l,{mt:"20px",children:e.jsx(x,{children:"Keep in mind that it my take up to several of minutes to get your post ready for publication, it depends on size, encoding & workload."})}),m&&(t===J.UPLOAD?p:H)&&M&&!w?e.jsx(A,{isLoading:L,mt:"20px",colorScheme:"purple",onClick:ee,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>a("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(x,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>a("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ye,{}),e.jsx(x,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Nn=t=>{const r=n=>W.get("/dj/posts",{params:{_start:(n-1)*t.pageSize,_limit:t.pageSize}}).then(i=>i.data.result);return At({queryKey:["posts",t],queryFn:({pageParam:n=1})=>r(n),keepPreviousData:!0,getNextPageParam:(n,i)=>n.length>0&&n.length===t.pageSize?i.length+1:void 0})},Hn=(t,r)=>W.patch(`/dj/post/${t}`,r),Tn=t=>W.delete(`/dj/post/${t}`),jt=t=>{const r=Math.floor((new Date().getTime()-Date.parse(t))/1e3);let n=Math.floor(r/31536e3);return n>1?n+" years ago":(n=Math.floor(r/2592e3),n>1?n+" months ago":(n=Math.floor(r/86400),n>1?n+" days ago":(n=Math.floor(r/3600),n>1?n+" hours ago":(n=Math.floor(r/60),n>1?n+" minutes ago":r<10?"just now":Math.floor(r)+" seconds ago"))))},On=()=>e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#111",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"25px",w:"100%",maxW:"600px",pt:"25px",px:"15px",children:[e.jsx(x,{color:"#fff",lineHeight:"1em",fontSize:"28px",fontWeight:"600",textAlign:"center",w:"100%",children:"Create a new post"}),e.jsx(o,{h:"100%",justifyContent:"space-evenly",wrap:"wrap",gap:"20px",children:Bn.map((t,r)=>e.jsx(me,{href:t.link,w:{base:"45%",md:"30%"},children:e.jsxs(ie,{bg:"#fff",py:"20px",gap:"10px",borderRadius:"15px",children:[e.jsx(ue,{width:"40px",src:t.imageUrl}),e.jsx(x,{fontSize:"20px",color:"#111",fontWeight:"600",children:t.name})]})},r))}),e.jsx(l,{children:e.jsx(Gn,{})})]})})]}),Bn=[{id:1,name:"Image Post",imageUrl:"https://media.djfan.app/images/imagepost.png",link:"/create/image"},{id:2,name:"Video Post",imageUrl:"https://media.djfan.app/images/videopost.png",link:"/create/video"},{id:3,name:"Audio Post",imageUrl:"https://media.djfan.app/images/audiopost.png",link:"/create/audio"},{id:4,name:"Event",link:"/create/event",imageUrl:"https://media.djfan.app/images/tourdate.png"},{id:5,name:"New Product",imageUrl:"https://media.djfan.app/images/product.png",link:"/product"},{id:6,name:"Text Post",imageUrl:"https://media.djfan.app/images/textpost.png",link:"/create/text"}],Gn=()=>{const{data:t}=Re(),r=10,{data:n,fetchNextPage:i,hasNextPage:c,refetch:d}=Nn({pageSize:r}),[a,u]=s.useState(null),{isOpen:h,onOpen:b,onClose:y}=Ne(),C=s.useRef(null),w=()=>{i()},I=async()=>{a&&(await Tn(a.post_id),await d())};return e.jsxs(e.Fragment,{children:[e.jsx(Lt,{dataLength:((n==null?void 0:n.pages.length)??0)*r,next:w,hasMore:c??!1,loader:e.jsx(e.Fragment,{}),endMessage:e.jsx(e.Fragment,{children:((n==null?void 0:n.pages)??[]).flat().length>0?e.jsx(x,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"All posts displayed"}):null}),children:e.jsxs(o,{w:"100%",flexDirection:"column",justifyContent:"center",align:"center",m:"auto",p:"0px",gap:"20px",pb:"50px",mt:"30px",children:[e.jsx(l,{p:"4",bg:"white",borderRadius:"15px",w:"100%",textAlign:"center",children:e.jsx(x,{fontWeight:"700",children:"List of posts"})}),n==null?void 0:n.pages.map((p,k)=>e.jsx(l,{w:"100%",children:p.map(m=>e.jsxs(l,{bg:"white",w:"100%",mb:"40px",p:"8",mt:"10px",borderRadius:"15px",children:[e.jsxs(l,{children:[(a==null?void 0:a.post_id)===(m==null?void 0:m.id)?jt(a.created_at):jt(m.created_at)," ",e.jsx(x,{as:"span",fontStyle:"italic",paddingLeft:"20px",children:(m==null?void 0:m.publish)==0?e.jsxs(e.Fragment,{children:[e.jsx(He,{size:"xs",speed:"1.1s"}),"Processing"]}):"Published"})]}),e.jsx(je,{mt:"10px",onFocus:()=>{(a==null?void 0:a.post_id)!==m.post_id&&u(m)},value:(a==null?void 0:a.post_id)===(m==null?void 0:m.id)?a==null?void 0:a.body:m.body,onChange:U=>{a&&u({...a,body:U.target.value})}}),e.jsxs(we,{mt:"10px",placeholder:"Select privacy option",onFocus:()=>{(a==null?void 0:a.post_id)!==m.post_id&&u(m)},value:(a==null?void 0:a.post_id)===(m==null?void 0:m.id)?a==null?void 0:a.accesslevel_id:m.accesslevel_id,onChange:U=>{a&&u({...a,accesslevel_id:Number(U.target.value)})},children:[e.jsx("option",{value:X.EVERYONE,children:"Everyone"}),e.jsx("option",{value:X.GOLD,children:"GOLD"}),e.jsx("option",{value:X.VIP,children:"VIP"})]}),e.jsxs(ie,{children:[e.jsx(A,{mt:"10px",w:"100%",color:"#fff",colorScheme:"red",onClick:()=>{u(m),b()},children:e.jsx(x,{children:"Delete"})}),(a==null?void 0:a.post_id)===(m==null?void 0:m.id)?e.jsx(A,{mt:"10px",w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:async()=>{try{await Hn(m.post_id,{body:a.body,accesslevel_id:a.accesslevel_id}),await d()}catch(U){console.log(U)}u(null)},children:e.jsx(x,{children:"Save"})}):null,e.jsx(A,{mt:"10px",w:"100%",onClick:()=>{window.open(`https://djfan.app/artists/${t==null?void 0:t.profile_url}`,"_blank")},children:e.jsx(x,{children:"View"})})]})]},m.post_id))},k))]})}),e.jsx(_t,{isOpen:h,leastDestructiveRef:C,onClose:y,children:e.jsx(Ve,{children:e.jsxs(Ft,{children:[e.jsx(Wt,{fontSize:"lg",fontWeight:"bold",children:"Delete Post"}),e.jsxs(Ut,{children:[e.jsx(A,{ref:C,onClick:y,children:"Cancel"}),e.jsx(A,{colorScheme:"red",onClick:async()=>{await I(),y()},ml:3,children:"Delete"})]})]})})})]})};function Vn(){const{data:t,refetch:r}=Re(),n=ce(),[i,c]=s.useState(""),[d,a]=s.useState(""),[u,h]=s.useState(""),[b,y]=s.useState(""),[C,w]=s.useState(""),[I,p]=s.useState(""),[k,m]=s.useState(""),[U,M]=s.useState(""),[B,H]=s.useState(!1);s.useEffect(()=>{c((t==null?void 0:t.website)??""),a((t==null?void 0:t.instagram)??""),h((t==null?void 0:t.soundcloud)??""),y((t==null?void 0:t.mixcloud)??""),w((t==null?void 0:t.facebook)??""),p((t==null?void 0:t.tiktok)??""),m((t==null?void 0:t.youtube)??""),M((t==null?void 0:t.spotify)??"")},[t]);const q=async()=>{var F,E;const g={website:i,instagram:d,soundcloud:u,mixcloud:b,facebook:C,tiktok:I,youtube:k,spotify:U};H(!0);try{(E=(F=(await ke(g)).data)==null?void 0:F.result)!=null&&E.result&&(await r(),n({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(T){console.log(T)}finally{H(!1)}};return e.jsxs(K,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Website"}),e.jsx(P,{type:"text",placeholder:" e.g. artistname.com",value:i,onChange:g=>c(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Instagram Username"}),e.jsx(P,{type:"text",placeholder:"Enter only username (no link)",value:d,onChange:g=>a(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Soundcloud Username"}),e.jsx(P,{type:"text",placeholder:"Enter only username (no link)",value:u,onChange:g=>h(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Mixcloud Username"}),e.jsx(P,{type:"text",placeholder:"Enter only username (no link)",value:b,onChange:g=>y(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Facebook Page Username"}),e.jsx(P,{type:"text",placeholder:"Enter only username (no link)",value:C,onChange:g=>w(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"TikTok Username"}),e.jsx(P,{type:"text",placeholder:"Enter only username (no link)",value:I,onChange:g=>p(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"YouTube Channel"}),e.jsx(P,{type:"text",placeholder:"Enter full link e.g. https://www.youtube.com/...",value:k,onChange:g=>m(g.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Spotify Artist Page"}),e.jsx(P,{type:"text",placeholder:"Enter full link e.g. https://open.spotify/artist...",value:U,onChange:g=>M(g.target.value)})]}),e.jsxs(A,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:q,isLoading:B,children:["UPDATE PROFILE LINKS ",e.jsx(ze,{style:{marginLeft:"5px"}})]})]})}const $n=({profileImage:t,coverPhoto:r})=>{const[n,i]=s.useState(t),[c,d]=s.useState(r),[a,u]=s.useState(null),[h,b]=s.useState(null),y=s.useRef(null),C=s.useRef(null);s.useEffect(()=>{i(t),d(r)},[t,r]);const w=async()=>{if(a){const p=URL.createObjectURL(a);i(p);try{const k=await $t(a);console.log(k)}catch(k){console.log(k)}}},I=async()=>{if(h){const p=URL.createObjectURL(h);d(p);try{const k=await Yt(h);console.log(k)}catch(k){console.log(k)}}};return s.useEffect(()=>{w()},[a]),s.useEffect(()=>{I()},[h]),e.jsxs(o,{direction:{base:"column",md:"row"},gap:{base:"20px",md:"40px"},children:[e.jsx("input",{type:"file",ref:y,style:{display:"none"},onChange:p=>{p.target.files&&p.target.files.length>0&&u(p.target.files[0])}}),e.jsx("input",{type:"file",ref:C,style:{display:"none"},onChange:p=>{p.target.files&&p.target.files.length>0&&b(p.target.files[0])}}),e.jsxs(o,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(l,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Profile Image"}),e.jsx(It,{size:"xl",src:n}),e.jsx(l,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{y.current&&y.current.click()},children:"UPDATE IMAGE"})]}),e.jsxs(o,{direction:"column",gap:"10px",alignItems:"flex-start",children:[e.jsx(l,{fontSize:"16px",fontWeight:"600",lineHeight:"1em",children:"Cover Photo"}),e.jsx(ue,{width:"160px",height:"96px",objectFit:"cover",src:c}),e.jsx(l,{color:"#fff",as:"a",mt:"5px",cursor:"pointer",bg:"#111",fontSize:"10px",fontWeight:"600",px:"8px",py:"6px",borderRadius:"5px",lineHeight:"1em",_hover:{bg:"#8553f4"},onClick:()=>{C.current&&C.current.click()},children:"UPDATE IMAGE"})]})]})};function Yn(){const[t,r]=s.useState([]),{data:n,refetch:i}=Re(),c=ce(),[d,a]=s.useState((n==null?void 0:n.display_name)??""),[u,h]=s.useState(""),[b,y]=s.useState(""),[C,w]=s.useState(""),[I,p]=s.useState(""),[k,m]=s.useState(""),[U,M]=s.useState(""),[B,H]=s.useState(""),[q,g]=s.useState(""),[F,E]=s.useState(""),[T,$]=s.useState(!1),L=async()=>{try{const f=await Vt();r(f)}catch(f){console.log(f)}};s.useEffect(()=>{L()},[]),s.useEffect(()=>{a((n==null?void 0:n.display_name)??""),h((n==null?void 0:n.title)??""),y((n==null?void 0:n.genre)??""),w((n==null?void 0:n.location)??""),p((n==null?void 0:n.country)??""),m((n==null?void 0:n.bookings)??""),M((n==null?void 0:n.management)??""),H((n==null?void 0:n.about_me)??""),g((n==null?void 0:n.cover_photo)??""),E((n==null?void 0:n.profile_picture)??"")},[n]);const Y=async()=>{var _,G;const f={display_name:d,title:u,genre:b,location:C,country:I,bookings:k,management:U,about_me:B};$(!0);try{(G=(_=(await ke(f)).data)==null?void 0:_.result)!=null&&G.result&&(await i(),c({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(Z){console.log(Z)}finally{$(!1)}};return e.jsxs(K,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsx($n,{profileImage:F,coverPhoto:q}),e.jsx(l,{py:"10px",children:e.jsx(fe,{borderColor:"#858585"})}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"DJ Name"}),e.jsx(P,{type:"text",placeholder:"Enter your DJ name",value:d,onChange:f=>a(f.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Title"}),e.jsx(P,{type:"text",placeholder:"e.g. DJ & Producer",value:u,onChange:f=>h(f.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Music Genre"}),e.jsx(P,{type:"text",placeholder:"e.g. Techno, Tech House",value:b,onChange:f=>y(f.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Location"}),e.jsx(P,{type:"text",placeholder:"Enter your location",value:C,onChange:f=>w(f.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Country"}),e.jsx(we,{placeholder:"Select Country",value:I,onChange:f=>p(f.target.value),children:t==null?void 0:t.map((f,_)=>e.jsx("option",{value:f.country,children:f.country},_))})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Bookings Contact"}),e.jsx(P,{type:"text",placeholder:"Enter your bookings contact",value:k,onChange:f=>m(f.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Management Contact"}),e.jsx(P,{type:"text",placeholder:"Enter your management contact",value:U,onChange:f=>M(f.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"About Me"}),e.jsx(je,{placeholder:"Write something about yourself...",value:B,onChange:f=>H(f.target.value)})]}),e.jsxs(A,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:Y,isLoading:T,children:["UPDATE PROFILE ",e.jsx(ze,{style:{marginLeft:"5px"}})]})]})}const Jt=t=>W.post("/dj/me/details",{paypal:t});function qn(){const{data:t,refetch:r}=Ce(),{data:n}=Re(),i=t==null?void 0:t.loginas,{paypal:c}=n??{},[d,a]=s.useState(""),[u,h]=s.useState(""),{isOpen:b,onOpen:y,onClose:C}=Ne(),w=ce(),I=s.useRef(null),[p,k]=s.useState(""),[m,U]=s.useState(!1),[M,B]=s.useState(!1),[H,q]=s.useState(!1);s.useEffect(()=>{a((t==null?void 0:t.first_name)??""),h((t==null?void 0:t.last_name)??"")},[t]),s.useEffect(()=>{c&&k(c)},[c]);const g=async()=>{var Y;const L={first_name:d,last_name:u};q(!0);try{(Y=(await Tt(L)).data)!=null&&Y.result&&(await r(),w({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0}))}catch(f){console.log(f)}finally{q(!1)}},F=async()=>{try{await jn()}catch(L){console.log(L)}},E=async()=>{try{await bn()}catch(L){console.log(L)}},T=async function(){try{await yn()}catch{return null}},$=async()=>{B(!0);try{await Jt(p),w({description:"Successfully saved",status:"success",duration:3e3,isClosable:!0})}catch(L){console.log(L)}finally{B(!1)}};return!i&&e.jsxs(e.Fragment,{children:[e.jsxs(K,{p:"20px",bg:"#fff",mt:"20px",borderRadius:"10px",children:[e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"First Name"}),e.jsx(P,{type:"text",placeholder:" First Name",value:d,onChange:L=>a(L.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Last Name"}),e.jsx(P,{type:"text",placeholder:"Last Name",value:u,onChange:L=>h(L.target.value)})]}),e.jsxs(A,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",onClick:g,isLoading:H,children:["UPDATE PROFILE ",e.jsx(ze,{style:{marginLeft:"5px"}})]}),e.jsx(fe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(o,{flexDirection:"column",justifyContent:"center",gap:"15px",mt:"15px",height:"100%",children:[e.jsxs(v,{children:[e.jsx(D,{children:"Paypal Email"}),e.jsx(P,{type:"text",placeholder:"Enter PayPal Email",value:p,onChange:L=>k(L.target.value)})]}),e.jsxs(se,{gap:"10px",children:[e.jsx(Mt,{checked:m,onChange:L=>U(L.target.checked)}),e.jsx(x,{children:"My email address for payouts is correct"})]}),e.jsx(A,{leftIcon:e.jsx(Nt,{}),_hover:m&&p?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!m||!p,isLoading:M,onClick:$,children:"LINK PAYPAL ACCOUNT"})]}),e.jsx(fe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(A,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:F,children:[e.jsx(zs,{})," Change Email Address"]}),e.jsx(fe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(A,{w:"100%",colorScheme:"pink",bgColor:"rgb(191, 40, 241)",color:"#fff",onClick:E,children:[e.jsx(Rs,{})," Reset Password"]}),e.jsx(fe,{paddingBottom:"6px",paddingTop:"6px"}),e.jsxs(A,{w:"100%",color:"#fff",colorScheme:"red",onClick:y,children:[e.jsx(As,{})," Delete My Account"]})]}),e.jsx(_t,{isOpen:b,leastDestructiveRef:I,onClose:C,children:e.jsx(Ve,{children:e.jsxs(Ft,{children:[e.jsx(Wt,{fontSize:"lg",fontWeight:"bold",children:"Delete My Account"}),e.jsx(Rt,{children:"Are you sure you want to delete your account? You can't undo this action afterwards. All subscriptions will be cancelled automaticly on deletion."}),e.jsxs(Ut,{children:[e.jsx(A,{ref:I,onClick:C,children:"Cancel"}),e.jsx(A,{colorScheme:"red",onClick:()=>{T(),C()},ml:3,children:"Delete"})]})]})})})]})}const Xe={fontSize:{base:"20px",md:"16px"}},et={display:{base:"none",md:"unset"}};function Kn(){const{data:t}=Ce(),r=t==null?void 0:t.loginas;return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",flexDirection:"column",alignItems:"center",children:e.jsxs(ot,{pt:"15px",variant:"soft-rounded",colorScheme:"green",w:{base:"100%",sm:"800px"},px:{base:"10px",sm:"20px"},children:[e.jsx(l,{bg:"white",px:"10px",py:"10px",borderRadius:"10px",children:e.jsxs(it,{children:[e.jsxs(ae,{...Xe,children:["Profile",e.jsx(l,{...et,children:" Settings"})]}),e.jsxs(ae,{...Xe,children:[e.jsx(l,{...et,children:"Profile "})," Links"]}),!r&&e.jsxs(ae,{...Xe,children:["Account ",e.jsx(l,{...et,children:" Settings"})]})]})}),e.jsxs(at,{children:[e.jsx(le,{p:"0",children:e.jsx(Yn,{})}),e.jsx(le,{p:"0",children:e.jsx(Vn,{})}),!r&&e.jsx(le,{p:"0",children:e.jsx(qn,{})})]})]})})]})}const Jn=()=>{const[t,r]=s.useState(xe.SINGLE),{getRootProps:n,getInputProps:i,isDragActive:c,acceptedFiles:d,fileRejections:a}=rt({accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},maxFiles:t===xe.SINGLE?1:void 0}),u=Se(),h=ce(),[b,y]=s.useState(""),[C,w]=s.useState(0),[I,p]=s.useState(!1),[k,m]=s.useState([]),[U,M]=s.useState(void 0),[B,H]=s.useState(""),[q,g]=s.useState(!1),[F,E]=s.useState([]),T=f=>{const _=Math.round(f.loaded*100/(f.total||0));w(_)},$=async()=>{const f=await Le(ve.image);y(f)};s.useEffect(()=>{$()},[]),s.useEffect(()=>{d.length&&b.length&&L()},[d]),s.useEffect(()=>{a.length&&(t===xe.SINGLE?h({description:"Only one file is allowed",status:"error",duration:3e3,isClosable:!0}):h({description:"Please upload only these accepted file types: png, jpg, jpeg, webp",status:"error",duration:3e3,isClosable:!0}))},[a]);const L=async()=>{const f=t===xe.MULTIPLE,_=d.filter(G=>!F.includes(G.name));if(_.length===0){h({description:"File already uploaded",status:"error",duration:3e3,isClosable:!0});return}f&&_.length!==d.length&&h({description:"Some files are already uploaded and will be skipped",status:"warning",duration:3e3,isClosable:!0}),m(_),p(!0);try{for(let G=0;G<_.length;G++){const Z=await De(_[G],b,f?void 0:T),{data:z}=Z;z.result||h({description:z.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0}),f&&w(G/_.length*100),E(ee=>[...ee,_[G].name])}}catch(G){console.log(G)}finally{p(!1),w(0)}},Y=async()=>{const f={body:B,accesslevel_id:U,files:F};g(!0);try{await qe(f,b),h({description:"Post created",status:"success",duration:3e3,isClosable:!0}),u("/create")}catch(_){console.log("err",_)}finally{g(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Ls,{}),e.jsx(x,{fontWeight:"bold",ml:2,children:"Create Image Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(x,{my:"10px",children:"Select post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:t===xe.SINGLE?"#a37cf0":"white",onClick:()=>{r(xe.SINGLE),m(null),E([])},children:"Single Image"}),e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:t===xe.MULTIPLE?"#a37cf0":"white",onClick:()=>{r(xe.MULTIPLE),m(null),E([])},children:"Multiple Images"}),I&&e.jsx(l,{padding:4,children:e.jsx(He,{})})]}),e.jsxs(l,{mt:"20px",children:[e.jsxs(l,{border:c?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:c?"#f5f5f5":"white",...n(),children:[e.jsx("input",{...i()}),e.jsx(x,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are png, jpg, jpeg, webp."})]}),F?e.jsx(e.Fragment,{children:F==null?void 0:F.map((f,_)=>e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(Ie,{onClick:()=>{E(G=>G.filter(Z=>Z!==f))}}),e.jsx(x,{ml:"10px",children:f})]},_))}):null,I?e.jsxs(e.Fragment,{children:[k==null?void 0:k.map((f,_)=>e.jsx(l,{mt:"10px",children:e.jsxs(x,{mb:"10px",children:["Uploading ",f==null?void 0:f.name]})},_)),e.jsx(Pe,{hasStripe:!0,value:C})]}):null]}),e.jsx(je,{mt:"20px",placeholder:"Write something about this post",value:B,onChange:f=>H(f.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(x,{children:"Who can view this post?"}),e.jsxs(we,{mt:"10px",placeholder:"Select privacy option",onChange:f=>M(f.target.value),children:[e.jsx("option",{value:X.EVERYONE,children:"Everyone"}),e.jsx("option",{value:X.GOLD,children:"GOLD"}),e.jsx("option",{value:X.VIP,children:"VIP"})]})]}),U&&(k!=null&&k.length)&&B&&!I?e.jsx(A,{mt:"20px",isLoading:q,colorScheme:"purple",onClick:Y,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>u("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(x,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>u("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ye,{}),e.jsx(x,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Zn=()=>{const t=Se(),r=ce(),[n,i]=s.useState(""),[c,d]=s.useState(void 0),[a,u]=s.useState(""),h=async()=>{const y=await Le(ve.text);i(y)};s.useEffect(()=>{h()},[]);const b=async()=>{const y={body:a,accesslevel_id:c};try{await qe(y,n),r({description:"Post created",status:"success",duration:3e3,isClosable:!0}),t("/")}catch(C){console.log("err",C)}};return e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(_s,{}),e.jsx(x,{fontWeight:"bold",ml:2,children:"Create Text Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(je,{mt:"20px",placeholder:"Write something about this post",value:a,onChange:y=>u(y.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(x,{children:"Who can view this post?"}),e.jsxs(we,{mt:"10px",placeholder:"Select privacy option",onChange:y=>d(y.target.value),children:[e.jsx("option",{value:X.EVERYONE,children:"Everyone"}),e.jsx("option",{value:X.GOLD,children:"GOLD"}),e.jsx("option",{value:X.VIP,children:"VIP"})]})]}),c&&a?e.jsx(A,{mt:"20px",colorScheme:"purple",onClick:b,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(x,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>t("/"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ye,{}),e.jsx(x,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})},Qn=1024*1024*1024,tt=10*1024*1024,Xn=()=>{const{getRootProps:t,getInputProps:r,isDragActive:n,acceptedFiles:i}=rt({accept:{"audio/*":[".mp3",".mpeg",".wav",".mp3",".mpeg",".ogg",".aiff",".flac"]}}),c=Se(),d=ce(),[a,u]=s.useState(J.UPLOAD),[h,b]=s.useState(""),[y,C]=s.useState(0),[w,I]=s.useState(!1),[p,k]=s.useState(null),[m,U]=s.useState(void 0),[M,B]=s.useState(""),[H,q]=s.useState(""),[g,F]=s.useState([]),E=s.useRef(0),[T,$]=s.useState(0),[L,Y]=s.useState(!1),f=j=>{const N=Math.round(j.loaded*100/(j.total||0));C(N)},_=async()=>{const j=await Le(ve.audio);b(j)};s.useEffect(()=>{_()},[]),s.useEffect(()=>{i.length&&h.length&&z()},[i]);const G=j=>{const N=Math.ceil(j.size/tt),Q=[];let V=0;for(let de=0;de<N;de++){const pe=Math.min(V+tt,j.size),_e=j.slice(V,pe);Q.push(_e),V=pe}F(Q),$(N)},Z=async()=>{if(I(!0),(E==null?void 0:E.current)<T){const j=g[E.current];try{await xt(j,h,T,E.current+1,(p==null?void 0:p.name)??""),E.current++,C(Math.round(E.current/T*100)),await Z()}catch(N){console.error("Error uploading chunk:",N)}}else I(!1),C(0),F([]),E.current=0};s.useEffect(()=>{g.length&&(p!=null&&p.name)&&Z()},[g,p]);const z=async()=>{I(!0);try{const j=i[0];if(j.size>Qn)return;if(k(i[0]),j.size<=tt){const N=await De(i[0],h,f),{data:Q}=N;Q.result||d({description:Q.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else G(j)}catch(j){console.log(j)}finally{I(!1),C(0)}},ee=async()=>{const j={body:M,accesslevel_id:m};a===J.EMBED?(j.embedded=1,j.location=H):(j.embedded=0,j.files=[(p==null?void 0:p.name)??""]),Y(!0);try{await qe(j,h),d({description:"Post created",status:"success",duration:3e3,isClosable:!0}),c("/")}catch(N){console.log("err",N)}finally{Y(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsx(l,{height:"calc(100vh - 64px - 52px)",bg:"black",children:e.jsxs(o,{mx:2,flexDirection:"column",height:"100%",children:[e.jsxs(o,{bg:"#30096e",color:"white",alignItems:"center",justifyContent:"center",py:5,width:"100%",children:[e.jsx(Fs,{}),e.jsx(x,{fontWeight:"bold",ml:2,children:"Create Audio Post"})]}),e.jsxs(o,{grow:1,flexDirection:"column",bg:"white",color:"black",p:"2",children:[e.jsx(x,{my:"10px",children:"Select audio post type"}),e.jsxs(o,{height:"min-content",mt:"1",children:[e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",backgroundColor:a===J.EMBED?"#a37cf0":"white",onClick:()=>u(J.EMBED),children:"Embed Audio"}),e.jsx(l,{cursor:"pointer",border:"1px solid #ccc",p:"2",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",backgroundColor:a===J.UPLOAD?"#a37cf0":"white",onClick:()=>u(J.UPLOAD),children:"Upload Audio"}),w&&e.jsx(l,{padding:4,children:e.jsx(He,{})})]}),a===J.UPLOAD?e.jsxs(l,{mt:"20px",children:[e.jsxs(l,{border:n?"1px dashed #30096e":"1px dashed #ccc",borderRadius:"10px",backgroundColor:n?"#f5f5f5":"white",...t(),children:[e.jsx("input",{...r()}),e.jsx(x,{p:"10px",children:"Drag and drop some files here, or click to select files. Allowed file formats are wav, mp3, mpeg, ogg, aiff, flac. Max file size 1Gb."})]}),w?e.jsxs(l,{mt:"10px",children:[e.jsxs(x,{mb:"10px",children:["Uploading ",p==null?void 0:p.name]}),e.jsx(Pe,{hasStripe:!0,value:y})]}):p?e.jsxs(o,{alignItems:"center",mt:"10px",children:[e.jsx(Ie,{onClick:()=>k(null)}),e.jsx(x,{ml:"10px",children:p==null?void 0:p.name})]}):null]}):e.jsx(l,{mt:"10px",children:e.jsx(P,{mt:"10px",placeholder:"Enter URL",value:H,onChange:j=>q(j.target.value)})}),e.jsx(je,{mt:"20px",placeholder:"Write something about this post",value:M,onChange:j=>B(j.target.value)}),e.jsxs(l,{mt:"20px",children:[e.jsx(x,{children:"Who can view this post?"}),e.jsxs(we,{mt:"10px",placeholder:"Select privacy option",onChange:j=>U(j.target.value),children:[e.jsx("option",{value:X.EVERYONE,children:"Everyone"}),e.jsx("option",{value:X.GOLD,children:"GOLD"}),e.jsx("option",{value:X.VIP,children:"VIP"})]})]}),e.jsx(l,{mt:"20px",children:e.jsx(x,{children:"Keep in mind that it my take up to several of minutes to get your post ready for publication, it depends on size, encoding & workload."})}),m&&(a===J.UPLOAD?p:H)&&M&&!w?e.jsx(A,{mt:"20px",isLoading:L,colorScheme:"purple",onClick:ee,children:"Post"}):null]})]})}),e.jsx(l,{as:"nav",role:"navigation",position:"sticky",bottom:"0",zIndex:"docked",bg:"bg-accent",children:e.jsx(o,{bg:"black",w:"100%",display:"flex",justifyContent:"center",children:e.jsxs(o,{maxW:"1024px",w:"100%",alignItems:"center",justifyContent:"space-between",px:{base:"10px",md:"0px"},py:"10px",children:[e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>c("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx($e,{}),e.jsx(x,{ml:1,fontSize:14,children:"Return to Profile"})]})}),e.jsx(A,{ml:{base:"0px",md:"10px"},display:"flex",alignItems:"center",gap:"4px",color:"white",borderRadius:"5px",background:"transparent",_hover:{cursor:"pointer"},border:"none",fontWeight:"600",height:"35px",onClick:()=>c("/create"),children:e.jsxs(o,{fontSize:"1rem",alignItems:"center",children:[e.jsx(Ye,{}),e.jsx(x,{ml:1,fontSize:14,children:"Change Post type"})]})})]})})})]})};function er({members:t,followers:r,monthlyIncome:n}){return e.jsxs(o,{h:"100%",wrap:"wrap",gap:"20px",justifyContent:"space-between",children:[e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#9b5de5",color:"#ffffff",alignItems:"center",lineHeight:"1em",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Total Fans"]}),e.jsx(R,{lineHeight:"1em",fontSize:"32px",children:r})]}),e.jsxs(ne,{alignItems:"center",w:{base:"100%",md:"30%"},gap:"10px",py:"25px",bg:"#ffffff",lineHeight:"1em",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",children:[e.jsx(Ue,{})," Subscribers"]}),e.jsx(R,{lineHeight:"1em",fontSize:"32px",children:t})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"25px",alignItems:"center",lineHeight:"1em",bg:"#ffffff",children:[e.jsx(x,{fontSize:"18px",fontWeight:"600",children:"Membership Income"}),e.jsxs(se,{align:"flex-end",gap:"5px",justifyContent:"center",children:[e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsx(x,{mb:"0px",fontSize:"14px",fontWeight:"600",color:"#9b5de5",children:"per month"})]})]})]})}function tr({membership:t,product:r,total:n}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Membership"]}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(lt,{})," Online Store"]}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(30-days)"})]})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(x,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(30-days)"})]})]})]})}function sr({membership:t,product:r,total:n}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Membership"]}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(lt,{})," Online Store"]}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(365-days)"})]})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(x,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(365-days)"})]})]})]})}function nr({membership:t,product:r,total:n}){return e.jsxs(o,{h:"100%",justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",gap:"20px",children:[e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(Ue,{})," Membership"]}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(t).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["membership income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsxs(x,{fontSize:"18px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",children:[e.jsx(lt,{})," Online Store"]}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(r).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["product sale income ",e.jsx("b",{children:"(All Time)"})]})]}),e.jsxs(ne,{w:{base:"100%",md:"30%"},gap:"10px",py:"15px",alignItems:"center",bg:"#ffffff",children:[e.jsx(x,{fontSize:"16px",fontWeight:"600",children:"Total Income"}),e.jsxs(R,{lineHeight:"1em",fontSize:"32px",children:["$",Number(n).toFixed(2)]}),e.jsxs(x,{fontSize:"14px",children:["combined income ",e.jsx("b",{children:"(All Time)"})]})]})]})}const rr=()=>W.get("/dj/me/statistics").then(t=>t.data.data),or=()=>Ee({queryKey:["userStatistics"],queryFn:()=>rr()});function ir(){const{data:t}=or();return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",maxW:"1000px",w:"100%",pt:"25px",px:"15px",children:[e.jsxs(o,{flexDirection:"column",gap:"20px",children:[e.jsxs(K,{gap:"10px",children:[e.jsx(R,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Statistics"}),e.jsx(x,{lineHeight:"1em",alignSelf:"flex-start",children:"Here are your statistics at a glance..."})]}),e.jsx(er,{members:((t==null?void 0:t.gold)??0)+((t==null?void 0:t.vip)??0),followers:(t==null?void 0:t.followers)??0,monthlyIncome:(t==null?void 0:t.monthly_income)??0})]}),e.jsxs(o,{flexDirection:"column",gap:"15px",children:[e.jsx(R,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Earnings"}),e.jsxs(ot,{variant:"soft-rounded",colorScheme:"green",w:"100%",children:[e.jsxs(it,{children:[e.jsx(ae,{p:"5px",px:"10px",children:"Last 30 Days"}),e.jsx(ae,{p:"5px",px:"10px",children:"Last 365 Days"}),e.jsx(ae,{p:"5px",px:"10px",children:"All Time"})]}),e.jsxs(at,{children:[e.jsx(le,{p:"0",pt:"20px",children:e.jsx(tr,{membership:(t==null?void 0:t.subscription_last_30_days)??0,product:(t==null?void 0:t.products_last_30_days)??0,total:(t==null?void 0:t.total_last_30_days)??0})}),e.jsx(le,{p:"0",pt:"20px",children:e.jsx(sr,{membership:(t==null?void 0:t.subscription_last_365_days)??0,product:(t==null?void 0:t.products_last_365_days)??0,total:(t==null?void 0:t.total_last_365_days)??0})}),e.jsx(le,{p:"0",pt:"20px",children:e.jsx(nr,{membership:(t==null?void 0:t.subscription_last_all_days)??0,product:(t==null?void 0:t.products_last_all_days)??0,total:(t==null?void 0:t.total_last_all_days)??0})})]})]})]})]})})]})}function ar({payout:t}){return e.jsx(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",border:"1px solid #111111",children:e.jsx(ct,{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",overflowY:"auto",fontSize:"16px",children:e.jsxs(dt,{variant:"simple",overflow:"auto",maxH:"calc(100vh - 260px)",children:[e.jsx(Ht,{position:"sticky",top:"0",color:"#fff",bg:"black",children:e.jsxs(Me,{children:[e.jsx(ye,{color:"white",children:"Amount"}),e.jsx(ye,{color:"white",children:"Date"}),e.jsx(ye,{color:"white",children:"Method"}),e.jsx(ye,{color:"white",children:"Code"})]})}),e.jsx(pt,{children:t.map(r=>e.jsxs(Me,{children:[e.jsxs(he,{children:["$",r.amount]}),e.jsx(he,{children:Ws(new Date(r.payout_date)).format("DD/MM/YYYY")}),e.jsx(he,{children:"Paypal"}),e.jsx(he,{children:r.payout_code})]},r.id))})]})})})}const lr=()=>W.get("/dj/me/payout").then(t=>t.data.data),cr=()=>Ee({queryKey:["payout"],queryFn:()=>lr()});function dr(){const{isOpen:t,onOpen:r,onClose:n}=Ne(),{data:i}=cr(),[c,d]=s.useState(""),[a,u]=s.useState(!1),[h,b]=s.useState(!1);s.useEffect(()=>{i!=null&&i.paypal&&d(i.paypal)},[i]);const y=async()=>{b(!0);try{await Jt(c)}catch(C){console.log(C)}finally{b(!1)}};return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:{base:"15px",md:"15px"},children:[e.jsxs(K,{gap:"10px",children:[e.jsx(R,{fontSize:"30px",lineHeight:"1em",alignSelf:"flex-start",children:"Payouts"}),e.jsx(x,{lineHeight:"1em",alignSelf:"flex-start",children:"View and keep track of your payouts."})]}),e.jsxs(o,{h:"100%",justifyContent:"space-between",wrap:"wrap",gap:"30px",children:[e.jsxs(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",w:{base:"100%",md:"60%"},flexDir:"column",children:[e.jsx(o,{bg:"#9b5de5",px:"20px",py:"6px",children:e.jsx(x,{fontSize:"18px",fontWeight:"600",color:"white",children:"Available for Payout"})}),e.jsxs(o,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:"5px",height:"100%",p:"20px",children:[e.jsx(x,{fontWeight:"600",children:"Balance"}),e.jsxs(R,{children:["$",(i==null?void 0:i.available_payout)??"0.00"]}),e.jsx(x,{children:"This is the amount you currently have in earnings, available for your next payout."})]})]}),e.jsxs(o,{bg:"#ffffff",borderRadius:"10px",overflow:"hidden",flexDir:"column",w:{base:"100%",md:"35%"},children:[e.jsx(o,{bg:"#111111",px:"20px",py:"8px",children:e.jsx(x,{fontSize:"18px",fontWeight:"600",color:"white",children:"Payout Account"})}),e.jsxs(o,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px",height:"100%",p:"20px",children:[e.jsx(A,{leftIcon:e.jsx(Us,{}),bg:"#9b5de5",borderColor:"#9b5de5",color:"#ffffff",_hover:{bg:"#5DE59A",color:"#ffffff",borderColor:"#5DE59A"},children:"WITHDRAW EARNINGS"}),e.jsx(P,{type:"text",placeholder:"Enter PayPal Email",value:c,onChange:C=>d(C.target.value)}),e.jsxs(se,{gap:"10px",children:[e.jsx(Mt,{checked:a,onChange:C=>u(C.target.checked)}),e.jsx(x,{children:"My email address for payouts is correct"})]}),e.jsx(A,{leftIcon:e.jsx(Nt,{}),_hover:a&&c?{bg:"#111111",color:"#ffffff",borderColor:"#111111"}:{},isDisabled:!a||!c,isLoading:h,onClick:y,children:"LINK PAYPAL ACCOUNT"}),e.jsxs(se,{color:"#111",gap:"5px",children:[e.jsx(Ms,{}),e.jsx(me,{fontWeight:"600",onClick:r,children:"View Tutorial"})]}),e.jsxs(Ns,{onClose:n,isOpen:t,isCentered:!0,children:[e.jsx(Ve,{}),e.jsx(Hs,{mx:"20px",children:e.jsxs(K,{p:"20px",gap:"15px",children:[e.jsx(l,{as:"a",position:"absolute",top:"10px",right:"10px",onClick:n,children:e.jsx(Ge,{fontSize:"20px"})}),e.jsx(R,{fontSize:{base:"16px",md:"20px"},lineHeight:"1em",textAlign:"center",children:"How to connect your payout account"}),e.jsx(Ts,{width:"100%",height:"220px",children:e.jsx("iframe",{title:"Payout Tutorial",src:"https://www.youtube.com/embed/o3JKJlsGvFw",allowFullScreen:!0})}),e.jsxs(se,{justifyContent:"center",zIndex:"1",children:[e.jsx(me,{bg:"#9b5de5",href:"/",color:"#ffffff",fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",_hover:{bg:"#111111"},_focus:{boxShadow:"none"},children:"More Tutorials"}),e.jsxs(me,{fontWeight:"600",fontSize:"14px",lineHeight:"1em",py:"8px",px:"10px",borderRadius:"5px",display:"flex",gap:"5px",href:"/",children:["Contact Support",e.jsx(ze,{fontSize:"12px"})]})]})]})})]})]})]})]}),e.jsxs(K,{gap:"15px",children:[e.jsx(R,{fontSize:"24px",alignSelf:"flex-start",children:"Recent Payouts"}),e.jsx(ar,{payout:(i==null?void 0:i.payouts)??[]})]})]})})]})}function pr(){return e.jsxs(se,{justifyContent:"space-between",mt:"15px",w:{base:"100%",sm:"500px"},children:[e.jsxs(se,{gap:"4px",children:[e.jsx(Et,{fontSize:"14px"}),e.jsx(l,{as:"a",href:"/create",fontWeight:"500",fontSize:"16px",lineHeight:"1em",children:"Return to Profile"})]}),e.jsxs(Os,{children:[e.jsx(Bs,{fontWeight:"500",children:e.jsxs(se,{gap:"6px",children:[e.jsx(l,{fontSize:"16px",lineHeight:"1em",children:"Change Post Type"}),e.jsx(Gs,{fontSize:"18px",color:"#111"})]})}),e.jsxs(Vs,{children:[e.jsx(We,{as:"a",href:"/imagepost",children:"Image Post"}),e.jsx(We,{as:"a",href:"/videopost",children:"Video Post"}),e.jsx(We,{as:"a",href:"/audiopost",children:"Audio Post"}),e.jsx(We,{as:"a",href:"/tourdate",children:"Tour Date"}),e.jsx(We,{as:"a",href:"/product",children:"New Product"})]})]})]})}const xr=async(t,r)=>await W.post(`/dj/event/${r}`,t),hr=()=>{const t=Se(),r=ce(),[n,i]=s.useState(""),[c,d]=s.useState(0),[a,u]=s.useState(!1),[h,b]=s.useState(""),[y,C]=s.useState(""),[w,I]=s.useState(""),[p,k]=s.useState(""),[m,U]=s.useState(""),[M,B]=s.useState(""),[H,q]=s.useState(""),[g,F]=s.useState(null),[E,T]=s.useState(""),$=s.useRef(null),[L,Y]=s.useState(!1),f=z=>{const ee=Math.round(z.loaded*100/(z.total||0));d(ee)},_=async()=>{const z=await Le(ve.event);i(z)};s.useEffect(()=>{_()},[]);const G=async z=>{u(!0);try{await De(z,n,f)}catch(ee){console.log("err",ee)}finally{u(!1),d(0)}};s.useEffect(()=>{g&&G(g)},[g]);const Z=async()=>{var ee;const z={event_name:h,event_date:w,start_time:p,end_time:m,description:y,link_buy_tickets:E,artwork:(g==null?void 0:g.name)??"",venue:M,city:H};Y(!0);try{(ee=(await xr(z,n)).data)!=null&&ee.result&&(Y(!1),r({title:"Event created.",status:"success",duration:3e3,isClosable:!0}),t("/"))}catch(j){console.log("err",j)}};return e.jsx(e.Fragment,{children:e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsxs(o,{flexDirection:"column",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:[e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(R,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Tour Date"})}),e.jsxs(K,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Event Name"}),e.jsx(P,{type:"text",value:h,onChange:z=>b(z.target.value),placeholder:"Enter name of event"})]}),e.jsxs(v,{mb:4,isRequired:!0,children:[e.jsx(D,{children:"Event Description"}),e.jsx(je,{value:y,onChange:z=>C(z.target.value),placeholder:"Write something about this event..."})]}),e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Release Date"}),e.jsx(P,{type:"date",value:w,onChange:z=>I(z.target.value),placeholder:"Select a date"})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Start Time"}),e.jsx(P,{type:"time",value:p,onChange:z=>k(z.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"End Time"}),e.jsx(P,{type:"time",value:m,onChange:z=>U(z.target.value)})]}),e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Venue"}),e.jsx(P,{type:"text",placeholder:"e.g. Pacha",value:M,onChange:z=>B(z.target.value)})]}),e.jsxs(v,{mb:4,isRequired:!0,children:[e.jsx(D,{children:"City / Location"}),e.jsx(P,{type:"text",placeholder:"e.g. London or Ibiza",value:H,onChange:z=>q(z.target.value)})]}),e.jsxs(v,{isRequired:!0,children:[e.jsx(D,{children:"Event Artwork"}),e.jsx(P,{ref:z=>$.current=z,p:"2px",type:"file",accept:"image/*",border:"0px",onChange:z=>{z.target.files&&F(z.target.files[0])}})]}),a?e.jsxs(l,{mb:4,children:[e.jsxs(x,{children:["Uploading ",g==null?void 0:g.name]}),e.jsx(Pe,{hasStripe:!0,value:c})]}):g?e.jsx(e.Fragment,{children:e.jsxs(o,{alignItems:"center",mb:4,children:[e.jsx(Ie,{cursor:"pointer",onClick:()=>{F(null),$.current&&($.current.value="")}}),e.jsx(x,{ml:"10px",children:g==null?void 0:g.name})]})}):null,e.jsxs(v,{mb:4,isRequired:!0,children:[e.jsx(D,{children:"Link to book or buy tickets"}),e.jsx(P,{type:"url",placeholder:"https://",value:E,onChange:z=>T(z.target.value)})]}),e.jsxs(A,{type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:L,onClick:Z,isDisabled:!h||!y||!w||!M||!H||!g||!E,children:["CREATE EVENT"," ",e.jsx(ze,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]}),e.jsx(pr,{})]})})]})})},ur=({fan:t})=>e.jsxs(Me,{children:[e.jsx(he,{children:t.name}),e.jsx(he,{children:t.username}),e.jsx(he,{children:t.date})]}),nt=({children:t})=>e.jsx(ct,{children:e.jsxs(dt,{variant:"simple",children:[e.jsx(Ht,{children:e.jsxs(Me,{children:[e.jsx(ye,{children:"Name"}),e.jsx(ye,{children:"Username"}),e.jsx(ye,{children:"Joined"})]})}),e.jsx(pt,{children:t})]})});nt.Row=ur;const fr=t=>{const r=n=>W.get("/dj/me/fans",{params:{_start:(n-1)*t.pageSize,_limit:t.pageSize,_type:t.type}}).then(i=>i.data);return At({queryKey:["fans",t],queryFn:({pageParam:n=1})=>r(n),keepPreviousData:!0,getNextPageParam:(n,i)=>n.length>0&&n.length===t.pageSize?i.length+1:void 0})};function gr(){const[r,n]=s.useState(Kt.ALL),{data:i,fetchNextPage:c,hasNextPage:d,isLoading:a}=fr({pageSize:15,type:r}),u=()=>e.jsx(l,{height:"5rem",display:"flex",justifyContent:"center",p:2,children:e.jsx($s,{isIndeterminate:!0})}),h=()=>e.jsx(Lt,{dataLength:((i==null?void 0:i.pages.length)??0)*15,next:c,hasMore:d??!1,loader:e.jsx(u,{}),children:a?e.jsx(u,{}):e.jsx(nt,{children:i==null?void 0:i.pages.map(b=>b.map(y=>e.jsx(nt.Row,{fan:y},y.username)))})});return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",flexDirection:"column",children:e.jsxs(o,{direction:"column",maxW:"1000px",px:{base:"15px",md:"25px"},w:"100%",alignSelf:"center",gap:"15px",pt:"15px",children:[e.jsx(x,{fontSize:"28px",fontWeight:"bold",children:"Your Fans"}),e.jsxs(ot,{variant:"unstyled",bg:"white",borderRadius:"5px",overflow:"hidden",onChange:b=>{n(b)},children:[e.jsxs(it,{bg:"#111",color:"#fff",children:[e.jsx(ae,{...Te,children:"All"}),e.jsx(ae,{...Te,children:"Followers"}),e.jsx(ae,{...Te,children:"Gold"}),e.jsx(ae,{...Te,children:"VIP"})]}),e.jsxs(at,{children:[e.jsx(le,{p:"0",children:h()}),e.jsx(le,{p:"0",children:h()}),e.jsx(le,{p:"0",children:h()}),e.jsx(le,{p:"0",children:h()})]})]})]})})]})}const Te={fontSize:"20px",fontWeight:"600",_selected:{color:"white",background:"#8338ec"}},mr=({fileType:t,tooltipDescription:r})=>e.jsx(Ys,{label:r,children:e.jsx(l,{color:"#fff",bg:"#9b5de5",borderRadius:"5px",px:"5px",py:"3px",fontSize:"12px",lineHeight:"1em",children:t})}),jr=()=>{const t=[{type:"mp3",description:"MP3 audio format"},{type:"flac",description:"Free Lossless Audio Codec"},{type:"aiff",description:"Audio Interchange File Format"},{type:"aifc",description:"Compressed Audio Interchange File"},{type:"wav",description:"Waveform Audio File Format"}];return e.jsxs(K,{children:[e.jsxs(se,{children:[e.jsxs(l,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Allowed file types"}),":"]}),t.map(r=>e.jsx(mr,{fileType:r.type,tooltipDescription:r.description},r.type))]}),e.jsxs(l,{fontSize:"14px",lineHeight:"1em",children:[e.jsx("b",{children:"Maximum file size"}),": 1Gb"]})]})},br=async(t,r)=>await W.post(`/dj/product/audio/${r}`,t),bt=1*1024*1024*1024,st=10*1024*1024;function yr(){const t=Se(),r=ce(),[n,i]=s.useState(""),[c,d]=s.useState(""),[a,u]=s.useState(""),[h,b]=s.useState(null),[y,C]=s.useState(""),[w,I]=s.useState(""),[p,k]=s.useState(""),[m,U]=s.useState(""),[M,B]=s.useState(""),[H,q]=s.useState(""),[g,F]=s.useState(null),E=s.useRef(null),T=s.useRef(null),[$,L]=s.useState(!1),[Y,f]=s.useState(0),[_,G]=s.useState(!1),[Z,z]=s.useState(0),[ee,j]=s.useState(!1),[N,Q]=s.useState(null),[V,de]=s.useState(null),[pe,_e]=s.useState([]),be=s.useRef(0),[Ke,Zt]=s.useState(0),Qt=S=>{const O=Math.round(S.loaded*100/(S.total||0));f(O)},Xt=S=>{const O=Math.round(S.loaded*100/(S.total||0));z(O)},es=async()=>{const S=await Le(ve.product);i(S)};s.useEffect(()=>{es()},[]);const ts=S=>{const O=Math.ceil(S.size/st),te=[];let Je=0;for(let ut=0;ut<O;ut++){const ft=Math.min(Je+st,S.size),os=S.slice(Je,ft);te.push(os),Je=ft}_e(te),Zt(O)};s.useEffect(()=>{pe.length&&(V!=null&&V.name)&&ht()},[pe,V]);const ht=async()=>{if(j(!0),(be==null?void 0:be.current)<Ke){const S=pe[be.current];try{await xt(S,n,Ke,be.current+1,(V==null?void 0:V.name)??""),be.current++,z(Math.round(be.current/Ke*100)),await ht()}catch(O){console.error("Error uploading chunk:",O)}}else j(!1),z(0)},ss=async S=>{j(!0);try{if(!S||S.size>bt)return;if(de(S),S.size<=st){const O=await De(S,n,Xt),{data:te}=O;te.result||r({description:te.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}else ts(S)}catch(O){console.error("Error uploading audio:",O)}finally{j(!1),z(0)}};s.useEffect(()=>{g&&ss(g)},[g]);const ns=async S=>{G(!0);try{if(!S)return;Q(S);const O=await De(S,n,Qt),{data:te}=O;te.result||r({description:te.message??"Error uploading file",status:"error",duration:3e3,isClosable:!0})}catch(O){console.error("Error uploading artwork:",O)}finally{G(!1),f(0)}};s.useEffect(()=>{h&&ns(h)},[h]);const rs=async()=>{var O;L(!0);const S={name:c,description:a,artwork:(h==null?void 0:h.name)??"",price:y.toString(),genre:w,release_date:p,label:m,artist:M,filename:H,download:(g==null?void 0:g.name)??""};try{(O=(await br(S,n)).data)!=null&&O.result&&(r({description:"Product created",status:"success",duration:3e3,isClosable:!0}),t("/create"))}catch(te){console.error("Error creating product:",te)}finally{L(!1)}};return e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",justifyContent:"center",children:e.jsx(o,{flexDirection:"column",gap:"35px",w:"100%",maxW:"1000px",pt:"25px",px:"15px",alignItems:"center",children:e.jsxs(o,{gap:"10px",bg:"#fff",flexDirection:"column",w:{base:"100%",sm:"500px"},borderRadius:"10px",overflow:"hidden",children:[e.jsx(o,{background:"#300a6e",justifyContent:"center",children:e.jsx(R,{color:"#fff",fontSize:"20px",display:"flex",alignItems:"center",gap:"6px",py:"15px",children:"Create Product"})}),e.jsxs(K,{px:"20px",pt:"10px",pb:"20px",children:[e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Release Name"}),e.jsx(P,{type:"text",value:c,placeholder:"Name of Release / Track",onChange:S=>d(S.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Description"}),e.jsx(je,{value:a,placeholder:"Write something about this release",onChange:S=>u(S.target.value)})]}),e.jsxs(v,{isRequired:!0,children:[e.jsx(D,{children:"Release Artwork"}),e.jsx(P,{type:"file",accept:"image/*",border:"0px",p:"2px",ref:S=>E.current=S,onChange:S=>{if(S.target.files){const O=S.target.files[0];b(O)}else b(null),Q(null)}})]}),_?e.jsxs(l,{children:[e.jsxs(x,{mb:"10px",children:["Uploading ",N==null?void 0:N.name]}),e.jsx(Pe,{hasStripe:!0,value:Y})]}):N?e.jsxs(o,{alignItems:"center",children:[e.jsx(Ie,{onClick:()=>{Q(null),E.current&&(E.current.value="")}}),e.jsx(x,{ml:"10px",children:N==null?void 0:N.name})]}):null,e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Price ($ USD)"}),e.jsx(qs,{value:y,onChange:S=>C(S),precision:2,children:e.jsx(Ks,{placeholder:"e.g. 2.00",textAlign:"right"})})]}),e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Genre"}),e.jsx(P,{type:"text",value:w,onChange:S=>I(S.target.value),placeholder:"e.g. Tech House"})]}),e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Release Date"}),e.jsx(P,{type:"date",value:p,placeholder:"Select a date",onChange:S=>k(S.target.value)})]}),e.jsxs(v,{isRequired:!0,mb:4,children:[e.jsx(D,{children:"Record Label"}),e.jsx(P,{type:"text",placeholder:"Name of Record Label",value:m,onChange:S=>U(S.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Featured Artists"}),e.jsx(P,{type:"text",placeholder:"All Featured Artists",value:M,onChange:S=>B(S.target.value)})]}),e.jsxs(v,{mb:4,children:[e.jsx(D,{children:"Downloadable File Name"}),e.jsx(P,{type:"text",placeholder:"e.g. song-name.wav",value:H,onChange:S=>q(S.target.value)})]}),e.jsxs(v,{isRequired:!0,children:[e.jsx(D,{children:"Downloadable Track File"}),e.jsx(P,{type:"file",accept:".mp3,.flac,.aiff,.aifc,.wav",border:"0px",p:"2px",ref:S=>T.current=S,onChange:S=>{var O;if(S.target.files){const te=(O=S.target.files)==null?void 0:O[0];if(!te)return;if(te.size>bt){S.target.value="";return}F(te)}else F(null),de(null)}})]}),ee?e.jsx(e.Fragment,{children:e.jsxs(l,{children:[e.jsxs(x,{mb:"10px",children:["Uploading ",V==null?void 0:V.name]}),e.jsxs(x,{as:"span",paddingLeft:"10px",children:[" ",e.jsx(He,{})," "]}),e.jsx(Pe,{hasStripe:!0,value:Z})]})}):V?e.jsxs(o,{alignItems:"center",children:[e.jsx(Ie,{onClick:()=>{de(null),T.current&&(T.current.value="")}}),e.jsx(x,{ml:"10px",children:V==null?void 0:V.name})]}):null,e.jsx(jr,{}),e.jsxs(A,{mt:4,type:"submit",background:"#300a6e",color:"#fff",fontSize:"18px",_hover:{background:"#111"},height:"45px",isLoading:$,onClick:rs,isDisabled:!c||!h||!y||!w||!p||!m||!g||_||ee,children:["CREATE PRODUCT"," ",e.jsx(ze,{fontSize:"14px",style:{marginLeft:"5px"}})]})]})]})})})]})}const wr=async()=>{const t=await W.get("/dj/partner_artist"),{data:r}=t;return r??[]},Sr=()=>Ee({queryKey:["partner-artists"],queryFn:()=>wr()}),Cr=(t,r=300)=>{const[n,i]=s.useState(t);return s.useEffect(()=>{const c=setTimeout(()=>{i(t)},r);return()=>clearTimeout(c)},[t]),n},vr=async t=>{var n;return((n=(await W.get(`/dj/search?query=${t}`)).data)==null?void 0:n.result)??[]};function kr(){const[t,r]=s.useState(""),[n,i]=s.useState([]),c=Cr(t),{isOpen:d,onToggle:a,onClose:u}=Ne(),h=s.useRef(null),b=w=>{r(w)};s.useEffect(()=>{c.length>2?vr(c).then(w=>{i(w)}):i([])},[c]),s.useEffect(()=>{d&&setTimeout(()=>{var w;(w=h.current)==null||w.focus()},50)},[d]);const y=w=>{w.key==="Enter"&&u()},C=async w=>{try{const I=await W.get(`/dj/loginas/${w.user_key}`),{data:p}=I;p.result&&(u(),window.location.href="/")}catch(I){console.log(I)}};return e.jsx(o,{gap:5,children:e.jsxs(vt,{isOpen:d,onClose:u,children:[e.jsx(kt,{children:e.jsxs(ge,{w:{base:"100%",sm:"200px",md:"250px"},onClick:a,children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(zt,{as:Js,color:"on-accent",boxSize:"6"})}),e.jsx(P,{ref:h,placeholder:"Search",variant:"filled",value:t,onChange:w=>b(w.target.value),onKeyDown:y,style:{backgroundColor:"white"}})]})}),e.jsx(Pt,{w:{base:"100%",sm:"20px",md:"250px"},display:t.length?"block":"none",children:e.jsx(Zs,{children:e.jsx(o,{direction:"column",children:n&&(n==null?void 0:n.map((w,I)=>e.jsx(x,{cursor:"pointer",_hover:{backgroundColor:"gray.200"},onClick:async()=>await C(w),children:w.display_name},I)))})})})]})})}const Pr=()=>{var c;const{data:t}=Sr(),{data:r}=Ce(),n=(r==null?void 0:r.admin)||((c=r==null?void 0:r.me)==null?void 0:c.admin)||!1,i=Object.values(t||{});return s.useEffect(()=>{i&&console.log("parsedArtists",i)}),e.jsxs(o,{w:"100%",h:"100%",minH:"100vh",flexDirection:"column",bg:"#ececec",pb:"50px",children:[e.jsx(re,{}),e.jsx(o,{w:"100%",h:"100%",justifyContent:"center",children:n&&e.jsx(l,{mt:"15px",children:e.jsx(kr,{})})}),e.jsx(o,{w:"100%",h:"100%",justifyContent:"center",children:t&&e.jsx(ct,{children:e.jsx(dt,{variant:"simple",children:e.jsx(pt,{children:i.map(d=>e.jsxs(Me,{children:[e.jsx(he,{children:e.jsx(Qs,{src:`https://files.djfan.app/${(d==null?void 0:d.profile_picture)??""}`,h:"full",w:"100%",maxH:"100px",objectFit:"cover",borderRadius:5})}),e.jsxs(he,{children:[e.jsx("div",{style:{paddingBottom:"10px"},children:d.display_name}),e.jsx(A,{colorScheme:"purple",size:"sm",onClick:async()=>{const a=await W.get(`/dj/loginas/${d.user_id}`),{data:u}=a;window.location.href="/",u.result?console.log(u.result):console.log(u.message)},children:"Login as"})]})]},d.id))})})})})]})},Ir=Xs([{path:"/",element:e.jsx(rn,{}),errorElement:e.jsx(on,{}),children:[{element:e.jsx(Ln,{}),path:"",children:[{path:"/",element:e.jsx(Wn,{})},{path:"/partners",element:e.jsx(Pr,{})},{path:"/create",children:[{path:"",element:e.jsx(On,{})},{path:"/create/video",element:e.jsx(Mn,{})},{path:"/create/image",element:e.jsx(Jn,{})},{path:"/create/audio",element:e.jsx(Xn,{})},{path:"/create/text",element:e.jsx(Zn,{})},{path:"/create/event",element:e.jsx(hr,{})}]},{path:"/product",element:e.jsx(yr,{})},{path:"/settings",element:e.jsx(Kn,{})},{path:"/earnings",element:e.jsx(ir,{})},{path:"/payouts",element:e.jsx(dr,{})},{path:"/fans",element:e.jsx(gr,{})}]},{path:"/create-account",element:e.jsx(Gt,{children:e.jsx(qt,{})})}]}]),Dr=new en({defaultOptions:{queries:{retry:3,cacheTime:3e5,staleTime:20*1e3}}});function Er(){return e.jsx(tn,{client:Dr,children:e.jsx(Dt,{children:e.jsx(sn,{router:Ir})})})}nn.createRoot(document.getElementById("root")).render(e.jsx(St.StrictMode,{children:e.jsx(Er,{})}));
